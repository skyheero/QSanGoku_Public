function t(t,e){const n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl"),n=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(t){if(_(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=r(S(i)?s(i):i);if(o)for(const t in o)e[t]=o[t]}return e}if(N(t))return t}const i=/;(?![^(]*\))/g,o=/:(.+)/;function s(t){const e={};return t.split(i).forEach(t=>{if(t){const n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function a(t){let e="";if(S(t))e=t;else if(_(t))for(let n=0;n<t.length;n++)e+=a(t[n])+" ";else if(N(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const u=t=>null==t?"":N(t)?JSON.stringify(t,c,2):String(t),c=(t,e)=>E(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[e,n])=>(t[e+" =>"]=n,t),{})}:I(e)?{[`Set(${e.size})`]:[...e.values()]}:!N(e)||_(e)||x(e)?e:String(e),l={},h=[],f=()=>{},p=()=>!1,d=/^on[^a-z]/,v=t=>d.test(t),g=t=>t.startsWith("onUpdate:"),m=Object.assign,y=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},b=Object.prototype.hasOwnProperty,w=(t,e)=>b.call(t,e),_=Array.isArray,E=t=>"[object Map]"===D(t),I=t=>"[object Set]"===D(t),T=t=>"function"==typeof t,S=t=>"string"==typeof t,A=t=>"symbol"==typeof t,N=t=>null!==t&&"object"==typeof t,k=t=>N(t)&&T(t.then)&&T(t.catch),C=Object.prototype.toString,D=t=>C.call(t),x=t=>"[object Object]"===D(t),O=t=>S(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,L=t("key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),R=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},P=/-(\w)/g,U=R(t=>t.replace(P,(t,e)=>e?e.toUpperCase():"")),M=/\B([A-Z])/g,F=R(t=>t.replace(M,"-$1").toLowerCase()),V=R(t=>t.charAt(0).toUpperCase()+t.slice(1)),j=(t,e)=>t!==e&&(t==t||e==e),B=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},q=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},G=t=>{const e=parseFloat(t);return isNaN(e)?t:e},z=new WeakMap,H=[];let W;const Q=Symbol(""),K=Symbol("");function Y(t,e=l){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!H.includes(n)){$(n);try{return nt(),H.push(n),W=n,t()}finally{H.pop(),rt(),W=H[H.length-1]}}};return n.id=J++,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function X(t){t.active&&($(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let J=0;function $(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Z=!0;const tt=[];function et(){tt.push(Z),Z=!1}function nt(){tt.push(Z),Z=!0}function rt(){const t=tt.pop();Z=void 0===t||t}function it(t,e,n){if(!Z||void 0===W)return;let r=z.get(t);r||z.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(W)||(i.add(W),W.deps.push(i))}function ot(t,e,n,r,i,o){const s=z.get(t);if(!s)return;const a=new Set,u=t=>{t&&t.forEach(t=>{(t!==W||t.options.allowRecurse)&&a.add(t)})};if("clear"===e)s.forEach(u);else if("length"===n&&_(t))s.forEach((t,e)=>{("length"===e||e>=r)&&u(t)});else switch(void 0!==n&&u(s.get(n)),e){case"add":_(t)?O(n)&&u(s.get("length")):(u(s.get(Q)),E(t)&&u(s.get(K)));break;case"delete":_(t)||(u(s.get(Q)),E(t)&&u(s.get(K)));break;case"set":E(t)&&u(s.get(Q))}a.forEach(t=>{t.options.scheduler?t.options.scheduler(t):t()})}const st=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(A)),at=ft(),ut=ft(!1,!0),ct=ft(!0),lt=ft(!0,!0),ht={};function ft(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?Vt:Ft).get(n))return n;const o=_(n);if(o&&w(ht,r))return Reflect.get(ht,r,i);const s=Reflect.get(n,r,i);if(A(r)?st.has(r):"__proto__"===r||"__v_isRef"===r)return s;if(t||it(n,0,r),e)return s;if(Yt(s)){return!o||!O(r)?s.value:s}return N(s)?t?qt(s):Bt(s):s}}["includes","indexOf","lastIndexOf"].forEach(t=>{const e=Array.prototype[t];ht[t]=function(...t){const n=Qt(this);for(let t=0,e=this.length;t<e;t++)it(n,0,t+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Qt)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{const e=Array.prototype[t];ht[t]=function(...t){et();const n=e.apply(this,t);return nt(),n}});function pt(t=!1){return function(e,n,r,i){const o=e[n];if(!t&&(r=Qt(r),!_(e)&&Yt(o)&&!Yt(r)))return o.value=r,!0;const s=_(e)&&O(n)?Number(n)<e.length:w(e,n),a=Reflect.set(e,n,r,i);return e===Qt(i)&&(s?j(r,o)&&ot(e,"set",n,r):ot(e,"add",n,r)),a}}const dt={get:at,set:pt(),deleteProperty:function(t,e){const n=w(t,e),r=(t[e],Reflect.deleteProperty(t,e));return r&&n&&ot(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return A(e)&&st.has(e)||it(t,0,e),n},ownKeys:function(t){return it(t,0,Q),Reflect.ownKeys(t)}},vt={get:ct,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},gt=m({},dt,{get:ut,set:pt(!0)}),mt=(m({},vt,{get:lt}),t=>N(t)?Bt(t):t),yt=t=>N(t)?qt(t):t,bt=t=>t,wt=t=>Reflect.getPrototypeOf(t);function _t(t,e,n=!1,r=!1){const i=Qt(t=t.__v_raw),o=Qt(e);e!==o&&!n&&it(i,0,e),!n&&it(i,0,o);const{has:s}=wt(i),a=n?yt:r?bt:mt;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void 0}function Et(t,e=!1){const n=this.__v_raw,r=Qt(n),i=Qt(t);return t!==i&&!e&&it(r,0,t),!e&&it(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function It(t,e=!1){return t=t.__v_raw,!e&&it(Qt(t),0,Q),Reflect.get(t,"size",t)}function Tt(t){t=Qt(t);const e=Qt(this),n=wt(e).has.call(e,t),r=e.add(t);return n||ot(e,"add",t,t),r}function St(t,e){e=Qt(e);const n=Qt(this),{has:r,get:i}=wt(n);let o=r.call(n,t);o||(t=Qt(t),o=r.call(n,t));const s=i.call(n,t),a=n.set(t,e);return o?j(e,s)&&ot(n,"set",t,e):ot(n,"add",t,e),a}function At(t){const e=Qt(this),{has:n,get:r}=wt(e);let i=n.call(e,t);i||(t=Qt(t),i=n.call(e,t));r&&r.call(e,t);const o=e.delete(t);return i&&ot(e,"delete",t,void 0),o}function Nt(){const t=Qt(this),e=0!==t.size,n=t.clear();return e&&ot(t,"clear",void 0,void 0),n}function kt(t,e){return function(n,r){const i=this,o=i.__v_raw,s=Qt(o),a=t?yt:e?bt:mt;return!t&&it(s,0,Q),o.forEach((t,e)=>n.call(r,a(t),a(e),i))}}function Ct(t,e,n){return function(...r){const i=this.__v_raw,o=Qt(i),s=E(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),l=e?yt:n?bt:mt;return!e&&it(o,0,u?K:Q),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function Dt(t){return function(...e){return"delete"!==t&&this}}const xt={get(t){return _t(this,t)},get size(){return It(this)},has:Et,add:Tt,set:St,delete:At,clear:Nt,forEach:kt(!1,!1)},Ot={get(t){return _t(this,t,!1,!0)},get size(){return It(this)},has:Et,add:Tt,set:St,delete:At,clear:Nt,forEach:kt(!1,!0)},Lt={get(t){return _t(this,t,!0)},get size(){return It(this,!0)},has(t){return Et.call(this,t,!0)},add:Dt("add"),set:Dt("set"),delete:Dt("delete"),clear:Dt("clear"),forEach:kt(!0,!1)};function Rt(t,e){const n=e?Ot:t?Lt:xt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(w(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach(t=>{xt[t]=Ct(t,!1,!1),Lt[t]=Ct(t,!0,!1),Ot[t]=Ct(t,!1,!0)});const Pt={get:Rt(!1,!1)},Ut={get:Rt(!1,!0)},Mt={get:Rt(!0,!1)},Ft=new WeakMap,Vt=new WeakMap;function jt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>D(t).slice(8,-1))(t))}function Bt(t){return t&&t.__v_isReadonly?t:Gt(t,!1,dt,Pt)}function qt(t){return Gt(t,!0,vt,Mt)}function Gt(t,e,n,r){if(!N(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const i=e?Vt:Ft,o=i.get(t);if(o)return o;const s=jt(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function zt(t){return Ht(t)?zt(t.__v_raw):!(!t||!t.__v_isReactive)}function Ht(t){return!(!t||!t.__v_isReadonly)}function Wt(t){return zt(t)||Ht(t)}function Qt(t){return t&&Qt(t.__v_raw)||t}const Kt=t=>N(t)?Bt(t):t;function Yt(t){return Boolean(t&&!0===t.__v_isRef)}function Xt(t){return function(t,e=!1){if(Yt(t))return t;return new Jt(t,e)}(t)}class Jt{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Kt(t)}get value(){return it(Qt(this),0,"value"),this._value}set value(t){j(Qt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Kt(t),ot(Qt(this),"set","value",t))}}const $t={get:(t,e,n)=>{return Yt(r=Reflect.get(t,e,n))?r.value:r;var r},set:(t,e,n,r)=>{const i=t[e];return Yt(i)&&!Yt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};class Zt{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=Y(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ot(Qt(this),"set","value"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),it(Qt(this),0,"value"),this._value}set value(t){this._setter(t)}}function te(t,e,n,r){let i;try{i=r?t(...r):t()}catch(t){ne(t,e,n)}return i}function ee(t,e,n,r){if(T(t)){const i=te(t,e,n,r);return i&&k(i)&&i.catch(t=>{ne(t,e,n)}),i}const i=[];for(let o=0;o<t.length;o++)i.push(ee(t[o],e,n,r));return i}function ne(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void te(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let re=!1,ie=!1;const oe=[];let se=0;const ae=[];let ue=null,ce=0;const le=[];let he=null,fe=0;const pe=Promise.resolve();let de=null,ve=null;function ge(t){const e=de||pe;return t?e.then(t):e}function me(t){oe.length&&oe.includes(t,re&&t.allowRecurse?se+1:se)||t===ve||(oe.push(t),ye())}function ye(){re||ie||(ie=!0,de=pe.then(Ie))}function be(t,e,n,r){_(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),ye()}function we(t,e=null){if(ae.length){for(ve=e,ue=[...new Set(ae)],ae.length=0,ce=0;ce<ue.length;ce++)ue[ce]();ue=null,ce=0,ve=null,we(t,e)}}function _e(t){if(le.length){const t=[...new Set(le)];if(le.length=0,he)return void he.push(...t);for(he=t,he.sort((t,e)=>Ee(t)-Ee(e)),fe=0;fe<he.length;fe++)he[fe]();he=null,fe=0}}const Ee=t=>null==t.id?1/0:t.id;function Ie(t){ie=!1,re=!0,we(t),oe.sort((t,e)=>Ee(t)-Ee(e));try{for(se=0;se<oe.length;se++){const t=oe[se];t&&te(t,null,14)}}finally{se=0,oe.length=0,_e(),re=!1,de=null,(oe.length||le.length)&&Ie(t)}}function Te(t,e,...n){const r=t.vnode.props||l;let i="on"+V(e),o=r[i];if(!o&&e.startsWith("update:")&&(i="on"+V(F(e)),o=r[i]),!o)if(o=r[i+"Once"],t.emitted){if(t.emitted[i])return}else(t.emitted={})[i]=!0;o&&ee(o,t,6,n)}function Se(t,e,n=!1){const r=e.app?e.app._uid:-1,i=t.__emits||(t.__emits={}),o=i[r];if(void 0!==o)return o;const s=t.emits;let a={},u=!1;if(!T(t)){const r=t=>{u=!0,m(a,Se(t,e,!0))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return s||u?(_(s)?s.forEach(t=>a[t]=null):m(a,s),i[r]=a):i[r]=null}function Ae(t,e){return!(!t||!v(e))&&(e=e.replace(/Once$/,""),w(t,e[2].toLowerCase()+e.slice(3))||w(t,e.slice(2)))}let Ne=null;function ke(t){Ne=t}function Ce(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:p,ctx:d}=t;let v;Ne=t;try{let t;if(4&n.shapeFlag){const e=i||r;v=rn(l.call(e,e,h,o,p,f,d)),t=u}else{const n=e;0,v=rn(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:xe(u)}let m=v;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=m;e.length&&(1&n||6&n)&&(s&&e.some(g)&&(t=Oe(t,s)),m=tn(m,t))}n.dirs&&(m.dirs=n.dirs),n.transition&&(m.transition=n.transition),v=m}catch(e){ne(e,t,1),v=Ze(qe)}return Ne=null,v}function De(t){const e=t.filter(t=>!(Ye(t)&&t.type===qe&&"v-if"!==t.children));return 1===e.length&&Ye(e[0])?e[0]:null}const xe=t=>{let e;for(const n in t)("class"===n||"style"===n||v(n))&&((e||(e={}))[n]=t[n]);return e},Oe=(t,e)=>{const n={};for(const r in t)g(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Le(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Ae(n,o))return!0}return!1}function Re(t){if(T(t)&&(t=t()),_(t)){t=De(t)}return rn(t)}let Pe=0;const Ue=t=>Pe+=t;function Me(t){return function(t,e,n=!0){const r=Ne||cr;if(r){const n=r.type;if("components"===t){const t=n.displayName||n.name;if(t&&(t===e||t===U(e)||t===V(U(e))))return n}return Ve(r[t]||n[t],e)||Ve(r.appContext[t],e)}}("components",t)||t}const Fe=Symbol();function Ve(t,e){return t&&(t[e]||t[U(e)]||t[V(U(e))])}const je=Symbol(void 0),Be=Symbol(void 0),qe=Symbol(void 0),Ge=Symbol(void 0),ze=[];let He=null;function We(t=!1){ze.push(He=t?null:[])}function Qe(){ze.pop(),He=ze[ze.length-1]||null}function Ke(t,e,n,r,i){const o=Ze(t,e,n,r,i,!0);return o.dynamicChildren=He||h,Qe(),He&&He.push(o),o}function Ye(t){return!!t&&!0===t.__v_isVNode}function Xe(t,e){return t.type===e.type&&t.key===e.key}const Je=({key:t})=>null!=t?t:null,$e=({ref:t})=>null!=t?_(t)?t:{i:Ne,r:t}:null,Ze=function(t,e=null,n=null,i=0,o=null,s=!1){t&&t!==Fe||(t=qe);if(Ye(t)){const r=tn(t,e,!0);return n&&sn(r,n),r}u=t,T(u)&&"__vccOpts"in u&&(t=t.__vccOpts);var u;if(e){(Wt(e)||"__vInternal"in e)&&(e=m({},e));let{class:t,style:n}=e;t&&!S(t)&&(e.class=a(t)),N(n)&&(Wt(n)&&!_(n)&&(n=m({},n)),e.style=r(n))}const c=S(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:N(t)?4:T(t)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Je(e),ref:e&&$e(e),scopeId:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};if(sn(l,n),128&c){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:n}=t;let r,i;return 32&e?(r=Re(n.default),i=Re(n.fallback)):(r=Re(n),i=rn(null)),{content:r,fallback:i}}(l);l.ssContent=t,l.ssFallback=e}!s&&He&&(i>0||6&c)&&32!==i&&He.push(l);return l};function tn(t,e,n=!1){const{props:i,ref:o,patchFlag:s}=t,u=e?function(...t){const e=m({},t[0]);for(let n=1;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=a([e.class,i.class]));else if("style"===t)e.style=r([e.style,i.style]);else if(v(t)){const n=e[t],r=i[t];n!==r&&(e[t]=n?[].concat(n,i[t]):r)}else e[t]=i[t]}return e}(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Je(u),ref:e&&e.ref?n&&o?_(o)?o.concat($e(e)):[o,$e(e)]:$e(e):o,scopeId:t.scopeId,children:t.children,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==je?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&tn(t.ssContent),ssFallback:t.ssFallback&&tn(t.ssFallback),el:t.el,anchor:t.anchor}}function en(t=" ",e=0){return Ze(Be,null,t,e)}function nn(t="",e=!1){return e?(We(),Ke(qe,null,t)):Ze(qe,null,t)}function rn(t){return null==t||"boolean"==typeof t?Ze(qe):_(t)?Ze(je,null,t):"object"==typeof t?null===t.el?t:tn(t):Ze(Be,null,String(t))}function on(t){return null===t.el?t:tn(t)}function sn(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(_(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&Ue(1),sn(t,n()),n._c&&Ue(-1)))}{n=32;const r=e._;r||"__vInternal"in e?3===r&&Ne&&(1024&Ne.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=Ne}}else T(e)?(e={default:e,_ctx:Ne},n=32):(e=String(e),64&r?(n=16,e=[en(e)]):n=8);t.children=e,t.shapeFlag|=n}function an(t,e,n,r=!1){const i={},o={};q(o,"__vInternal",1),un(t,e,i,o),n?t.props=r?i:Gt(i,!1,gt,Ut):t.type.props?t.props=i:t.props=o,t.attrs=o}function un(t,e,n,r){const[i,o]=t.propsOptions;if(e)for(const o in e){const s=e[o];if(L(o))continue;let a;i&&w(i,a=U(o))?n[a]=s:Ae(t.emitsOptions,o)||(r[o]=s)}if(o){const e=Qt(n);for(let r=0;r<o.length;r++){const s=o[r];n[s]=cn(i,e,s,e[s],t)}}}function cn(t,e,n,r,i){const o=t[n];if(null!=o){const t=w(o,"default");if(t&&void 0===r){const t=o.default;o.type!==Function&&T(t)?(lr(i),r=t(e),lr(null)):r=t}o[0]&&(w(e,n)||t?!o[1]||""!==r&&r!==F(n)||(r=!0):r=!1)}return r}function ln(t,e,n=!1){const r=e.app?e.app._uid:-1,i=t.__props||(t.__props={}),o=i[r];if(o)return o;const s=t.props,a={},u=[];let c=!1;if(!T(t)){const r=t=>{c=!0;const[n,r]=ln(t,e,!0);m(a,n),r&&u.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!s&&!c)return i[r]=h;if(_(s))for(let t=0;t<s.length;t++){const e=U(s[t]);dn(e)&&(a[e]=l)}else if(s)for(const t in s){const e=U(t);if(dn(e)){const n=s[t],r=a[e]=_(n)||T(n)?{type:n}:n;if(r){const t=pn(Boolean,r.type),n=pn(String,r.type);r[0]=t>-1,r[1]=n<0||t<n,(t>-1||w(r,"default"))&&u.push(e)}}}return i[r]=[a,u]}function hn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function fn(t,e){return hn(t)===hn(e)}function pn(t,e){if(_(e)){for(let n=0,r=e.length;n<r;n++)if(fn(e[n],t))return n}else if(T(e))return fn(e,t)?0:-1;return-1}function dn(t){return"$"!==t[0]}function vn(t,e,n=cr,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;et(),lr(n);const i=ee(e,n,t,r);return lr(null),rt(),i});return r?i.unshift(o):i.push(o),o}}const gn=t=>(e,n=cr)=>!hr&&vn(t,e,n),mn=gn("bm"),yn=gn("m"),bn=gn("bu"),wn=gn("u"),_n=gn("bum"),En=gn("um"),In=gn("rtg"),Tn=gn("rtc"),Sn=t=>t.type.__isKeepAlive;function An(t,e,n=cr){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(vn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)Sn(t.parent.vnode)&&Nn(r,e,n,t),t=t.parent}}function Nn(t,e,n,r){const i=vn(e,t,r,!0);En(()=>{y(r[e],i)},n)}const kn=t=>"_"===t[0]||"$stable"===t,Cn=t=>_(t)?t.map(rn):[rn(t)],Dn=(t,e,n)=>function(t,e=Ne){if(!e)return t;const n=(...n)=>{Pe||We(!0);const r=Ne;ke(e);const i=t(...n);return ke(r),Pe||Qe(),i};return n._c=!0,n}(t=>Cn(e(t)),n),xn=(t,e)=>{const n=t._ctx;for(const r in t){if(kn(r))continue;const i=t[r];if(T(i))e[r]=Dn(0,i,n);else if(null!=i){const t=Cn(i);e[r]=()=>t}}},On=(t,e)=>{const n=Cn(e);t.slots.default=()=>n};function Ln(t,e){if(null===Ne)return t;const n=Ne.proxy,r=t.dirs||(t.dirs=[]);for(let t=0;t<e.length;t++){let[i,o,s,a=l]=e[t];T(i)&&(i={mounted:i,updated:i}),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function Rn(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);const u=a.dir[r];u&&ee(u,n,8,[t.el,a,t,e])}}function Pn(){return{app:null,config:{isNativeTag:p,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:p,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Un=0;function Mn(t,e){return function(n,r=null){null==r||N(r)||(r=null);const i=Pn(),o=new Set;let s=!1;const a=i.app={_uid:Un++,_component:n,_props:r,_container:null,_context:i,version:mr,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&T(t.install)?(o.add(t),t.install(a,...e)):T(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||i.mixins.push(t),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u){if(!s){const c=Ze(n,r);return c.appContext=i,u&&e?e(c,o):t(c,o),s=!0,a._container=o,o.__vue_app__=a,c.component.proxy}},unmount(){s&&t(null,a._container)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}const Fn={scheduler:me,allowRecurse:!0},Vn=function(t,e){e&&e.pendingBranch?_(t)?e.effects.push(...t):e.effects.push(t):be(t,he,le,fe)},jn=(t,e,n,r,i)=>{if(_(t))return void t.forEach((t,o)=>jn(t,e&&(_(e)?e[o]:e),n,r,i));let o;o=i?4&i.shapeFlag?i.component.proxy:i.el:null;const{i:s,r:a}=t,u=e&&e.r,c=s.refs===l?s.refs={}:s.refs,h=s.setupState;if(null!=u&&u!==a&&(S(u)?(c[u]=null,w(h,u)&&(h[u]=null)):Yt(u)&&(u.value=null)),S(a)){const t=()=>{c[a]=o,w(h,a)&&(h[a]=o)};o?(t.id=-1,Vn(t,r)):t()}else if(Yt(a)){const t=()=>{a.value=o};o?(t.id=-1,Vn(t,r)):t()}else T(a)&&te(a,n,12,[o,c])};function Bn(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:p,parentNode:d,nextSibling:v,setScopeId:g=f,cloneNode:y,insertStaticContent:b}=t,E=(t,e,n,r=null,i=null,o=null,s=!1,a=!1)=>{t&&!Xe(t,e)&&(r=it(t),J(t,i,o,!0),t=null),-2===e.patchFlag&&(a=!1,e.dynamicChildren=null);const{type:u,ref:c,shapeFlag:l}=e;switch(u){case Be:I(t,e,n,r);break;case qe:T(t,e,n,r);break;case Ge:null==t&&S(e,n,r,s);break;case je:P(t,e,n,r,i,o,s,a);break;default:1&l?A(t,e,n,r,i,o,s,a):6&l?M(t,e,n,r,i,o,s,a):(64&l||128&l)&&u.process(t,e,n,r,i,o,s,a,ut)}null!=c&&i&&jn(c,t&&t.ref,i,o,e)},I=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},T=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},S=(t,e,n,r)=>{[t.el,t.anchor]=b(t.children,e,n,r)},A=(t,e,n,r,i,o,s,a)=>{s=s||"svg"===e.type,null==t?N(e,n,r,i,o,s,a):x(t,e,i,o,s,a)},N=(t,e,r,o,a,u,c)=>{let l,h;const{type:f,props:d,shapeFlag:v,transition:g,scopeId:m,patchFlag:b,dirs:w}=t;if(t.el&&void 0!==y&&-1===b)l=t.el=y(t.el);else{if(l=t.el=s(t.type,u,d&&d.is),8&v?p(l,t.children):16&v&&D(t.children,l,null,o,a,u&&"foreignObject"!==f,c||!!t.dynamicChildren),w&&Rn(t,null,o,"created"),d){for(const e in d)L(e)||i(l,e,null,d[e],u,t.children,o,a,nt);(h=d.onVnodeBeforeMount)&&qn(h,o,t)}C(l,m,t,o)}w&&Rn(t,null,o,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&g&&!g.persisted;_&&g.beforeEnter(l),n(l,e,r),((h=d&&d.onVnodeMounted)||_||w)&&Vn(()=>{h&&qn(h,o,t),_&&g.enter(l),w&&Rn(t,null,o,"mounted")},a)},C=(t,e,n,r)=>{if(e&&g(t,e),r){const i=r.type.__scopeId;i&&i!==e&&g(t,i+"-s"),n===r.subTree&&C(t,r.vnode.scopeId,r.vnode,r.parent)}},D=(t,e,n,r,i,o,s,a=0)=>{for(let u=a;u<t.length;u++){const a=t[u]=s?on(t[u]):rn(t[u]);E(null,a,e,n,r,i,o,s)}},x=(t,e,n,r,s,a)=>{const u=e.el=t.el;let{patchFlag:c,dynamicChildren:h,dirs:f}=e;c|=16&t.patchFlag;const d=t.props||l,v=e.props||l;let g;if((g=v.onVnodeBeforeUpdate)&&qn(g,n,e,t),f&&Rn(e,t,n,"beforeUpdate"),c>0){if(16&c)R(u,e,d,v,n,r,s);else if(2&c&&d.class!==v.class&&i(u,"class",null,v.class,s),4&c&&i(u,"style",d.style,v.style,s),8&c){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const c=a[e],l=d[c],h=v[c];(h!==l||o&&o(u,c))&&i(u,c,l,h,s,t.children,n,r,nt)}}1&c&&t.children!==e.children&&p(u,e.children)}else a||null!=h||R(u,e,d,v,n,r,s);const m=s&&"foreignObject"!==e.type;h?O(t.dynamicChildren,h,u,n,r,m):a||H(t,e,u,null,n,r,m),((g=v.onVnodeUpdated)||f)&&Vn(()=>{g&&qn(g,n,e,t),f&&Rn(e,t,n,"updated")},r)},O=(t,e,n,r,i,o)=>{for(let s=0;s<e.length;s++){const a=t[s],u=e[s],c=a.type===je||!Xe(a,u)||6&a.shapeFlag||64&a.shapeFlag?d(a.el):n;E(a,u,c,null,r,i,o,!0)}},R=(t,e,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(L(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(t,c))&&i(t,c,h,l,u,e.children,s,a,nt)}if(n!==l)for(const o in n)L(o)||o in r||i(t,o,n[o],null,u,e.children,s,a,nt)}},P=(t,e,r,i,o,s,u,c)=>{const l=e.el=t?t.el:a(""),h=e.anchor=t?t.anchor:a("");let{patchFlag:f,dynamicChildren:p}=e;f>0&&(c=!0),null==t?(n(l,r,i),n(h,r,i),D(e.children,r,h,o,s,u,c)):f>0&&64&f&&p?(O(t.dynamicChildren,p,r,o,s,u),(null!=e.key||o&&e===o.subTree)&&st(t,e,!0)):H(t,e,r,h,o,s,u,c)},M=(t,e,n,r,i,o,s,a)=>{null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,a):V(e,n,r,i,o,s,a):j(t,e,a)},V=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||ar,o={uid:ur++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ln(r,i),emitsOptions:Se(r,i),emit:null,emitted:null,ctx:l,data:l,props:l,attrs:l,slots:l,refs:l,setupState:l,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Te.bind(null,o),o}(t,r,i);if(Sn(t)&&(a.ctx.renderer=ut),function(t,e=!1){hr=e;const{props:n,children:r,shapeFlag:i}=t.vnode,o=4&i;an(t,n,o,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,q(e,"_",n)):xn(e,t.slots={})}else t.slots={},e&&On(t,e);q(t.slots,"__vInternal",1)})(t,r);const s=o?function(t,e){const n=t.type;t.accessCache={},t.proxy=new Proxy(t.ctx,or);const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){return{attrs:t.attrs,slots:t.slots,emit:t.emit}}(t):null;cr=t,et();const i=te(r,t,0,[t.props,n]);if(rt(),cr=null,k(i)){if(e)return i.then(e=>{fr(t,e)});t.asyncDep=i}else fr(t,i)}else pr(t)}(t,e):void 0;hr=!1}(a),a.asyncDep){if(i&&i.registerDep(a,G),!t.el){const t=a.subTree=Ze(qe);T(null,t,e,n)}}else G(a,t,e,n,i,o,s)},j=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||Le(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Le(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Ae(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void z(r,e,n);r.next=e,function(t){const e=oe.indexOf(t);e>-1&&(oe[e]=null)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},G=(t,e,n,r,i,o,s)=>{t.update=Y((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,h=n;n?z(t,n,s):n=c,n.el=c.el,r&&B(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&qn(e,u,n,c);const f=Ce(t),p=t.subTree;t.subTree=f,t.refs!==l&&(t.refs={}),E(p,f,d(p.el),it(p),t,i,o),n.el=f.el,null===h&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,f.el),a&&Vn(a,i),(e=n.props&&n.props.onVnodeUpdated)&&Vn(()=>{qn(e,u,n,c)},i)}else{let s;const{el:a,props:u}=e,{bm:c,m:l,parent:h}=t;c&&B(c),(s=u&&u.onVnodeBeforeMount)&&qn(s,h,e);const f=t.subTree=Ce(t);a&&lt?lt(e.el,f,t,i):(E(null,f,n,r,t,i,o),e.el=f.el),l&&Vn(l,i),(s=u&&u.onVnodeMounted)&&Vn(()=>{qn(s,h,e)},i);const{a:p}=t;p&&256&e.shapeFlag&&Vn(p,i),t.isMounted=!0}}),Fn)},z=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Qt(i),[u]=t.propsOptions;if(!(r||s>0)||16&s){let r;un(t,e,i,o);for(const o in a)e&&(w(e,o)||(r=F(o))!==o&&w(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=cn(u,e||l,o,void 0,t)):delete i[o]);if(o!==a)for(const t in o)e&&w(e,t)||delete o[t]}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){const s=n[r],c=e[s];if(u)if(w(o,s))o[s]=c;else{const e=U(s);i[e]=cn(u,a,e,c,t)}else o[s]=c}}ot(t,"set","$attrs")}(t,e.props,r,n),((t,e)=>{const{vnode:n,slots:r}=t;let i=!0,o=l;if(32&n.shapeFlag){const t=e._;t?1===t?i=!1:m(r,e):(i=!e.$stable,xn(e,r)),o=e}else e&&(On(t,e),o={default:1});if(i)for(const t in r)kn(t)||t in o||delete r[t]})(t,e.children),we(void 0,t.update)},H=(t,e,n,r,i,o,s,a=!1)=>{const u=t&&t.children,c=t?t.shapeFlag:0,l=e.children,{patchFlag:h,shapeFlag:f}=e;if(h>0){if(128&h)return void Q(u,l,n,r,i,o,s,a);if(256&h)return void W(u,l,n,r,i,o,s,a)}8&f?(16&c&&nt(u,i,o),l!==u&&p(n,l)):16&c?16&f?Q(u,l,n,r,i,o,s,a):nt(u,i,o,!0):(8&c&&p(n,""),16&f&&D(l,n,r,i,o,s,a))},W=(t,e,n,r,i,o,s,a)=>{e=e||h;const u=(t=t||h).length,c=e.length,l=Math.min(u,c);let f;for(f=0;f<l;f++){const r=e[f]=a?on(e[f]):rn(e[f]);E(t[f],r,n,null,i,o,s,a)}u>c?nt(t,i,o,!0,l):D(e,n,r,i,o,s,a,l)},Q=(t,e,n,r,i,o,s,a)=>{let u=0;const c=e.length;let l=t.length-1,f=c-1;for(;u<=l&&u<=f;){const r=t[u],c=e[u]=a?on(e[u]):rn(e[u]);if(!Xe(r,c))break;E(r,c,n,null,i,o,s,a),u++}for(;u<=l&&u<=f;){const r=t[l],u=e[f]=a?on(e[f]):rn(e[f]);if(!Xe(r,u))break;E(r,u,n,null,i,o,s,a),l--,f--}if(u>l){if(u<=f){const t=f+1,l=t<c?e[t].el:r;for(;u<=f;)E(null,e[u]=a?on(e[u]):rn(e[u]),n,l,i,o,s),u++}}else if(u>f)for(;u<=l;)J(t[u],i,o,!0),u++;else{const p=u,d=u,v=new Map;for(u=d;u<=f;u++){const t=e[u]=a?on(e[u]):rn(e[u]);null!=t.key&&v.set(t.key,u)}let g,m=0;const y=f-d+1;let b=!1,w=0;const _=new Array(y);for(u=0;u<y;u++)_[u]=0;for(u=p;u<=l;u++){const r=t[u];if(m>=y){J(r,i,o,!0);continue}let c;if(null!=r.key)c=v.get(r.key);else for(g=d;g<=f;g++)if(0===_[g-d]&&Xe(r,e[g])){c=g;break}void 0===c?J(r,i,o,!0):(_[c-d]=u+1,c>=w?w=c:b=!0,E(r,e[c],n,null,i,o,s,a),m++)}const I=b?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(_):h;for(g=I.length-1,u=y-1;u>=0;u--){const t=d+u,a=e[t],l=t+1<c?e[t+1].el:r;0===_[u]?E(null,a,n,l,i,o,s):b&&(g<0||u!==I[g]?K(a,n,l,2):g--)}}},K=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void K(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,ut);if(a===je){n(s,e,r);for(let t=0;t<c.length;t++)K(c[t],e,r,i);return void n(t.anchor,e,r)}if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(s),n(s,e,r),Vn(()=>u.enter(s),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,()=>{a(),o&&o()})};i?i(s,a,c):c()}else n(s,e,r)},J=(t,e,n,r=!1)=>{const{type:i,props:o,ref:s,children:a,dynamicChildren:u,shapeFlag:c,patchFlag:l,dirs:h}=t;if(null!=s&&e&&jn(s,null,e,n,null),256&c)return void e.ctx.deactivate(t);const f=1&c&&h;let p;if((p=o&&o.onVnodeBeforeUnmount)&&qn(p,e,t),6&c)tt(t.component,n,r);else{if(128&c)return void t.suspense.unmount(n,r);f&&Rn(t,null,e,"beforeUnmount"),u&&(i!==je||l>0&&64&l)?nt(u,e,n):16&c&&nt(a,e,n),64&c&&t.type.remove(t,ut),r&&$(t)}((p=o&&o.onVnodeUnmounted)||f)&&Vn(()=>{p&&qn(p,e,t),f&&Rn(t,null,e,"unmounted")},n)},$=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===je)return void Z(n,i);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},Z=(t,e)=>{let n;for(;t!==e;)n=v(t),r(t),t=n;r(e)},tt=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=t;if(r&&B(r),i)for(let t=0;t<i.length;t++)X(i[t]);o&&(X(o),J(s,t,e,n)),a&&Vn(a,e),Vn(()=>{t.isUnmounted=!0},e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},nt=(t,e,n,r=!1,i=0)=>{for(let o=i;o<t.length;o++)J(t[o],e,n,r)},it=t=>6&t.shapeFlag?it(t.component.subTree):128&t.shapeFlag?t.suspense.next():v(t.anchor||t.el),st=(t,e,n=!1)=>{const r=t.children,i=e.children;if(_(r)&&_(i))for(let t=0;t<r.length;t++){const e=r[t],o=i[t]=on(i[t]);1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o.el=e.el),n||st(e,o))}},at=(t,e)=>{null==t?e._vnode&&J(e._vnode,null,null,!0):E(e._vnode||null,t,e),_e(),e._vnode=t},ut={p:E,um:J,m:K,r:$,mt:V,mc:D,pc:H,pbc:O,n:it,o:t};let ct,lt;e&&([ct,lt]=e(ut));return{render:at,hydrate:ct,createApp:Mn(at,ct)}}(t)}function qn(t,e,n,r=null){ee(t,e,7,[n,r])}const Gn={};function zn(t,e,n){return Hn(t,e,n)}function Hn(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=l,a=cr){let u;const c=Yt(t);if(c?u=()=>t.value:zt(t)?(u=()=>t,r=!0):u=_(t)?()=>t.map(t=>Yt(t)?t.value:zt(t)?Qn(t):T(t)?te(t,a,2):void 0):T(t)?e?()=>te(t,a,2):()=>{if(!a||!a.isUnmounted)return h&&h(),te(t,a,3,[p])}:f,e&&r){const t=u;u=()=>Qn(t())}let h;const p=t=>{h=m.options.onStop=()=>{te(t,a,4)}};let d=_(t)?[]:Gn;const v=()=>{if(m.active)if(e){const t=m();(r||c||j(t,d))&&(h&&h(),ee(e,a,3,[t,d===Gn?void 0:d,p]),d=t)}else m()};let g;v.allowRecurse=!!e,g="sync"===i?v:"post"===i?()=>Vn(v,a&&a.suspense):()=>{!a||a.isMounted?function(t){be(t,ue,ae,ce)}(v):v()};const m=Y(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:g});return dr(m),e?n?v():d=m():"post"===i?Vn(m,a&&a.suspense):m(),()=>{X(m),a&&y(a.effects,m)}}function Wn(t,e,n){const r=this.proxy;return Hn(S(t)?()=>r[t]:t.bind(r),e.bind(r),n,this)}function Qn(t,e=new Set){if(!N(t)||e.has(t))return t;if(e.add(t),Yt(t))Qn(t.value,e);else if(_(t))for(let n=0;n<t.length;n++)Qn(t[n],e);else if(E(t))t.forEach((n,r)=>{Qn(t.get(r),e)});else if(I(t))t.forEach(t=>{Qn(t,e)});else for(const n in t)Qn(t[n],e);return t}function Kn(t,e){if(cr){let n=cr.provides;const r=cr.parent&&cr.parent.provides;r===n&&(n=cr.provides=Object.create(r)),n[t]=e}else;}function Yn(t,e,n=!1){const r=cr||Ne;if(r){const i=r.provides;if(t in i)return i[t];if(arguments.length>1)return n&&T(e)?e():e}}let Xn=!1;function Jn(t,e,n=[],r=[],i=!1){const{mixins:o,extends:s,data:a,computed:u,methods:c,watch:l,provide:h,inject:p,components:d,directives:v,beforeMount:g,mounted:y,beforeUpdate:b,updated:w,activated:E,deactivated:I,beforeDestroy:S,beforeUnmount:A,destroyed:k,unmounted:C,render:D,renderTracked:x,renderTriggered:O,errorCaptured:L}=e,R=t.proxy,P=t.ctx,U=t.appContext.mixins;if(i&&D&&t.render===f&&(t.render=D),i||(Xn=!0,$n("beforeCreate",e,R,U),Xn=!1,tr(t,U,n,r)),s&&Jn(t,s,n,r,!0),o&&tr(t,o,n,r),p)if(_(p))for(let t=0;t<p.length;t++){const e=p[t];P[e]=Yn(e)}else for(const t in p){const e=p[t];N(e)?P[t]=Yn(e.from||t,e.default,!0):P[t]=Yn(e)}if(c)for(const t in c){const e=c[t];T(e)&&(P[t]=e.bind(R))}if(i?a&&n.push(a):(n.length&&n.forEach(e=>er(t,e,R)),a&&er(t,a,R)),u)for(const t in u){const e=u[t],n=vr({get:T(e)?e.bind(R,R):T(e.get)?e.get.bind(R,R):f,set:!T(e)&&T(e.set)?e.set.bind(R):f});Object.defineProperty(P,t,{enumerable:!0,configurable:!0,get:()=>n.value,set:t=>n.value=t})}if(l&&r.push(l),!i&&r.length&&r.forEach(t=>{for(const e in t)nr(t[e],P,R,e)}),h){const t=T(h)?h.call(R):h;for(const e in t)Kn(e,t[e])}var M;i&&(d&&m(t.components||(t.components=m({},t.type.components)),d),v&&m(t.directives||(t.directives=m({},t.type.directives)),v)),i||$n("created",e,R,U),g&&mn(g.bind(R)),y&&yn(y.bind(R)),b&&bn(b.bind(R)),w&&wn(w.bind(R)),E&&An(E.bind(R),"a",M),I&&function(t,e){An(t,"da",e)}(I.bind(R)),L&&((t,e=cr)=>{vn("ec",t,e)})(L.bind(R)),x&&Tn(x.bind(R)),O&&In(O.bind(R)),A&&_n(A.bind(R)),C&&En(C.bind(R))}function $n(t,e,n,r){Zn(t,r,n);const{extends:i,mixins:o}=e;i&&function t(e,n,r){n.extends&&t(e,n.extends,r);const i=n[e];i&&i.call(r)}(t,i,n),o&&Zn(t,o,n);const s=e[t];s&&s.call(n)}function Zn(t,e,n){for(let r=0;r<e.length;r++){const i=e[r].mixins;i&&Zn(t,i,n);const o=e[r][t];o&&o.call(n)}}function tr(t,e,n,r){for(let i=0;i<e.length;i++)Jn(t,e[i],n,r,!0)}function er(t,e,n){const r=e.call(n,n);N(r)&&(t.data===l?t.data=Bt(r):m(t.data,r))}function nr(t,e,n,r){const i=r.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(n,r):()=>n[r];if(S(t)){const n=e[t];T(n)&&zn(i,n)}else if(T(t))zn(i,t.bind(n));else if(N(t))if(_(t))t.forEach(t=>nr(t,e,n,r));else{const r=T(t.handler)?t.handler.bind(n):e[t.handler];T(r)&&zn(i,r,t)}}function rr(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=e;o&&rr(t,o,n),i&&i.forEach(e=>rr(t,e,n));for(const i in e)r&&w(r,i)?t[i]=r[i](t[i],e[i],n.proxy,i):t[i]=e[i]}const ir=m(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>t.parent&&t.parent.proxy,$root:t=>t.root&&t.root.proxy,$emit:t=>t.emit,$options:t=>function(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const o=t.appContext.mixins;if(!o.length&&!r&&!i)return e;const s={};return o.forEach(e=>rr(s,e,t)),rr(s,e,t),e.__merged=s}(t),$forceUpdate:t=>()=>me(t.update),$nextTick:()=>ge,$watch:t=>Wn.bind(t)}),or={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==l&&w(r,e))return s[e]=0,r[e];if(i!==l&&w(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&w(c,e))return s[e]=2,o[e];if(n!==l&&w(n,e))return s[e]=3,n[e];Xn||(s[e]=4)}}const h=ir[e];let f,p;return h?("$attrs"===e&&it(t,0,e),h(t)):(f=a.__cssModules)&&(f=f[e])?f:n!==l&&w(n,e)?(s[e]=3,n[e]):(p=u.config.globalProperties,w(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==l&&w(i,e))i[e]=n;else if(r!==l&&w(r,e))r[e]=n;else if(e in t.props)return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==l&&w(t,s)||e!==l&&w(e,s)||(a=o[0])&&w(a,s)||w(r,s)||w(ir,s)||w(i.config.globalProperties,s)}},sr=m({},or,{get(t,e){if(e!==Symbol.unscopables)return or.get(t,e,t)},has:(t,n)=>"_"!==n[0]&&!e(n)}),ar=Pn();let ur=0;let cr=null;const lr=t=>{cr=t};let hr=!1;function fr(t,e,n){var r;T(e)?t.render=e:N(e)&&(t.setupState=zt(r=e)?r:new Proxy(r,$t)),pr(t)}function pr(t,e){const n=t.type;t.render||(t.render=n.render||f,t.render._rc&&(t.withProxy=new Proxy(t.ctx,sr))),cr=t,Jn(t,n),cr=null}function dr(t){cr&&(cr.effects||(cr.effects=[])).push(t)}function vr(t){const e=function(t){let e,n;return T(t)?(e=t,n=f):(e=t.get,n=t.set),new Zt(e,n,T(t)||!t.set)}(t);return dr(e.effect),e}function gr(t,e){let n;if(_(t)||S(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(N(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}const mr="3.0.0",yr="http://www.w3.org/2000/svg",br="undefined"!=typeof document?document:null;let wr,_r;const Er={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n)=>e?br.createElementNS(yr,t):br.createElement(t,n?{is:n}:void 0),createText:t=>br.createTextNode(t),createComment:t=>br.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>br.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode:t=>t.cloneNode(!0),insertStaticContent(t,e,n,r){const i=r?_r||(_r=br.createElementNS(yr,"svg")):wr||(wr=br.createElement("div"));i.innerHTML=t;const o=i.firstChild;let s=o,a=s;for(;s;)a=s,Er.insert(s,e,n),s=i.firstChild;return[o,a]}};const Ir=/\s*!important$/;function Tr(t,e,n){if(_(n))n.forEach(n=>Tr(t,e,n));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=Ar[e];if(n)return n;let r=U(e);if("filter"!==r&&r in t)return Ar[e]=r;r=V(r);for(let n=0;n<Sr.length;n++){const i=Sr[n]+r;if(i in t)return Ar[e]=i}return e}(t,e);Ir.test(n)?t.setProperty(F(r),n.replace(Ir,""),"important"):t[r]=n}}const Sr=["Webkit","Moz","ms"],Ar={};const Nr="http://www.w3.org/1999/xlink";let kr=Date.now;"undefined"!=typeof document&&kr()>document.createEvent("Event").timeStamp&&(kr=()=>performance.now());let Cr=0;const Dr=Promise.resolve(),xr=()=>{Cr=0};function Or(t,e,n,r){t.addEventListener(e,n,r)}function Lr(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(Rr.test(t)){let n;for(e={};n=t.match(Rr);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t.slice(2).toLowerCase(),e]}(e);if(r){Or(t,n,o[e]=function(t,e){const n=t=>{(t.timeStamp||kr())>=n.attached-1&&ee(function(t,e){if(_(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(t=>e=>!e._stopped&&t(e))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>Cr||(Dr.then(xr),Cr=kr()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const Rr=/(?:Once|Passive|Capture)$/;const Pr=/^on[a-z]/;const Ur=t=>{const e=t.props["onUpdate:modelValue"];return _(e)?t=>B(e,t):e};function Mr(t){t.target.composing=!0}function Fr(t){const e=t.target;e.composing&&(e.composing=!1,function(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}(e,"input"))}const Vr={created(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){t.value=null==e?"":e,t._assign=Ur(o);const s=i||"number"===t.type;Or(t,n?"change":"input",e=>{if(e.target.composing)return;let n=t.value;r?n=n.trim():s&&(n=G(n)),t._assign(n)}),r&&Or(t,"change",()=>{t.value=t.value.trim()}),n||(Or(t,"compositionstart",Mr),Or(t,"compositionend",Fr),Or(t,"change",Fr))},beforeUpdate(t,{value:e,modifiers:{trim:n,number:r}},i){if(t._assign=Ur(i),document.activeElement===t){if(n&&t.value.trim()===e)return;if((r||"number"===t.type)&&G(t.value)===e)return}const o=null==e?"":e;t.value!==o&&(t.value=o)}},jr=["ctrl","shift","alt","meta"],Br={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>jr.some(n=>t[n+"Key"]&&!e.includes(n))},qr=m({patchProp:(t,e,r,i,o=!1,s,a,u,c)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,i,o);break;case"style":!function(t,e,n){const r=t.style;if(n)if(S(n))e!==n&&(r.cssText=n);else{for(const t in n)Tr(r,t,n[t]);if(e&&!S(e))for(const t in e)null==n[t]&&Tr(r,t,"")}else t.removeAttribute("style")}(t,r,i);break;default:v(e)?g(e)||Lr(t,e,0,i,a):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&Pr.test(e)&&T(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e&&"string"==typeof n)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if(Pr.test(e)&&S(n))return!1;return e in t}(t,e,i,o)?function(t,e,n,r,i,o,s){if("innerHTML"===e||"textContent"===e)return r&&s(r,i,o),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName)if(""===n&&"boolean"==typeof t[e])t[e]=!0;else if(null==n&&"string"==typeof t[e])t[e]="",t.removeAttribute(e);else try{t[e]=n}catch(t){}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}(t,e,i,s,a,u,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,r,i){if(i&&e.startsWith("xlink:"))null==r?t.removeAttributeNS(Nr,e.slice(6,e.length)):t.setAttributeNS(Nr,e,r);else{const i=n(e);null==r||i&&!1===r?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}(t,e,i,o))}},forcePatchProp:(t,e)=>"value"===e},Er);let Gr;
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var zr="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Hr=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(zr&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var Wr=zr&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),Hr))}};function Qr(t){return t&&"[object Function]"==={}.toString.call(t)}function Kr(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function Yr(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Xr(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Kr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:Xr(Yr(t))}function Jr(t){return t&&t.referenceNode?t.referenceNode:t}var $r=zr&&!(!window.MSInputMethodContext||!document.documentMode),Zr=zr&&/MSIE 10/.test(navigator.userAgent);function ti(t){return 11===t?$r:10===t?Zr:$r||Zr}function ei(t){if(!t)return document.documentElement;for(var e=ti(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Kr(n,"position")?ei(n):n:t?t.ownerDocument.documentElement:document.documentElement}function ni(t){return null!==t.parentNode?ni(t.parentNode):t}function ri(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s,a,u=o.commonAncestorContainer;if(t!==u&&e!==u||r.contains(i))return"BODY"===(a=(s=u).nodeName)||"HTML"!==a&&ei(s.firstElementChild)!==s?ei(u):u;var c=ni(t);return c.host?ri(c.host,e):ri(t,ni(e).host)}function ii(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function oi(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ii(e,"top"),i=ii(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function si(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function ai(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],ti(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function ui(t){var e=t.body,n=t.documentElement,r=ti(10)&&getComputedStyle(n);return{height:ai("Height",e,n,r),width:ai("Width",e,n,r)}}var ci=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},li=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hi=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},fi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function pi(t){return fi({},t,{right:t.left+t.width,bottom:t.top+t.height})}function di(t){var e={};try{if(ti(10)){e=t.getBoundingClientRect();var n=ii(t,"top"),r=ii(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?ui(t.ownerDocument):{},s=o.width||t.clientWidth||i.width,a=o.height||t.clientHeight||i.height,u=t.offsetWidth-s,c=t.offsetHeight-a;if(u||c){var l=Kr(t);u-=si(l,"x"),c-=si(l,"y"),i.width-=u,i.height-=c}return pi(i)}function vi(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ti(10),i="HTML"===e.nodeName,o=di(t),s=di(e),a=Xr(t),u=Kr(e),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=pi({top:o.top-s.top-c,left:o.left-s.left-l,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var f=parseFloat(u.marginTop),p=parseFloat(u.marginLeft);h.top-=c-f,h.bottom-=c-f,h.left-=l-p,h.right-=l-p,h.marginTop=f,h.marginLeft=p}return(r&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=oi(h,e)),h}function gi(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=vi(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:ii(n),a=e?0:ii(n,"left"),u={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return pi(u)}function mi(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===Kr(t,"position"))return!0;var n=Yr(t);return!!n&&mi(n)}function yi(t){if(!t||!t.parentElement||ti())return document.documentElement;for(var e=t.parentElement;e&&"none"===Kr(e,"transform");)e=e.parentElement;return e||document.documentElement}function bi(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=i?yi(t):ri(t,Jr(e));if("viewport"===r)o=gi(s,i);else{var a=void 0;"scrollParent"===r?"BODY"===(a=Xr(Yr(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===r?t.ownerDocument.documentElement:r;var u=vi(a,s,i);if("HTML"!==a.nodeName||mi(s))o=u;else{var c=ui(t.ownerDocument),l=c.height,h=c.width;o.top+=u.top-u.marginTop,o.bottom=l+u.top,o.left+=u.left-u.marginLeft,o.right=h+u.left}}var f="number"==typeof(n=n||0);return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function wi(t){return t.width*t.height}function _i(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=bi(n,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},u=Object.keys(a).map((function(t){return fi({key:t},a[t],{area:wi(a[t])})})).sort((function(t,e){return e.area-t.area})),c=u.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),l=c.length>0?c[0].key:u[0].key,h=t.split("-")[1];return l+(h?"-"+h:"")}function Ei(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?yi(e):ri(e,Jr(n));return vi(n,i,r)}function Ii(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function Ti(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function Si(t,e,n){n=n.split("-")[0];var r=Ii(t),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",u=o?"height":"width",c=o?"width":"height";return i[s]=e[s]+e[u]/2-r[u]/2,i[a]=n===a?e[a]-r[c]:e[Ti(a)],i}function Ai(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Ni(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=Ai(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&Qr(n)&&(e.offsets.popper=pi(e.offsets.popper),e.offsets.reference=pi(e.offsets.reference),e=n(e,t))})),e}function ki(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=Ei(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=_i(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Si(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Ni(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function Ci(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function Di(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(void 0!==document.body.style[o])return o}return null}function xi(){return this.state.isDestroyed=!0,Ci(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Di("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Oi(t){var e=t.ownerDocument;return e?e.defaultView:window}function Li(t,e,n,r){n.updateBound=r,Oi(t).addEventListener("resize",n.updateBound,{passive:!0});var i=Xr(t);return function t(e,n,r,i){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,r,{passive:!0}),o||t(Xr(s.parentNode),n,r,i),i.push(s)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Ri(){this.state.eventsEnabled||(this.state=Li(this.reference,this.options,this.state,this.scheduleUpdate))}function Pi(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Oi(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Ui(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function Mi(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Ui(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var Fi=zr&&/Firefox/i.test(navigator.userAgent);function Vi(t,e,n){var r=Ai(t,(function(t){return t.name===e})),i=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!i){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var ji=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Bi=ji.slice(3);function qi(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Bi.indexOf(t),r=Bi.slice(n+1).concat(Bi.slice(0,n));return e?r.reverse():r}var Gi="flip",zi="clockwise",Hi="counterclockwise";function Wi(t,e,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(Ai(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))]:[s];return(c=c.map((function(t,r){var i=(1===r?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}return pi(a)[e]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,i,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){Ui(n)&&(i[e]+=n*("-"===t[r-1]?-1:1))}))})),i}var Qi={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",c=a?"width":"height",l={start:hi({},u,o[u]),end:hi({},u,o[u]+o[c]-s[c])};t.offsets.popper=fi({},s,l[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],u=void 0;return u=Ui(+n)?[+n,0]:Wi(n,o,s,a),"left"===a?(o.top+=u[0],o.left-=u[1]):"right"===a?(o.top+=u[0],o.left+=u[1]):"top"===a?(o.left+=u[0],o.top-=u[1]):"bottom"===a&&(o.left+=u[0],o.top+=u[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||ei(t.instance.popper);t.instance.reference===n&&(n=ei(n));var r=Di("transform"),i=t.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var u=bi(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=s,i[r]=a,e.boundaries=u;var c=e.priority,l=t.offsets.popper,h={primary:function(t){var n=l[t];return l[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(l[t],u[t])),hi({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=l[n];return l[t]>u[t]&&!e.escapeWithReference&&(r=Math.min(l[n],u[t]-("right"===t?l.width:l.height))),hi({},n,r)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";l=fi({},l,h[e](t))})),t.offsets.popper=l,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",u=s?"left":"top",c=s?"width":"height";return n[a]<o(r[u])&&(t.offsets.popper[u]=o(r[u])-n[c]),n[u]>o(r[a])&&(t.offsets.popper[u]=o(r[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!Vi(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,u=-1!==["left","right"].indexOf(i),c=u?"height":"width",l=u?"Top":"Left",h=l.toLowerCase(),f=u?"left":"top",p=u?"bottom":"right",d=Ii(r)[c];a[p]-d<s[h]&&(t.offsets.popper[h]-=s[h]-(a[p]-d)),a[h]+d>s[p]&&(t.offsets.popper[h]+=a[h]+d-s[p]),t.offsets.popper=pi(t.offsets.popper);var v=a[h]+a[c]/2-d/2,g=Kr(t.instance.popper),m=parseFloat(g["margin"+l]),y=parseFloat(g["border"+l+"Width"]),b=v-t.offsets.popper[h]-m-y;return b=Math.max(Math.min(s[c]-d,b),0),t.arrowElement=r,t.offsets.arrow=(hi(n={},h,Math.round(b)),hi(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(Ci(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=bi(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=Ti(r),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case Gi:s=[r,i];break;case zi:s=qi(r);break;case Hi:s=qi(r,!0);break;default:s=e.behavior}return s.forEach((function(a,u){if(r!==a||s.length===u+1)return t;r=t.placement.split("-")[0],i=Ti(r);var c=t.offsets.popper,l=t.offsets.reference,h=Math.floor,f="left"===r&&h(c.right)>h(l.left)||"right"===r&&h(c.left)<h(l.right)||"top"===r&&h(c.bottom)>h(l.top)||"bottom"===r&&h(c.top)<h(l.bottom),p=h(c.left)<h(n.left),d=h(c.right)>h(n.right),v=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),m="left"===r&&p||"right"===r&&d||"top"===r&&v||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&d||!y&&"start"===o&&v||!y&&"end"===o&&g),w=!!e.flipVariationsByContent&&(y&&"start"===o&&d||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&v),_=b||w;(f||m||_)&&(t.flipped=!0,(f||m)&&(r=s[u+1]),_&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=fi({},t.offsets.popper,Si(t.instance.popper,t.offsets.reference,t.placement)),t=Ni(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),t.placement=Ti(e),t.offsets.popper=pi(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Vi(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=Ai(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=Ai(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=ei(t.instance.popper),u=di(a),c={position:i.position},l=function(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(t){return t},u=o(i.width),c=o(r.width),l=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),f=e?l||h||u%2==c%2?o:s:a,p=e?o:a;return{left:f(u%2==1&&c%2==1&&!h&&e?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(t,window.devicePixelRatio<2||!Fi),h="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=Di("transform"),d=void 0,v=void 0;if(v="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+l.bottom:-u.height+l.bottom:l.top,d="right"===f?"HTML"===a.nodeName?-a.clientWidth+l.right:-u.width+l.right:l.left,s&&p)c[p]="translate3d("+d+"px, "+v+"px, 0)",c[h]=0,c[f]=0,c.willChange="transform";else{var g="bottom"===h?-1:1,m="right"===f?-1:1;c[h]=v*g,c[f]=d*m,c.willChange=h+", "+f}var y={"x-placement":t.placement};return t.attributes=fi({},y,t.attributes),t.styles=fi({},c,t.styles),t.arrowStyles=fi({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return Mi(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&Mi(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,i){var o=Ei(i,e,t,n.positionFixed),s=_i(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),Mi(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Ki=function(){function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ci(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Wr(this.update.bind(this)),this.options=fi({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(fi({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){r.options.modifiers[e]=fi({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return fi({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&Qr(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return li(t,[{key:"update",value:function(){return ki.call(this)}},{key:"destroy",value:function(){return xi.call(this)}},{key:"enableEventListeners",value:function(){return Ri.call(this)}},{key:"disableEventListeners",value:function(){return Pi.call(this)}}]),t}();
/*!
  * Bootstrap v5.0.0-alpha2 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xi(t,e,n){return e&&Yi(t.prototype,e),n&&Yi(t,n),t}function Ji(){return(Ji=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Ki.Utils=("undefined"!=typeof window?window:global).PopperUtils,Ki.placements=ji,Ki.Defaults=Qi;var $i,Zi,to,eo,no=function(t){do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},ro=function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():null}return e},io=function(t){var e=ro(t);return e&&document.querySelector(e)?e:null},oo=function(t){var e=ro(t);return e?document.querySelector(e):null},so=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,r=e.transitionDelay,i=parseFloat(n),o=parseFloat(r);return i||o?(n=n.split(",")[0],r=r.split(",")[0],1e3*(parseFloat(n)+parseFloat(r))):0},ao=function(t){t.dispatchEvent(new Event("transitionend"))},uo=function(t){return(t[0]||t).nodeType},co=function(t,e){var n=!1,r=e+5;t.addEventListener("transitionend",(function e(){n=!0,t.removeEventListener("transitionend",e)})),setTimeout((function(){n||ao(t)}),r)},lo=function(t,e,n){Object.keys(n).forEach((function(r){var i,o=n[r],s=e[r],a=s&&uo(s)?"element":null==(i=s)?""+i:{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+o+'".')}))},ho=function(t){if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){var e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==n.display&&"hidden"!==e.visibility}return!1},fo=function(){return function(){}},po=function(t){return t.offsetHeight},vo=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-no-jquery")?t:null},go=($i={},Zi=1,{set:function(t,e,n){void 0===t.bsKey&&(t.bsKey={key:e,id:Zi},Zi++),$i[t.bsKey.id]=n},get:function(t,e){if(!t||void 0===t.bsKey)return null;var n=t.bsKey;return n.key===e?$i[n.id]:null},delete:function(t,e){if(void 0!==t.bsKey){var n=t.bsKey;n.key===e&&(delete $i[n.id],delete t.bsKey)}}}),mo=function(t,e,n){go.set(t,e,n)},yo=function(t,e){return go.get(t,e)},bo=function(t,e){go.delete(t,e)},wo=Element.prototype.querySelectorAll,_o=Element.prototype.querySelector,Eo=(to=new CustomEvent("Bootstrap",{cancelable:!0}),(eo=document.createElement("div")).addEventListener("Bootstrap",(function(){return null})),to.preventDefault(),eo.dispatchEvent(to),to.defaultPrevented),Io=/:scope\b/;(function(){var t=document.createElement("div");try{t.querySelectorAll(":scope *")}catch(t){return!1}return!0})()||(wo=function(t){if(!Io.test(t))return this.querySelectorAll(t);var e=Boolean(this.id);e||(this.id=no("scope"));var n=null;try{t=t.replace(Io,"#"+this.id),n=this.querySelectorAll(t)}finally{e||this.removeAttribute("id")}return n},_o=function(t){if(!Io.test(t))return this.querySelector(t);var e=wo.call(this,t);return void 0!==e[0]?e[0]:null});var To=vo(),So=/[^.]*(?=\..*)\.|.*/,Ao=/\..*/,No=/::\d+$/,ko={},Co=1,Do={mouseenter:"mouseover",mouseleave:"mouseout"},xo=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function Oo(t,e){return e&&e+"::"+Co++||t.uidEvent||Co++}function Lo(t){var e=Oo(t);return t.uidEvent=e,ko[e]=ko[e]||{},ko[e]}function Ro(t,e,n){void 0===n&&(n=null);for(var r=Object.keys(t),i=0,o=r.length;i<o;i++){var s=t[r[i]];if(s.originalHandler===e&&s.delegationSelector===n)return s}return null}function Po(t,e,n){var r="string"==typeof e,i=r?n:e,o=t.replace(Ao,""),s=Do[o];return s&&(o=s),xo.indexOf(o)>-1||(o=t),[r,i,o]}function Uo(t,e,n,r,i){if("string"==typeof e&&t){n||(n=r,r=null);var o=Po(e,n,r),s=o[0],a=o[1],u=o[2],c=Lo(t),l=c[u]||(c[u]={}),h=Ro(l,a,s?n:null);if(h)h.oneOff=h.oneOff&&i;else{var f=Oo(a,e.replace(So,"")),p=s?function(t,e,n){return function r(i){for(var o=t.querySelectorAll(e),s=i.target;s&&s!==this;s=s.parentNode)for(var a=o.length;a--;)if(o[a]===s)return i.delegateTarget=s,r.oneOff&&Fo.off(t,i.type,n),n.apply(s,[i]);return null}}(t,n,r):function(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&Fo.off(t,r.type,e),e.apply(t,[r])}}(t,n);p.delegationSelector=s?n:null,p.originalHandler=a,p.oneOff=i,p.uidEvent=f,l[f]=p,t.addEventListener(u,p,s)}}}function Mo(t,e,n,r,i){var o=Ro(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}var Fo={on:function(t,e,n,r){Uo(t,e,n,r,!1)},one:function(t,e,n,r){Uo(t,e,n,r,!0)},off:function(t,e,n,r){if("string"==typeof e&&t){var i=Po(e,n,r),o=i[0],s=i[1],a=i[2],u=a!==e,c=Lo(t),l="."===e.charAt(0);if(void 0===s){l&&Object.keys(c).forEach((function(n){!function(t,e,n,r){var i=e[n]||{};Object.keys(i).forEach((function(o){if(o.indexOf(r)>-1){var s=i[o];Mo(t,e,n,s.originalHandler,s.delegationSelector)}}))}(t,c,n,e.slice(1))}));var h=c[a]||{};Object.keys(h).forEach((function(n){var r=n.replace(No,"");if(!u||e.indexOf(r)>-1){var i=h[n];Mo(t,c,a,i.originalHandler,i.delegationSelector)}}))}else{if(!c||!c[a])return;Mo(t,c,a,s,o?n:null)}}},trigger:function(t,e,n){if("string"!=typeof e||!t)return null;var r,i=e.replace(Ao,""),o=e!==i,s=xo.indexOf(i)>-1,a=!0,u=!0,c=!1,l=null;return o&&To&&(r=To.Event(e,n),To(t).trigger(r),a=!r.isPropagationStopped(),u=!r.isImmediatePropagationStopped(),c=r.isDefaultPrevented()),s?(l=document.createEvent("HTMLEvents")).initEvent(i,a,!0):l=new CustomEvent(e,{bubbles:a,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((function(t){Object.defineProperty(l,t,{get:function(){return n[t]}})})),c&&(l.preventDefault(),Eo||Object.defineProperty(l,"defaultPrevented",{get:function(){return!0}})),u&&t.dispatchEvent(l),l.defaultPrevented&&void 0!==r&&r.preventDefault(),l}},Vo=function(){function t(t){this._element=t,this._element&&mo(t,"bs.alert",this)}var e=t.prototype;return e.close=function(t){var e=t?this._getRootElement(t):this._element,n=this._triggerCloseEvent(e);null===n||n.defaultPrevented||this._removeElement(e)},e.dispose=function(){bo(this._element,"bs.alert"),this._element=null},e._getRootElement=function(t){return oo(t)||t.closest(".alert")},e._triggerCloseEvent=function(t){return Fo.trigger(t,"close.bs.alert")},e._removeElement=function(t){var e=this;if(t.classList.remove("show"),t.classList.contains("fade")){var n=so(t);Fo.one(t,"transitionend",(function(){return e._destroyElement(t)})),co(t,n)}else this._destroyElement(t)},e._destroyElement=function(t){t.parentNode&&t.parentNode.removeChild(t),Fo.trigger(t,"closed.bs.alert")},t.jQueryInterface=function(e){return this.each((function(){var n=yo(this,"bs.alert");n||(n=new t(this)),"close"===e&&n[e](this)}))},t.handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},t.getInstance=function(t){return yo(t,"bs.alert")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}}]),t}();Fo.on(document,"click.bs.alert.data-api",'[data-dismiss="alert"]',Vo.handleDismiss(new Vo));var jo=vo();if(jo){var Bo=jo.fn.alert;jo.fn.alert=Vo.jQueryInterface,jo.fn.alert.Constructor=Vo,jo.fn.alert.noConflict=function(){return jo.fn.alert=Bo,Vo.jQueryInterface}}var qo=function(){function t(t){this._element=t,mo(t,"bs.button",this)}var e=t.prototype;return e.toggle=function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))},e.dispose=function(){bo(this._element,"bs.button"),this._element=null},t.jQueryInterface=function(e){return this.each((function(){var n=yo(this,"bs.button");n||(n=new t(this)),"toggle"===e&&n[e]()}))},t.getInstance=function(t){return yo(t,"bs.button")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}}]),t}();Fo.on(document,"click.bs.button.data-api",'[data-toggle="button"]',(function(t){t.preventDefault();var e=t.target.closest('[data-toggle="button"]'),n=yo(e,"bs.button");n||(n=new qo(e)),n.toggle()}));var Go=vo();if(Go){var zo=Go.fn.button;Go.fn.button=qo.jQueryInterface,Go.fn.button.Constructor=qo,Go.fn.button.noConflict=function(){return Go.fn.button=zo,qo.jQueryInterface}}function Ho(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function Wo(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))}var Qo={setDataAttribute:function(t,e,n){t.setAttribute("data-"+Wo(e),n)},removeDataAttribute:function(t,e){t.removeAttribute("data-"+Wo(e))},getDataAttributes:function(t){if(!t)return{};var e=Ji({},t.dataset);return Object.keys(e).forEach((function(t){e[t]=Ho(e[t])})),e},getDataAttribute:function(t,e){return Ho(t.getAttribute("data-"+Wo(e)))},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:function(t){return{top:t.offsetTop,left:t.offsetLeft}},toggleClass:function(t,e){t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))}},Ko={matches:function(t,e){return t.matches(e)},find:function(t,e){var n;return void 0===e&&(e=document.documentElement),(n=[]).concat.apply(n,wo.call(e,t))},findOne:function(t,e){return void 0===e&&(e=document.documentElement),_o.call(e,t)},children:function(t,e){var n;return(n=[]).concat.apply(n,t.children).filter((function(t){return t.matches(e)}))},parents:function(t,e){for(var n=[],r=t.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)this.matches(r,e)&&n.push(r),r=r.parentNode;return n},prev:function(t,e){for(var n=t.previousElementSibling;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next:function(t,e){for(var n=t.nextElementSibling;n;){if(this.matches(n,e))return[n];n=n.nextElementSibling}return[]}},Yo="carousel",Xo=".bs.carousel",Jo={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},$o={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Zo={TOUCH:"touch",PEN:"pen"},ts=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=Ko.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners(),mo(t,"bs.carousel",this)}var e=t.prototype;return e.next=function(){this._isSliding||this._slide("next")},e.nextWhenVisible=function(){!document.hidden&&ho(this._element)&&this.next()},e.prev=function(){this._isSliding||this._slide("prev")},e.pause=function(t){t||(this._isPaused=!0),Ko.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(ao(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=Ko.findOne(".active.carousel-item",this._element);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)Fo.one(this._element,"slid.bs.carousel",(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var r=t>n?"next":"prev";this._slide(r,this._items[t])}},e.dispose=function(){Fo.off(this._element,Xo),bo(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=Ji({},Jo,t),lo(Yo,t,$o),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&Fo.on(this._element,"keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(Fo.on(this._element,"mouseenter.bs.carousel",(function(e){return t.pause(e)})),Fo.on(this._element,"mouseleave.bs.carousel",(function(e){return t.cycle(e)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this,e=function(e){t._pointerEvent&&Zo[e.pointerType.toUpperCase()]?t.touchStartX=e.clientX:t._pointerEvent||(t.touchStartX=e.touches[0].clientX)},n=function(e){t._pointerEvent&&Zo[e.pointerType.toUpperCase()]&&(t.touchDeltaX=e.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};Ko.find(".carousel-item img",this._element).forEach((function(t){Fo.on(t,"dragstart.bs.carousel",(function(t){return t.preventDefault()}))})),this._pointerEvent?(Fo.on(this._element,"pointerdown.bs.carousel",(function(t){return e(t)})),Fo.on(this._element,"pointerup.bs.carousel",(function(t){return n(t)})),this._element.classList.add("pointer-event")):(Fo.on(this._element,"touchstart.bs.carousel",(function(t){return e(t)})),Fo.on(this._element,"touchmove.bs.carousel",(function(e){return function(e){e.touches&&e.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.touches[0].clientX-t.touchStartX}(e)})),Fo.on(this._element,"touchend.bs.carousel",(function(t){return n(t)})))},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.key){case"ArrowLeft":t.preventDefault(),this.prev();break;case"ArrowRight":t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?Ko.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n="next"===t,r="prev"===t,i=this._getItemIndex(e),o=this._items.length-1;if((r&&0===i||n&&i===o)&&!this._config.wrap)return e;var s=(i+("prev"===t?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),r=this._getItemIndex(Ko.findOne(".active.carousel-item",this._element));return Fo.trigger(this._element,"slide.bs.carousel",{relatedTarget:t,direction:e,from:r,to:n})},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){for(var e=Ko.find(".active",this._indicatorsElement),n=0;n<e.length;n++)e[n].classList.remove("active");var r=this._indicatorsElement.children[this._getItemIndex(t)];r&&r.classList.add("active")}},e._slide=function(t,e){var n,r,i,o=this,s=Ko.findOne(".active.carousel-item",this._element),a=this._getItemIndex(s),u=e||s&&this._getItemByDirection(t,s),c=this._getItemIndex(u),l=Boolean(this._interval);if("next"===t?(n="carousel-item-left",r="carousel-item-next",i="left"):(n="carousel-item-right",r="carousel-item-prev",i="right"),u&&u.classList.contains("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(u,i).defaultPrevented&&s&&u){if(this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(u),this._element.classList.contains("slide")){u.classList.add(r),po(u),s.classList.add(n),u.classList.add(n);var h=parseInt(u.getAttribute("data-interval"),10);h?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=h):this._config.interval=this._config.defaultInterval||this._config.interval;var f=so(s);Fo.one(s,"transitionend",(function(){u.classList.remove(n,r),u.classList.add("active"),s.classList.remove("active",r,n),o._isSliding=!1,setTimeout((function(){Fo.trigger(o._element,"slid.bs.carousel",{relatedTarget:u,direction:i,from:a,to:c})}),0)})),co(s,f)}else s.classList.remove("active"),u.classList.add("active"),this._isSliding=!1,Fo.trigger(this._element,"slid.bs.carousel",{relatedTarget:u,direction:i,from:a,to:c});l&&this.cycle()}},t.carouselInterface=function(e,n){var r=yo(e,"bs.carousel"),i=Ji({},Jo,Qo.getDataAttributes(e));"object"==typeof n&&(i=Ji({},i,n));var o="string"==typeof n?n:i.slide;if(r||(r=new t(e,i)),"number"==typeof n)r.to(n);else if("string"==typeof o){if(void 0===r[o])throw new TypeError('No method named "'+o+'"');r[o]()}else i.interval&&i.ride&&(r.pause(),r.cycle())},t.jQueryInterface=function(e){return this.each((function(){t.carouselInterface(this,e)}))},t.dataApiClickHandler=function(e){var n=oo(this);if(n&&n.classList.contains("carousel")){var r=Ji({},Qo.getDataAttributes(n),Qo.getDataAttributes(this)),i=this.getAttribute("data-slide-to");i&&(r.interval=!1),t.carouselInterface(n,r),i&&yo(n,"bs.carousel").to(i),e.preventDefault()}},t.getInstance=function(t){return yo(t,"bs.carousel")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}},{key:"Default",get:function(){return Jo}}]),t}();Fo.on(document,"click.bs.carousel.data-api","[data-slide], [data-slide-to]",ts.dataApiClickHandler),Fo.on(window,"load.bs.carousel.data-api",(function(){for(var t=Ko.find('[data-ride="carousel"]'),e=0,n=t.length;e<n;e++)ts.carouselInterface(t[e],yo(t[e],"bs.carousel"))}));var es=vo();if(es){var ns=es.fn[Yo];es.fn[Yo]=ts.jQueryInterface,es.fn[Yo].Constructor=ts,es.fn[Yo].noConflict=function(){return es.fn[Yo]=ns,ts.jQueryInterface}}var rs="collapse",is={toggle:!0,parent:""},os={toggle:"boolean",parent:"(string|element)"},ss=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=Ko.find('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]');for(var n=Ko.find('[data-toggle="collapse"]'),r=0,i=n.length;r<i;r++){var o=n[r],s=io(o),a=Ko.find(s).filter((function(e){return e===t}));null!==s&&a.length&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle(),mo(t,"bs.collapse",this)}var e=t.prototype;return e.toggle=function(){this._element.classList.contains("show")?this.hide():this.show()},e.show=function(){var e=this;if(!this._isTransitioning&&!this._element.classList.contains("show")){var n,r;this._parent&&0===(n=Ko.find(".show, .collapsing",this._parent).filter((function(t){return"string"==typeof e._config.parent?t.getAttribute("data-parent")===e._config.parent:t.classList.contains("collapse")}))).length&&(n=null);var i=Ko.findOne(this._selector);if(n){var o=n.filter((function(t){return i!==t}));if((r=o[0]?yo(o[0],"bs.collapse"):null)&&r._isTransitioning)return}if(!Fo.trigger(this._element,"show.bs.collapse").defaultPrevented){n&&n.forEach((function(e){i!==e&&t.collapseInterface(e,"hide"),r||mo(e,"bs.collapse",null)}));var s=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[s]=0,this._triggerArray.length&&this._triggerArray.forEach((function(t){t.classList.remove("collapsed"),t.setAttribute("aria-expanded",!0)})),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),u=so(this._element);Fo.one(this._element,"transitionend",(function(){e._element.classList.remove("collapsing"),e._element.classList.add("collapse","show"),e._element.style[s]="",e.setTransitioning(!1),Fo.trigger(e._element,"shown.bs.collapse")})),co(this._element,u),this._element.style[s]=this._element[a]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&this._element.classList.contains("show")&&!Fo.trigger(this._element,"hide.bs.collapse").defaultPrevented){var e=this._getDimension();this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",po(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");var n=this._triggerArray.length;if(n>0)for(var r=0;r<n;r++){var i=this._triggerArray[r],o=oo(i);o&&!o.classList.contains("show")&&(i.classList.add("collapsed"),i.setAttribute("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[e]="";var s=so(this._element);Fo.one(this._element,"transitionend",(function(){t.setTransitioning(!1),t._element.classList.remove("collapsing"),t._element.classList.add("collapse"),Fo.trigger(t._element,"hidden.bs.collapse")})),co(this._element,s)}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){bo(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=Ji({},is,t)).toggle=Boolean(t.toggle),lo(rs,t,os),t},e._getDimension=function(){return this._element.classList.contains("width")?"width":"height"},e._getParent=function(){var t=this,e=this._config.parent;uo(e)?void 0===e.jquery&&void 0===e[0]||(e=e[0]):e=Ko.findOne(e);var n='[data-toggle="collapse"][data-parent="'+e+'"]';return Ko.find(n,e).forEach((function(e){var n=oo(e);t._addAriaAndCollapsedClass(n,[e])})),e},e._addAriaAndCollapsedClass=function(t,e){if(t&&e.length){var n=t.classList.contains("show");e.forEach((function(t){n?t.classList.remove("collapsed"):t.classList.add("collapsed"),t.setAttribute("aria-expanded",n)}))}},t.collapseInterface=function(e,n){var r=yo(e,"bs.collapse"),i=Ji({},is,Qo.getDataAttributes(e),"object"==typeof n&&n?n:{});if(!r&&i.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(i.toggle=!1),r||(r=new t(e,i)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}},t.jQueryInterface=function(e){return this.each((function(){t.collapseInterface(this,e)}))},t.getInstance=function(t){return yo(t,"bs.collapse")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}},{key:"Default",get:function(){return is}}]),t}();Fo.on(document,"click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){"A"===t.target.tagName&&t.preventDefault();var e=Qo.getDataAttributes(this),n=io(this);Ko.find(n).forEach((function(t){var n,r=yo(t,"bs.collapse");r?(null===r._parent&&"string"==typeof e.parent&&(r._config.parent=e.parent,r._parent=r._getParent()),n="toggle"):n=e,ss.collapseInterface(t,n)}))}));var as=vo();if(as){var us=as.fn[rs];as.fn[rs]=ss.jQueryInterface,as.fn[rs].Constructor=ss,as.fn[rs].noConflict=function(){return as.fn[rs]=us,ss.jQueryInterface}}var cs="dropdown",ls=new RegExp("ArrowUp|ArrowDown|Escape"),hs={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},fs={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},ps=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners(),mo(t,"bs.dropdown",this)}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!this._element.classList.contains("disabled")){var e=this._element.classList.contains("show");t.clearMenus(),e||this.show()}},e.show=function(){if(!(this._element.disabled||this._element.classList.contains("disabled")||this._menu.classList.contains("show"))){var e=t.getParentFromElement(this._element),n={relatedTarget:this._element};if(!Fo.trigger(this._element,"show.bs.dropdown",n).defaultPrevented){if(!this._inNavbar){if(void 0===Ki)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org)");var r=this._element;"parent"===this._config.reference?r=e:uo(this._config.reference)&&(r=this._config.reference,void 0!==this._config.reference.jquery&&(r=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e.classList.add("position-static"),this._popper=new Ki(r,this._menu,this._getPopperConfig())}var i;if("ontouchstart"in document.documentElement&&!e.closest(".navbar-nav"))(i=[]).concat.apply(i,document.body.children).forEach((function(t){return Fo.on(t,"mouseover",null,(function(){}))}));this._element.focus(),this._element.setAttribute("aria-expanded",!0),Qo.toggleClass(this._menu,"show"),Qo.toggleClass(this._element,"show"),Fo.trigger(e,"shown.bs.dropdown",n)}}},e.hide=function(){if(!this._element.disabled&&!this._element.classList.contains("disabled")&&this._menu.classList.contains("show")){var e=t.getParentFromElement(this._element),n={relatedTarget:this._element};Fo.trigger(e,"hide.bs.dropdown",n).defaultPrevented||(this._popper&&this._popper.destroy(),Qo.toggleClass(this._menu,"show"),Qo.toggleClass(this._element,"show"),Fo.trigger(e,"hidden.bs.dropdown",n))}},e.dispose=function(){bo(this._element,"bs.dropdown"),Fo.off(this._element,".bs.dropdown"),this._element=null,this._menu=null,this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;Fo.on(this._element,"click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},e._getConfig=function(t){return t=Ji({},this.constructor.Default,Qo.getDataAttributes(this._element),t),lo(cs,t,this.constructor.DefaultType),t},e._getMenuElement=function(){return Ko.next(this._element,".dropdown-menu")[0]},e._getPlacement=function(){var t=this._element.parentNode,e="bottom-start";return t.classList.contains("dropup")?(e="top-start",this._menu.classList.contains("dropdown-menu-right")&&(e="top-end")):t.classList.contains("dropright")?e="right-start":t.classList.contains("dropleft")?e="left-start":this._menu.classList.contains("dropdown-menu-right")&&(e="bottom-end"),e},e._detectNavbar=function(){return Boolean(this._element.closest(".navbar"))},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=Ji({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),Ji({},t,this._config.popperConfig)},t.dropdownInterface=function(e,n){var r=yo(e,"bs.dropdown");if(r||(r=new t(e,"object"==typeof n?n:null)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}},t.jQueryInterface=function(e){return this.each((function(){t.dropdownInterface(this,e)}))},t.clearMenus=function(e){if(!e||2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(var n=Ko.find('[data-toggle="dropdown"]'),r=0,i=n.length;r<i;r++){var o=t.getParentFromElement(n[r]),s=yo(n[r],"bs.dropdown"),a={relatedTarget:n[r]};if(e&&"click"===e.type&&(a.clickEvent=e),s){var u=s._menu;if(n[r].classList.contains("show"))if(!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&"Tab"===e.key)&&u.contains(e.target)))if(!Fo.trigger(o,"hide.bs.dropdown",a).defaultPrevented){var c;if("ontouchstart"in document.documentElement)(c=[]).concat.apply(c,document.body.children).forEach((function(t){return Fo.off(t,"mouseover",null,(function(){}))}));n[r].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),u.classList.remove("show"),n[r].classList.remove("show"),Fo.trigger(o,"hidden.bs.dropdown",a)}}}},t.getParentFromElement=function(t){return oo(t)||t.parentNode},t.dataApiKeydownHandler=function(e){if(!(/input|textarea/i.test(e.target.tagName)?"Space"===e.key||"Escape"!==e.key&&("ArrowDown"!==e.key&&"ArrowUp"!==e.key||e.target.closest(".dropdown-menu")):!ls.test(e.key))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!this.classList.contains("disabled"))){var n=t.getParentFromElement(this),r=this.classList.contains("show");if("Escape"===e.key)return(this.matches('[data-toggle="dropdown"]')?this:Ko.prev(this,'[data-toggle="dropdown"]')[0]).focus(),void t.clearMenus();if(r&&"Space"!==e.key){var i=Ko.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",n).filter(ho);if(i.length){var o=i.indexOf(e.target);"ArrowUp"===e.key&&o>0&&o--,"ArrowDown"===e.key&&o<i.length-1&&o++,i[o=-1===o?0:o].focus()}}else t.clearMenus()}},t.getInstance=function(t){return yo(t,"bs.dropdown")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}},{key:"Default",get:function(){return hs}},{key:"DefaultType",get:function(){return fs}}]),t}();Fo.on(document,"keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',ps.dataApiKeydownHandler),Fo.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",ps.dataApiKeydownHandler),Fo.on(document,"click.bs.dropdown.data-api",ps.clearMenus),Fo.on(document,"keyup.bs.dropdown.data-api",ps.clearMenus),Fo.on(document,"click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(t){t.preventDefault(),t.stopPropagation(),ps.dropdownInterface(this,"toggle")})),Fo.on(document,"click.bs.dropdown.data-api",".dropdown form",(function(t){return t.stopPropagation()}));var ds=vo();if(ds){var vs=ds.fn[cs];ds.fn[cs]=ps.jQueryInterface,ds.fn[cs].Constructor=ps,ds.fn[cs].noConflict=function(){return ds.fn[cs]=vs,ps.jQueryInterface}}var gs={backdrop:!0,keyboard:!0,focus:!0,show:!0},ms={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ys=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=Ko.findOne(".modal-dialog",t),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0,mo(t,"bs.modal",this)}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){this._element.classList.contains("fade")&&(this._isTransitioning=!0);var n=Fo.trigger(this._element,"show.bs.modal",{relatedTarget:t});this._isShown||n.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),Fo.on(this._element,"click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(t){return e.hide(t)})),Fo.on(this._dialog,"mousedown.dismiss.bs.modal",(function(){Fo.one(e._element,"mouseup.dismiss.bs.modal",(function(t){t.target===e._element&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},e.hide=function(t){var e=this;if((t&&t.preventDefault(),this._isShown&&!this._isTransitioning)&&!Fo.trigger(this._element,"hide.bs.modal").defaultPrevented){this._isShown=!1;var n=this._element.classList.contains("fade");if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),Fo.off(document,"focusin.bs.modal"),this._element.classList.remove("show"),Fo.off(this._element,"click.dismiss.bs.modal"),Fo.off(this._dialog,"mousedown.dismiss.bs.modal"),n){var r=so(this._element);Fo.one(this._element,"transitionend",(function(t){return e._hideModal(t)})),co(this._element,r)}else this._hideModal()}},e.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return Fo.off(t,".bs.modal")})),Fo.off(document,"focusin.bs.modal"),bo(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=Ji({},gs,t),lo("modal",t,ms),t},e._showElement=function(t){var e=this,n=this._element.classList.contains("fade"),r=Ko.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&po(this._element),this._element.classList.add("show"),this._config.focus&&this._enforceFocus();var i=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,Fo.trigger(e._element,"shown.bs.modal",{relatedTarget:t})};if(n){var o=so(this._dialog);Fo.one(this._dialog,"transitionend",i),co(this._dialog,o)}else i()},e._enforceFocus=function(){var t=this;Fo.off(document,"focusin.bs.modal"),Fo.on(document,"focusin.bs.modal",(function(e){document===e.target||t._element===e.target||t._element.contains(e.target)||t._element.focus()}))},e._setEscapeEvent=function(){var t=this;this._isShown?Fo.on(this._element,"keydown.dismiss.bs.modal",(function(e){t._config.keyboard&&"Escape"===e.key?(e.preventDefault(),t.hide()):t._config.keyboard||"Escape"!==e.key||t._triggerBackdropTransition()})):Fo.off(this._element,"keydown.dismiss.bs.modal")},e._setResizeEvent=function(){var t=this;this._isShown?Fo.on(window,"resize.bs.modal",(function(){return t._adjustDialog()})):Fo.off(window,"resize.bs.modal")},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){document.body.classList.remove("modal-open"),t._resetAdjustments(),t._resetScrollbar(),Fo.trigger(t._element,"hidden.bs.modal")}))},e._removeBackdrop=function(){this._backdrop.parentNode.removeChild(this._backdrop),this._backdrop=null},e._showBackdrop=function(t){var e=this,n=this._element.classList.contains("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),document.body.appendChild(this._backdrop),Fo.on(this._element,"click.dismiss.bs.modal",(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&e._triggerBackdropTransition()})),n&&po(this._backdrop),this._backdrop.classList.add("show"),!n)return void t();var r=so(this._backdrop);Fo.one(this._backdrop,"transitionend",t),co(this._backdrop,r)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove("show");var i=function(){e._removeBackdrop(),t()};if(this._element.classList.contains("fade")){var o=so(this._backdrop);Fo.one(this._backdrop,"transitionend",i),co(this._backdrop,o)}else i()}else t()},e._triggerBackdropTransition=function(){var t=this;if("static"===this._config.backdrop){if(Fo.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;var e=this._element.scrollHeight>document.documentElement.clientHeight;e||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");var n=so(this._dialog);Fo.off(this._element,"transitionend"),Fo.one(this._element,"transitionend",(function(){t._element.classList.remove("modal-static"),e||(Fo.one(t._element,"transitionend",(function(){t._element.style.overflowY=""})),co(t._element,n))})),co(this._element,n),this._element.focus()}else this.hide()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){Ko.find(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top").forEach((function(e){var n=e.style.paddingRight,r=window.getComputedStyle(e)["padding-right"];Qo.setDataAttribute(e,"padding-right",n),e.style.paddingRight=parseFloat(r)+t._scrollbarWidth+"px"})),Ko.find(".sticky-top").forEach((function(e){var n=e.style.marginRight,r=window.getComputedStyle(e)["margin-right"];Qo.setDataAttribute(e,"margin-right",n),e.style.marginRight=parseFloat(r)-t._scrollbarWidth+"px"}));var e=document.body.style.paddingRight,n=window.getComputedStyle(document.body)["padding-right"];Qo.setDataAttribute(document.body,"padding-right",e),document.body.style.paddingRight=parseFloat(n)+this._scrollbarWidth+"px"}document.body.classList.add("modal-open")},e._resetScrollbar=function(){Ko.find(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top").forEach((function(t){var e=Qo.getDataAttribute(t,"padding-right");void 0!==e&&(Qo.removeDataAttribute(t,"padding-right"),t.style.paddingRight=e)})),Ko.find(".sticky-top").forEach((function(t){var e=Qo.getDataAttribute(t,"margin-right");void 0!==e&&(Qo.removeDataAttribute(t,"margin-right"),t.style.marginRight=e)}));var t=Qo.getDataAttribute(document.body,"padding-right");void 0===t?document.body.style.paddingRight="":(Qo.removeDataAttribute(document.body,"padding-right"),document.body.style.paddingRight=t)},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t.jQueryInterface=function(e,n){return this.each((function(){var r=yo(this,"bs.modal"),i=Ji({},gs,Qo.getDataAttributes(this),"object"==typeof e&&e?e:{});if(r||(r=new t(this,i)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e](n)}else i.show&&r.show(n)}))},t.getInstance=function(t){return yo(t,"bs.modal")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}},{key:"Default",get:function(){return gs}}]),t}();Fo.on(document,"click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var e=this,n=oo(this);"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),Fo.one(n,"show.bs.modal",(function(t){t.defaultPrevented||Fo.one(n,"hidden.bs.modal",(function(){ho(e)&&e.focus()}))}));var r=yo(n,"bs.modal");if(!r){var i=Ji({},Qo.getDataAttributes(n),Qo.getDataAttributes(this));r=new ys(n,i)}r.show(this)}));var bs=vo();if(bs){var ws=bs.fn.modal;bs.fn.modal=ys.jQueryInterface,bs.fn.modal.Constructor=ys,bs.fn.modal.noConflict=function(){return bs.fn.modal=ws,ys.jQueryInterface}}var _s=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Es=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Is=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ts={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Ss(t,e,n){var r;if(!t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(e),s=(r=[]).concat.apply(r,i.body.querySelectorAll("*")),a=function(t,n){var r,i=s[t],a=i.nodeName.toLowerCase();if(-1===o.indexOf(a))return i.parentNode.removeChild(i),"continue";var u=(r=[]).concat.apply(r,i.attributes),c=[].concat(e["*"]||[],e[a]||[]);u.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===_s.indexOf(n)||Boolean(t.nodeValue.match(Es)||t.nodeValue.match(Is));for(var r=e.filter((function(t){return t instanceof RegExp})),i=0,o=r.length;i<o;i++)if(n.match(r[i]))return!0;return!1})(t,c)||i.removeAttribute(t.nodeName)}))},u=0,c=s.length;u<c;u++)a(u);return i.body.innerHTML}var As="tooltip",Ns=new RegExp("(^|\\s)bs-tooltip\\S+","g"),ks=["sanitize","allowList","sanitizeFn"],Cs={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object)"},Ds={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},xs={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,allowList:Ts,popperConfig:null},Os={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Ls=function(){function t(t,e){if(void 0===Ki)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners(),mo(t,this.constructor.DATA_KEY,this)}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=yo(t.delegateTarget,e);n||(n=new this.constructor(t.delegateTarget,this._getDelegateConfig()),mo(t.delegateTarget,e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(this.getTipElement().classList.contains("show"))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),bo(this.element,this.constructor.DATA_KEY),Fo.off(this.element,this.constructor.EVENT_KEY),Fo.off(this.element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.parentNode.removeChild(this.tip),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===this.element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var e=Fo.trigger(this.element,this.constructor.Event.SHOW),n=function t(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var n=e.getRootNode();return n instanceof ShadowRoot?n:null}return e instanceof ShadowRoot?e:e.parentNode?t(e.parentNode):null}(this.element),r=null===n?this.element.ownerDocument.documentElement.contains(this.element):n.contains(this.element);if(e.defaultPrevented||!r)return;var i=this.getTipElement(),o=no(this.constructor.NAME);i.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&i.classList.add("fade");var s="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,a=this._getAttachment(s);this._addAttachmentClass(a);var u,c=this._getContainer();if(mo(i,this.constructor.DATA_KEY,this),this.element.ownerDocument.documentElement.contains(this.tip)||c.appendChild(i),Fo.trigger(this.element,this.constructor.Event.INSERTED),this._popper=new Ki(this.element,i,this._getPopperConfig(a)),i.classList.add("show"),"ontouchstart"in document.documentElement)(u=[]).concat.apply(u,document.body.children).forEach((function(t){Fo.on(t,"mouseover",(function(){}))}));var l=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,Fo.trigger(t.element,t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)};if(this.tip.classList.contains("fade")){var h=so(this.tip);Fo.one(this.tip,"transitionend",l),co(this.tip,h)}else l()}},e.hide=function(){var t=this;if(this._popper){var e=this.getTipElement(),n=function(){"show"!==t._hoverState&&e.parentNode&&e.parentNode.removeChild(e),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),Fo.trigger(t.element,t.constructor.Event.HIDDEN),t._popper.destroy()};if(!Fo.trigger(this.element,this.constructor.Event.HIDE).defaultPrevented){var r;if(e.classList.remove("show"),"ontouchstart"in document.documentElement)(r=[]).concat.apply(r,document.body.children).forEach((function(t){return Fo.off(t,"mouseover",fo)}));if(this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this.tip.classList.contains("fade")){var i=so(e);Fo.one(e,"transitionend",n),co(e,i)}else n();this._hoverState=""}}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.getTipElement=function(){if(this.tip)return this.tip;var t=document.createElement("div");return t.innerHTML=this.config.template,this.tip=t.children[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent(Ko.findOne(".tooltip-inner",t),this.getTitle()),t.classList.remove("fade","show")},e.setElementContent=function(t,e){if(null!==t)return"object"==typeof e&&uo(e)?(e.jquery&&(e=e[0]),void(this.config.html?e.parentNode!==t&&(t.innerHTML="",t.appendChild(e)):t.textContent=e.textContent)):void(this.config.html?(this.config.sanitize&&(e=Ss(e,this.config.allowList,this.config.sanitizeFn)),t.innerHTML=e):t.textContent=e)},e.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getPopperConfig=function(t){var e=this;return Ji({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:"."+this.constructor.NAME+"-arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},e._addAttachmentClass=function(t){this.getTipElement().classList.add("bs-tooltip-"+t)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=Ji({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:uo(this.config.container)?this.config.container:Ko.findOne(this.config.container)},e._getAttachment=function(t){return Ds[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(e){if("click"===e)Fo.on(t.element,t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==e){var n="hover"===e?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r="hover"===e?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;Fo.on(t.element,n,t.config.selector,(function(e){return t._enter(e)})),Fo.on(t.element,r,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},Fo.on(this.element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=Ji({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||yo(t.delegateTarget,n))||(e=new this.constructor(t.delegateTarget,this._getDelegateConfig()),mo(t.delegateTarget,n,e)),t&&(e._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e.getTipElement().classList.contains("show")||"show"===e._hoverState?e._hoverState="show":(clearTimeout(e._timeout),e._hoverState="show",e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){"show"===e._hoverState&&e.show()}),e.config.delay.show):e.show())},e._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||yo(t.delegateTarget,n))||(e=new this.constructor(t.delegateTarget,this._getDelegateConfig()),mo(t.delegateTarget,n,e)),t&&(e._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){"out"===e._hoverState&&e.hide()}),e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){var e=Qo.getDataAttributes(this.element);return Object.keys(e).forEach((function(t){-1!==ks.indexOf(t)&&delete e[t]})),t&&"object"==typeof t.container&&t.container.jquery&&(t.container=t.container[0]),"number"==typeof(t=Ji({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),lo(As,t,this.constructor.DefaultType),t.sanitize&&(t.template=Ss(t.template,t.allowList,t.sanitizeFn)),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match(Ns);null!==e&&e.length>0&&e.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))},e._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(t.classList.remove("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t.jQueryInterface=function(e){return this.each((function(){var n=yo(this,"bs.tooltip"),r="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new t(this,r)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},t.getInstance=function(t){return yo(t,"bs.tooltip")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}},{key:"Default",get:function(){return xs}},{key:"NAME",get:function(){return As}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return Os}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Cs}}]),t}(),Rs=vo();if(Rs){var Ps=Rs.fn.tooltip;Rs.fn.tooltip=Ls.jQueryInterface,Rs.fn.tooltip.Constructor=Ls,Rs.fn.tooltip.noConflict=function(){return Rs.fn.tooltip=Ps,Ls.jQueryInterface}}var Us="popover",Ms=new RegExp("(^|\\s)bs-popover\\S+","g"),Fs=Ji({},Ls.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Vs=Ji({},Ls.DefaultType,{content:"(string|element|function)"}),js={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Bs=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.isWithContent=function(){return this.getTitle()||this._getContent()},i.setContent=function(){var t=this.getTipElement();this.setElementContent(Ko.findOne(".popover-header",t),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(Ko.findOne(".popover-body",t),e),t.classList.remove("fade","show")},i._addAttachmentClass=function(t){this.getTipElement().classList.add("bs-popover-"+t)},i._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},i._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match(Ms);null!==e&&e.length>0&&e.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))},r.jQueryInterface=function(t){return this.each((function(){var e=yo(this,"bs.popover"),n="object"==typeof t?t:null;if((e||!/dispose|hide/.test(t))&&(e||(e=new r(this,n),mo(this,"bs.popover",e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}}))},r.getInstance=function(t){return yo(t,"bs.popover")},Xi(r,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}},{key:"Default",get:function(){return Fs}},{key:"NAME",get:function(){return Us}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return js}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Vs}}]),r}(Ls),qs=vo();if(qs){var Gs=qs.fn.popover;qs.fn.popover=Bs.jQueryInterface,qs.fn.popover.Constructor=Bs,qs.fn.popover.noConflict=function(){return qs.fn.popover=Gs,Bs.jQueryInterface}}var zs="scrollspy",Hs={offset:10,method:"auto",target:""},Ws={offset:"number",method:"string",target:"(string|element)"},Qs=function(){function t(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" .nav-link, "+this._config.target+" .list-group-item, "+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Fo.on(this._scrollElement,"scroll.bs.scrollspy",(function(t){return n._process(t)})),this.refresh(),this._process(),mo(t,"bs.scrollspy",this)}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":"position",n="auto"===this._config.method?e:this._config.method,r="position"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Ko.find(this._selector).map((function(t){var e=io(t),i=e?Ko.findOne(e):null;if(i){var o=i.getBoundingClientRect();if(o.width||o.height)return[Qo[n](i).top+r,e]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},e.dispose=function(){bo(this._element,"bs.scrollspy"),Fo.off(this._scrollElement,".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=Ji({},Hs,"object"==typeof t&&t?t:{})).target&&uo(t.target)){var e=t.target.id;e||(e=no(zs),t.target.id=e),t.target="#"+e}return lo(zs,t,Ws),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),n=Ko.findOne(e.join(","));n.classList.contains("dropdown-item")?(Ko.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add("active"),n.classList.add("active")):(n.classList.add("active"),Ko.parents(n,".nav, .list-group").forEach((function(t){Ko.prev(t,".nav-link, .list-group-item").forEach((function(t){return t.classList.add("active")})),Ko.prev(t,".nav-item").forEach((function(t){Ko.children(t,".nav-link").forEach((function(t){return t.classList.add("active")}))}))}))),Fo.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:t})},e._clear=function(){Ko.find(this._selector).filter((function(t){return t.classList.contains("active")})).forEach((function(t){return t.classList.remove("active")}))},t.jQueryInterface=function(e){return this.each((function(){var n=yo(this,"bs.scrollspy");if(n||(n=new t(this,"object"==typeof e&&e)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},t.getInstance=function(t){return yo(t,"bs.scrollspy")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}},{key:"Default",get:function(){return Hs}}]),t}();Fo.on(window,"load.bs.scrollspy.data-api",(function(){Ko.find('[data-spy="scroll"]').forEach((function(t){return new Qs(t,Qo.getDataAttributes(t))}))}));var Ks=vo();if(Ks){var Ys=Ks.fn[zs];Ks.fn[zs]=Qs.jQueryInterface,Ks.fn[zs].Constructor=Qs,Ks.fn[zs].noConflict=function(){return Ks.fn[zs]=Ys,Qs.jQueryInterface}}var Xs=function(){function t(t){this._element=t,mo(this._element,"bs.tab",this)}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active")||this._element.classList.contains("disabled"))){var e,n=oo(this._element),r=this._element.closest(".nav, .list-group");if(r){var i="UL"===r.nodeName||"OL"===r.nodeName?":scope > li > .active":".active";e=(e=Ko.find(i,r))[e.length-1]}var o=null;if(e&&(o=Fo.trigger(e,"hide.bs.tab",{relatedTarget:this._element})),!(Fo.trigger(this._element,"show.bs.tab",{relatedTarget:e}).defaultPrevented||null!==o&&o.defaultPrevented)){this._activate(this._element,r);var s=function(){Fo.trigger(e,"hidden.bs.tab",{relatedTarget:t._element}),Fo.trigger(t._element,"shown.bs.tab",{relatedTarget:e})};n?this._activate(n,n.parentNode,s):s()}}},e.dispose=function(){bo(this._element,"bs.tab"),this._element=null},e._activate=function(t,e,n){var r=this,i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?Ko.children(e,".active"):Ko.find(":scope > li > .active",e))[0],o=n&&i&&i.classList.contains("fade"),s=function(){return r._transitionComplete(t,i,n)};if(i&&o){var a=so(i);i.classList.remove("show"),Fo.one(i,"transitionend",s),co(i,a)}else s()},e._transitionComplete=function(t,e,n){if(e){e.classList.remove("active");var r=Ko.findOne(":scope > .dropdown-menu .active",e.parentNode);r&&r.classList.remove("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}(t.classList.add("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),po(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&t.parentNode.classList.contains("dropdown-menu"))&&(t.closest(".dropdown")&&Ko.find(".dropdown-toggle").forEach((function(t){return t.classList.add("active")})),t.setAttribute("aria-expanded",!0));n&&n()},t.jQueryInterface=function(e){return this.each((function(){var n=yo(this,"bs.tab")||new t(this);if("string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},t.getInstance=function(t){return yo(t,"bs.tab")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}}]),t}();Fo.on(document,"click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(t){t.preventDefault(),(yo(this,"bs.tab")||new Xs(this)).show()}));var Js=vo();if(Js){var $s=Js.fn.tab;Js.fn.tab=Xs.jQueryInterface,Js.fn.tab.Constructor=Xs,Js.fn.tab.noConflict=function(){return Js.fn.tab=$s,Xs.jQueryInterface}}var Zs={animation:"boolean",autohide:"boolean",delay:"number"},ta={animation:!0,autohide:!0,delay:5e3},ea=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners(),mo(t,"bs.toast",this)}var e=t.prototype;return e.show=function(){var t=this;if(!Fo.trigger(this._element,"show.bs.toast").defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var e=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),Fo.trigger(t._element,"shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove("hide"),po(this._element),this._element.classList.add("showing"),this._config.animation){var n=so(this._element);Fo.one(this._element,"transitionend",e),co(this._element,n)}else e()}},e.hide=function(){var t=this;if(this._element.classList.contains("show")&&!Fo.trigger(this._element,"hide.bs.toast").defaultPrevented){var e=function(){t._element.classList.add("hide"),Fo.trigger(t._element,"hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var n=so(this._element);Fo.one(this._element,"transitionend",e),co(this._element,n)}else e()}},e.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),Fo.off(this._element,"click.dismiss.bs.toast"),bo(this._element,"bs.toast"),this._element=null,this._config=null},e._getConfig=function(t){return t=Ji({},ta,Qo.getDataAttributes(this._element),"object"==typeof t&&t?t:{}),lo("toast",t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;Fo.on(this._element,"click.dismiss.bs.toast",'[data-dismiss="toast"]',(function(){return t.hide()}))},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},t.jQueryInterface=function(e){return this.each((function(){var n=yo(this,"bs.toast");if(n||(n=new t(this,"object"==typeof e&&e)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e](this)}}))},t.getInstance=function(t){return yo(t,"bs.toast")},Xi(t,null,[{key:"VERSION",get:function(){return"5.0.0-alpha2"}},{key:"DefaultType",get:function(){return Zs}},{key:"Default",get:function(){return ta}}]),t}(),na=vo();if(na){var ra=na.fn.toast;na.fn.toast=ea.jQueryInterface,na.fn.toast.Constructor=ea,na.fn.toast.noConflict=function(){return na.fn.toast=ra,ea.jQueryInterface}}function ia(){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split("");for(let e=0,n=t.length;e<n;e++)switch(t[e]){case"x":t[e]=Math.floor(16*Math.random()).toString(16);break;case"y":t[e]=(Math.floor(4*Math.random())+8).toString(16)}return t.join("")}function oa(t){return t.substring(9,13)}
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function(){function t(t){throw t}var e=void 0,n=this;function r(t,r){var i,o=t.split("."),s=n;!(o[0]in s)&&s.execScript&&s.execScript("var "+o[0]);for(;o.length&&(i=o.shift());)o.length||r===e?s=s[i]?s[i]:s[i]={}:s[i]=r}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function o(t,e,n){var r,i="number"==typeof e?e:e=0,o="number"==typeof n?n:t.length;for(r=-1,i=7&o;i--;++e)r=r>>>8^u[255&(r^t[e])];for(i=o>>3;i--;e+=8)r=(r=(r=(r=(r=(r=(r=(r=r>>>8^u[255&(r^t[e])])>>>8^u[255&(r^t[e+1])])>>>8^u[255&(r^t[e+2])])>>>8^u[255&(r^t[e+3])])>>>8^u[255&(r^t[e+4])])>>>8^u[255&(r^t[e+5])])>>>8^u[255&(r^t[e+6])])>>>8^u[255&(r^t[e+7])];return(4294967295^r)>>>0}new(i?Uint8Array:Array)(256);var s,a=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],u=i?new Uint32Array(a):a;function c(){}function l(t){var e,n,r,o,s,a,u,c,l,h,f=t.length,p=0,d=Number.POSITIVE_INFINITY;for(c=0;c<f;++c)t[c]>p&&(p=t[c]),t[c]<d&&(d=t[c]);for(e=1<<p,n=new(i?Uint32Array:Array)(e),r=1,o=0,s=2;r<=p;){for(c=0;c<f;++c)if(t[c]===r){for(a=0,u=o,l=0;l<r;++l)a=a<<1|1&u,u>>=1;for(h=r<<16|c,l=a;l<e;l+=s)n[l]=h;++o}++r,o<<=1,s<<=1}return[n,p,d]}for(c.prototype.getName=function(){return this.name},c.prototype.getData=function(){return this.data},c.prototype.G=function(){return this.H},s=0;288>s;s++)switch(!0){case 143>=s:case 255>=s:case 279>=s:case 287>=s:break;default:t("invalid literal: "+s)}!function(){function e(e){switch(!0){case 3===e:return[257,e-3,0];case 4===e:return[258,e-4,0];case 5===e:return[259,e-5,0];case 6===e:return[260,e-6,0];case 7===e:return[261,e-7,0];case 8===e:return[262,e-8,0];case 9===e:return[263,e-9,0];case 10===e:return[264,e-10,0];case 12>=e:return[265,e-11,1];case 14>=e:return[266,e-13,1];case 16>=e:return[267,e-15,1];case 18>=e:return[268,e-17,1];case 22>=e:return[269,e-19,2];case 26>=e:return[270,e-23,2];case 30>=e:return[271,e-27,2];case 34>=e:return[272,e-31,2];case 42>=e:return[273,e-35,3];case 50>=e:return[274,e-43,3];case 58>=e:return[275,e-51,3];case 66>=e:return[276,e-59,3];case 82>=e:return[277,e-67,4];case 98>=e:return[278,e-83,4];case 114>=e:return[279,e-99,4];case 130>=e:return[280,e-115,4];case 162>=e:return[281,e-131,5];case 194>=e:return[282,e-163,5];case 226>=e:return[283,e-195,5];case 257>=e:return[284,e-227,5];case 258===e:return[285,e-258,0];default:t("invalid length: "+e)}}var n,r,i=[];for(n=3;258>=n;n++)r=e(n),i[n]=r[2]<<24|r[1]<<16|r[0]}();function h(e,n){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=i?new Uint8Array(e):e,this.o=!1,this.k=p,this.w=!1,!n&&(n={})||(n.index&&(this.c=n.index),n.bufferSize&&(this.j=n.bufferSize),n.bufferType&&(this.k=n.bufferType),n.resize&&(this.w=n.resize)),this.k){case f:this.a=32768,this.b=new(i?Uint8Array:Array)(32768+this.j+258);break;case p:this.a=0,this.b=new(i?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:t(Error("invalid inflate mode"))}}var f=0,p=1;h.prototype.g=function(){for(;!this.o;){var n=O(this,3);switch(1&n&&(this.o=!0),n>>>=1){case 0:var r=this.input,o=this.c,s=this.b,a=this.a,u=r.length,c=e,h=s.length,d=e;switch(this.d=this.f=0,o+1>=u&&t(Error("invalid uncompressed block header: LEN")),c=r[o++]|r[o++]<<8,o+1>=u&&t(Error("invalid uncompressed block header: NLEN")),c===~(r[o++]|r[o++]<<8)&&t(Error("invalid uncompressed block header: length verify")),o+c>r.length&&t(Error("input buffer is broken")),this.k){case f:for(;a+c>s.length;){if(c-=d=h-a,i)s.set(r.subarray(o,o+d),a),a+=d,o+=d;else for(;d--;)s[a++]=r[o++];this.a=a,s=this.e(),a=this.a}break;case p:for(;a+c>s.length;)s=this.e({t:2});break;default:t(Error("invalid inflate mode"))}if(i)s.set(r.subarray(o,o+c),a),a+=c,o+=c;else for(;c--;)s[a++]=r[o++];this.c=o,this.a=a,this.b=s;break;case 1:this.l(C,x);break;case 2:var v,g,y,b,w=O(this,5)+257,_=O(this,5)+1,E=O(this,4)+4,I=new(i?Uint8Array:Array)(m.length),T=e,S=e,A=e,N=e,k=e;for(k=0;k<E;++k)I[m[k]]=O(this,3);if(!i)for(k=E,E=I.length;k<E;++k)I[m[k]]=0;for(v=l(I),T=new(i?Uint8Array:Array)(w+_),k=0,b=w+_;k<b;)switch(S=L(this,v),S){case 16:for(N=3+O(this,2);N--;)T[k++]=A;break;case 17:for(N=3+O(this,3);N--;)T[k++]=0;A=0;break;case 18:for(N=11+O(this,7);N--;)T[k++]=0;A=0;break;default:A=T[k++]=S}g=l(i?T.subarray(0,w):T.slice(0,w)),y=l(i?T.subarray(w):T.slice(w)),this.l(g,y);break;default:t(Error("unknown BTYPE: "+n))}}return this.q()};var d,v,g=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],m=i?new Uint16Array(g):g,y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],b=i?new Uint16Array(y):y,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],_=i?new Uint8Array(w):w,E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],I=i?new Uint16Array(E):E,T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=i?new Uint8Array(T):T,A=new(i?Uint8Array:Array)(288);for(d=0,v=A.length;d<v;++d)A[d]=143>=d?8:255>=d?9:279>=d?7:8;var N,k,C=l(A),D=new(i?Uint8Array:Array)(30);for(N=0,k=D.length;N<k;++N)D[N]=5;var x=l(D);function O(e,n){for(var r,i=e.f,o=e.d,s=e.input,a=e.c,u=s.length;o<n;)a>=u&&t(Error("input buffer is broken")),i|=s[a++]<<o,o+=8;return r=i&(1<<n)-1,e.f=i>>>n,e.d=o-n,e.c=a,r}function L(e,n){for(var r,i,o=e.f,s=e.d,a=e.input,u=e.c,c=a.length,l=n[0],h=n[1];s<h&&!(u>=c);)o|=a[u++]<<s,s+=8;return(i=(r=l[o&(1<<h)-1])>>>16)>s&&t(Error("invalid code length: "+i)),e.f=o>>i,e.d=s-i,e.c=u,65535&r}function R(t){this.input=t,this.c=0,this.m=[],this.s=!1}h.prototype.l=function(t,e){var n=this.b,r=this.a;this.r=t;for(var i,o,s,a,u=n.length-258;256!==(i=L(this,t));)if(256>i)r>=u&&(this.a=r,n=this.e(),r=this.a),n[r++]=i;else for(a=b[o=i-257],0<_[o]&&(a+=O(this,_[o])),i=L(this,e),s=I[i],0<S[i]&&(s+=O(this,S[i])),r>=u&&(this.a=r,n=this.e(),r=this.a);a--;)n[r]=n[r++-s];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},h.prototype.C=function(t,e){var n=this.b,r=this.a;this.r=t;for(var i,o,s,a,u=n.length;256!==(i=L(this,t));)if(256>i)r>=u&&(u=(n=this.e()).length),n[r++]=i;else for(a=b[o=i-257],0<_[o]&&(a+=O(this,_[o])),i=L(this,e),s=I[i],0<S[i]&&(s+=O(this,S[i])),r+a>u&&(u=(n=this.e()).length);a--;)n[r]=n[r++-s];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},h.prototype.e=function(){var t,e,n=new(i?Uint8Array:Array)(this.a-32768),r=this.a-32768,o=this.b;if(i)n.set(o.subarray(32768,n.length));else for(t=0,e=n.length;t<e;++t)n[t]=o[t+32768];if(this.i.push(n),this.n+=n.length,i)o.set(o.subarray(r,r+32768));else for(t=0;32768>t;++t)o[t]=o[r+t];return this.a=32768,o},h.prototype.D=function(t){var e,n,r,o=this.input.length/this.c+1|0,s=this.input,a=this.b;return t&&("number"==typeof t.t&&(o=t.t),"number"==typeof t.z&&(o+=t.z)),2>o?n=(r=(s.length-this.c)/this.r[2]/2*258|0)<a.length?a.length+r:a.length<<1:n=a.length*o,i?(e=new Uint8Array(n)).set(a):e=a,this.b=e},h.prototype.q=function(){var t,e,n,r,o,s=0,a=this.b,u=this.i,c=new(i?Uint8Array:Array)(this.n+(this.a-32768));if(0===u.length)return i?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(e=0,n=u.length;e<n;++e)for(r=0,o=(t=u[e]).length;r<o;++r)c[s++]=t[r];for(e=32768,n=this.a;e<n;++e)c[s++]=a[e];return this.i=[],this.buffer=c},h.prototype.A=function(){var t,e=this.a;return i?this.w?(t=new Uint8Array(e)).set(this.b.subarray(0,e)):t=this.b.subarray(0,e):(this.b.length>e&&(this.b.length=e),t=this.b),this.buffer=t},R.prototype.F=function(){return this.s||this.g(),this.m.slice()},R.prototype.g=function(){for(var n=this.input.length;this.c<n;){var r,s,a=new c,u=e,l=e,f=e,p=e,d=e,v=e,g=e,m=this.input,y=this.c;switch(a.u=m[y++],a.v=m[y++],(31!==a.u||139!==a.v)&&t(Error("invalid file signature:"+a.u+","+a.v)),a.p=m[y++],a.p){case 8:break;default:t(Error("unknown compression method: "+a.p))}if(a.h=m[y++],s=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24,a.H=new Date(1e3*s),a.N=m[y++],a.M=m[y++],0<(4&a.h)&&(a.I=m[y++]|m[y++]<<8,y+=a.I),0<(8&a.h)){for(v=[],d=0;0<(p=m[y++]);)v[d++]=String.fromCharCode(p);a.name=v.join("")}if(0<(16&a.h)){for(v=[],d=0;0<(p=m[y++]);)v[d++]=String.fromCharCode(p);a.J=v.join("")}0<(2&a.h)&&(a.B=65535&o(m,0,y),a.B!==(m[y++]|m[y++]<<8)&&t(Error("invalid header crc16"))),u=m[m.length-4]|m[m.length-3]<<8|m[m.length-2]<<16|m[m.length-1]<<24,m.length-y-4-4<512*u&&(f=u),l=new h(m,{index:y,bufferSize:f}),a.data=r=l.g(),y=l.c,a.K=g=(m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24)>>>0,o(r,e,e)!==g&&t(Error("invalid CRC-32 checksum: 0x"+o(r,e,e).toString(16)+" / 0x"+g.toString(16))),a.L=u=(m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24)>>>0,(4294967295&r.length)!==u&&t(Error("invalid input size: "+(4294967295&r.length)+" / "+u)),this.m.push(a),this.c=y}this.s=!0;var b,w,_,E=this.m,I=0,T=0;for(b=0,w=E.length;b<w;++b)T+=E[b].data.length;if(i)for(_=new Uint8Array(T),b=0;b<w;++b)_.set(E[b].data,I),I+=E[b].data.length;else{for(_=[],b=0;b<w;++b)_[b]=E[b].data;_=Array.prototype.concat.apply([],_)}return _},r("Zlib.Gunzip",R),r("Zlib.Gunzip.prototype.decompress",R.prototype.g),r("Zlib.Gunzip.prototype.getMembers",R.prototype.F),r("Zlib.GunzipMember",c),r("Zlib.GunzipMember.prototype.getName",c.prototype.getName),r("Zlib.GunzipMember.prototype.getData",c.prototype.getData),r("Zlib.GunzipMember.prototype.getMtime",c.prototype.G)}).call(window);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var sa=function(t,e){return(sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function aa(t,e){function n(){this.constructor=t}sa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ua=function(){return(ua=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ca(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function la(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function ha(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fa(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function pa(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(fa(arguments[e]));return t}function da(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=va(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ga=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ya(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ba=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,wa.prototype.create),i}return aa(e,t),e}(Error),wa=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?_a(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new ba(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function _a(t,e){return t.replace(Ea,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Ea=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ta(t,e){var n=new Sa(t,e);return n.subscribe.bind(n)}var Sa=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Aa),void 0===r.error&&(r.error=Aa),void 0===r.complete&&(r.complete=Aa);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Aa(){}var Na=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),ka=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new ga;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=ua({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=ha(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=fa(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return ca(this,void 0,void 0,(function(){var t;return la(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(pa(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca,Da=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ka(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function xa(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oa,La,Ra=[];(La=Oa||(Oa={}))[La.DEBUG=0]="DEBUG",La[La.VERBOSE=1]="VERBOSE",La[La.INFO=2]="INFO",La[La.WARN=3]="WARN",La[La.ERROR=4]="ERROR",La[La.SILENT=5]="SILENT";var Pa,Ua={debug:Oa.DEBUG,verbose:Oa.VERBOSE,info:Oa.INFO,warn:Oa.WARN,error:Oa.ERROR,silent:Oa.SILENT},Ma=Oa.INFO,Fa=((Ca={})[Oa.DEBUG]="log",Ca[Oa.VERBOSE]="log",Ca[Oa.INFO]="info",Ca[Oa.WARN]="warn",Ca[Oa.ERROR]="error",Ca),Va=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Fa[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,xa(["["+i+"]  "+t.name+":"],n))}},ja=function(){function t(t){this.name=t,this._logLevel=Ma,this._logHandler=Va,this._userLogHandler=null,Ra.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Oa))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Ua[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xa([this,Oa.DEBUG],t)),this._logHandler.apply(this,xa([this,Oa.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xa([this,Oa.VERBOSE],t)),this._logHandler.apply(this,xa([this,Oa.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xa([this,Oa.INFO],t)),this._logHandler.apply(this,xa([this,Oa.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xa([this,Oa.WARN],t)),this._logHandler.apply(this,xa([this,Oa.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,xa([this,Oa.ERROR],t)),this._logHandler.apply(this,xa([this,Oa.ERROR],t))},t}();function Ba(t){Ra.forEach((function(e){e.setLogLevel(t)}))}var qa,Ga=((Pa={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Pa["bad-app-name"]="Illegal App name: '{$appName}",Pa["duplicate-app"]="Firebase App named '{$appName}' already exists",Pa["app-deleted"]="Firebase App named '{$appName}' already deleted",Pa["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Pa["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Pa),za=new wa("app","Firebase",Ga),Ha=((qa={})["@firebase/app"]="fire-core",qa["@firebase/analytics"]="fire-analytics",qa["@firebase/auth"]="fire-auth",qa["@firebase/database"]="fire-rtdb",qa["@firebase/functions"]="fire-fn",qa["@firebase/installations"]="fire-iid",qa["@firebase/messaging"]="fire-fcm",qa["@firebase/performance"]="fire-perf",qa["@firebase/remote-config"]="fire-rc",qa["@firebase/storage"]="fire-gcs",qa["@firebase/firestore"]="fire-fst",qa["fire-js"]="fire-js",qa["firebase-wrapper"]="fire-js-all",qa),Wa=new ja("@firebase/app"),Qa=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=va(void 0,t),this.container=new Da(e.name),this._addComponent(new Na("app",(function(){return o}),"PUBLIC"));try{for(var s=ha(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Wa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw za.create("app-deleted",{appName:this.name_})},t}();Qa.prototype.name&&Qa.prototype.options||Qa.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ka(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw za.create("bad-app-name",{appName:String(s)});if(Ia(e,s))throw za.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Ha[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Wa.warn(u.join(" "))}o(new Na(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:Ba,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw za.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=Ua[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Oa[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Ra;r<i.length;r++){n(i[r])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Ia(e,t=t||"[DEFAULT]"))throw za.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u=o.name;if(n.has(u))return Wa.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw za.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&va(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var l=ha(Object.keys(e)),h=l.next();!h.done;h=l.next()){var f=h.value;e[f]._addComponent(o)}}catch(t){s={error:t}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ya=function t(){var e=Ka(Qa);return e.INTERNAL=ua(ua({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){va(e,t)},createSubscribe:Ta,ErrorFactory:wa,deepExtend:va}),e}(),Xa=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Wa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ja=self.firebase.SDK_VERSION;Ja&&Ja.indexOf("LITE")>=0&&Wa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var $a=Ya.initializeApp;Ya.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ya()&&Wa.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),$a.apply(void 0,t)};var Za,tu,eu=Ya;(Za=eu).INTERNAL.registerComponent(new Na("platform-logger",(function(t){return new Xa(t)}),"PRIVATE")),Za.registerVersion("@firebase/app","0.6.11",tu),Za.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
eu.registerVersion("firebase","7.22.1","app");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var nu=function(t,e){return(nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ru(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var iu,ou="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},su=su||{},au=ou||self;function uu(){}function cu(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function lu(t){var e=cu(t);return"array"==e||"object"==e&&"number"==typeof t.length}function hu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var fu="closure_uid_"+(1e9*Math.random()>>>0),pu=0;function du(t,e,n){return t.call.apply(t.bind,arguments)}function vu(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function gu(t,e,n){return(gu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?du:vu).apply(null,arguments)}function mu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var yu=Date.now;function bu(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function wu(){this.j=this.j,this.i=this.i}wu.prototype.j=!1,wu.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,fu)&&t[fu]||(t[fu]=++pu)})(this)},wu.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _u=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Eu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Iu(t){return Array.prototype.concat.apply([],arguments)}function Tu(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Su(t){return/^[\s\xa0]*$/.test(t)}var Au,Nu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ku(t,e){return-1!=t.indexOf(e)}function Cu(t,e){return t<e?-1:t>e?1:0}t:{var Du=au.navigator;if(Du){var xu=Du.userAgent;if(xu){Au=xu;break t}}Au=""}function Ou(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Lu(t){var e={};for(var n in t)e[n]=t[n];return e}var Ru="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pu(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ru.length;o++)n=Ru[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uu(t){return Uu[" "](t),t}Uu[" "]=uu;var Mu,Fu,Vu=ku(Au,"Opera"),ju=ku(Au,"Trident")||ku(Au,"MSIE"),Bu=ku(Au,"Edge"),qu=Bu||ju,Gu=ku(Au,"Gecko")&&!(ku(Au.toLowerCase(),"webkit")&&!ku(Au,"Edge"))&&!(ku(Au,"Trident")||ku(Au,"MSIE"))&&!ku(Au,"Edge"),zu=ku(Au.toLowerCase(),"webkit")&&!ku(Au,"Edge");function Hu(){var t=au.document;return t?t.documentMode:void 0}t:{var Wu="",Qu=(Fu=Au,Gu?/rv:([^\);]+)(\)|;)/.exec(Fu):Bu?/Edge\/([\d\.]+)/.exec(Fu):ju?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Fu):zu?/WebKit\/(\S+)/.exec(Fu):Vu?/(?:Version)[ \/]?(\S+)/.exec(Fu):void 0);if(Qu&&(Wu=Qu?Qu[1]:""),ju){var Ku=Hu();if(null!=Ku&&Ku>parseFloat(Wu)){Mu=String(Ku);break t}}Mu=Wu}var Yu,Xu={};function Ju(t){return function(t,e){var n=Xu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Nu(String(Mu)).split("."),r=Nu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Cu(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Cu(0==s[2].length,0==a[2].length)||Cu(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(au.document&&ju){var $u=Hu();Yu=$u||(parseInt(Mu,10)||void 0)}else Yu=void 0;var Zu=Yu,tc=!ju||9<=Number(Zu),ec=ju&&!Ju("9"),nc=function(){if(!au.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{au.addEventListener("test",uu,e),au.removeEventListener("test",uu,e)}catch(t){}return t}();function rc(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ic(t,e){if(rc.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Gu){t:{try{Uu(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:oc[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}rc.prototype.b=function(){this.defaultPrevented=!0},bu(ic,rc);var oc={2:"touch",3:"pen",4:"mouse"};ic.prototype.b=function(){ic.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ec)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var sc="closure_listenable_"+(1e6*Math.random()|0),ac=0;function uc(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ac,this.Y=this.Z=!1}function cc(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function lc(t){this.src=t,this.a={},this.b=0}function hc(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=_u(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(cc(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function fc(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}lc.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=fc(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new uc(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var pc="closure_lm_"+(1e6*Math.random()|0),dc={};function vc(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Ic(r),e&&e[sc]?e.wa(n,r,hu(i)?!!i.capture:!!i,o):gc(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)vc(t,e[o],n,r,i);return null}return n=Ic(n),t&&t[sc]?t.va(e,n,hu(r)?!!r.capture:!!r,i):gc(t,e,n,!1,r,i)}function gc(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=hu(i)?!!i.capture:!!i;if(s&&!tc)return null;var a=_c(t);if(a||(t[pc]=a=new lc(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wc,e=tc?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nc||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yc(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mc(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[sc])hc(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yc(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_c(e))?(hc(n,t),0==n.b&&(n.src=null,e[pc]=null)):cc(t)}}}function yc(t){return t in dc?dc[t]:dc[t]="on"+t}function bc(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&mc(t),n.call(r,e)}function wc(t,e){if(t.Y)return!0;if(!tc){if(!e)t:{e=["window","event"];for(var n=au,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return bc(t,e=new ic(e,this))}return bc(t,new ic(e,this))}function _c(t){return(t=t[pc])instanceof lc?t:null}var Ec="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ic(t){return"function"==cu(t)?t:(t[Ec]||(t[Ec]=function(e){return t.handleEvent(e)}),t[Ec])}function Tc(){wu.call(this),this.c=new lc(this),this.J=this,this.C=null}function Sc(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&hc(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}bu(Tc,wu),Tc.prototype[sc]=!0,(iu=Tc.prototype).addEventListener=function(t,e,n,r){vc(this,t,e,n,r)},iu.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=hu(i)?!!i.capture:!!i,r=Ic(r),e&&e[sc]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=fc(s=e.a[n],r,i,o))&&(cc(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--)))):e&&(e=_c(e))&&(n=e.a[n.toString()],e=-1,n&&(e=fc(n,r,i,o)),(r=-1<e?n[e]:null)&&mc(r))}(this,t,e,n,r)},iu.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new rc(t,n);else if(t instanceof rc)t.target=t.target||n;else{var i=t;Pu(t=new rc(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Sc(s,r,!0,t)&&i}if(i=Sc(s=t.a=n,r,!0,t)&&i,i=Sc(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Sc(s=t.a=e[o],r,!1,t)&&i;return i},iu.G=function(){if(Tc.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)cc(n[r]);delete e.a[t],e.b--}}this.C=null},iu.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},iu.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ac=au.JSON.stringify;function Nc(){this.b=this.a=null}var kc,Cc=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new xc}),(function(t){t.reset()}),100);function Dc(){var t=Pc,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function xc(){this.next=this.b=this.a=null}function Oc(t){au.setTimeout((function(){throw t}),0)}function Lc(t,e){kc||function(){var t=au.Promise.resolve(void 0);kc=function(){t.then(Uc)}}(),Rc||(kc(),Rc=!0),Pc.add(t,e)}Nc.prototype.add=function(t,e){var n=Cc.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},xc.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xc.prototype.reset=function(){this.next=this.b=this.a=null};var Rc=!1,Pc=new Nc;function Uc(){for(var t;t=Dc();){try{t.a.call(t.b)}catch(t){Oc(t)}var e=Cc;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Rc=!1}function Mc(t,e){Tc.call(this),this.b=t||1,this.a=e||au,this.f=gu(this.Ya,this),this.g=yu()}function Fc(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Vc(t,e,n){if("function"==cu(t))n&&(t=gu(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=gu(t.handleEvent,t)}return 2147483647<Number(e)?-1:au.setTimeout(t,e||0)}function jc(t){t.a=Vc((function(){t.a=null,t.c&&(t.c=!1,jc(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}bu(Mc,Tc),(iu=Mc.prototype).aa=!1,iu.M=null,iu.Ya=function(){if(this.aa){var t=yu()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Fc(this),this.start()))}},iu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=yu())},iu.G=function(){Mc.S.G.call(this),Fc(this),delete this.a};var Bc=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}nu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:jc(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(au.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(wu);function qc(t){wu.call(this),this.b=t,this.a={}}bu(qc,wu);var Gc=[];function zc(t,e,n,r){Array.isArray(n)||(n&&(Gc[0]=n.toString()),n=Gc);for(var i=0;i<n.length;i++){var o=vc(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Hc(t){Ou(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mc(t)}),t),t.a={}}function Wc(){this.a=!0}function Qc(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ac(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}qc.prototype.G=function(){qc.S.G.call(this),Hc(this)},qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wc.prototype.info=function(){};var Kc=null;function Yc(){return Kc=Kc||new Tc}function Xc(t){rc.call(this,"serverreachability",t)}function Jc(t){var e=Yc();e.dispatchEvent(new Xc(e,t))}function $c(t){rc.call(this,"statevent",t)}function Zc(t){var e=Yc();e.dispatchEvent(new $c(e,t))}function tl(t){rc.call(this,"timingevent",t)}function el(t,e){if("function"!=cu(t))throw Error("Fn must not be null and must be a function");return au.setTimeout((function(){t()}),e)}bu(Xc,rc),bu($c,rc),bu(tl,rc);var nl={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},rl={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function il(){}function ol(t){var e;return(e=t.a)||(e=t.a={}),e}function sl(){}il.prototype.a=null;var al,ul={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function cl(){rc.call(this,"d")}function ll(){rc.call(this,"c")}function hl(){}function fl(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new qc(this),this.P=pl,t=qu?125:void 0,this.R=new Mc(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}bu(cl,rc),bu(ll,rc),bu(hl,il),al=new hl;var pl=45e3,dl={},vl={};function gl(t,e,n){t.H=1,t.i=Fl(Ol(e)),t.j=n,t.I=!0,ml(t,null)}function ml(t,e){t.u=yu(),wl(t),t.l=Ol(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Jl(n.b,"t",r),t.D=0,t.a=Hh(t.g,t.g.C?e:null),0<t.O&&(t.F=new Bc(gu(t.Ca,t,t.a),t.O)),zc(t.J,t.a,"readystatechange",t.Wa),e=t.B?Lu(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Jc(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function yl(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=bl(t,n);if(i==vl){4==e&&(t.h=4,Zc(14),r=!1),Qc(t.c,t.f,null,"[Incomplete Response]");break}if(i==dl){t.h=4,Zc(15),Qc(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Qc(t.c,t.f,i,null),Sl(t,i)}4==e&&0==n.length&&(t.h=1,Zc(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mh(e),e.F=!0)):(Qc(t.c,t.f,n,"[Invalid Chunked Response]"),Tl(t),Il(t))}function bl(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?vl:(n=Number(e.substring(n,r)),isNaN(n)?dl:(r+=1)+n>e.length?vl:(e=e.substr(r,n),t.D=r+n,e))}function wl(t){t.U=yu()+t.P,_l(t,t.P)}function _l(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=el(gu(t.Ua,t),e)}function El(t){t.o&&(au.clearTimeout(t.o),t.o=null)}function Il(t){0==t.g.v||t.A||jh(t.g,t)}function Tl(t){El(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Fc(t.R),Hc(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Sl(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ih(n.b,t)))if(n.I=t.N,!t.C&&ih(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vh(n),kh(n)}Uh(n),Zc(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=el(gu(n.Ra,n),6e3));if(1>=rh(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else qh(n,11)}else if((t.C||n.a==t)&&Vh(n),!Su(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ku(l,"spdy")||ku(l,"quic")||ku(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(oh(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ml(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=yu()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=zh(u,u.C?u.ga:null,u.fa),p.C){sh(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(El(d),wl(d)),u.a=p}else Ph(u);0<n.g.length&&xh(n)}else"stop"!=i[0]&&"close"!=i[0]||qh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qh(n,7):Nh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Jc(4)}catch(t){}}function Al(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(lu(t)||"string"==typeof t)Eu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(lu(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(lu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Nl(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nl)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kl(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cl(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cl(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(iu=fl.prototype).setTimeout=function(t){this.P=t},iu.Wa=function(t){t=t.target;var e=this.F;e&&3==Ih(t)?e.f():this.Ca(t)},iu.Ca=function(t){try{if(t==this.a)t:{var e=Ih(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!qu&&!this.a.$())){this.A||4!=e||7==n||Jc(8==n||0>=r?3:2),El(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Su(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Zc(12),Tl(this),Il(this);break t}Qc(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Sl(this,u)}this.I?(yl(this,e,o),qu&&this.b&&3==e&&(zc(this.J,this.R,"tick",this.Va),this.R.start())):(Qc(this.c,this.f,o,null),Sl(this,o)),4==e&&Tl(this),this.b&&!this.A&&(4==e?jh(this.g,this):(this.b=!1,wl(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Zc(12)):(this.h=0,Zc(13)),Tl(this),Il(this)}}}catch(t){}},iu.Va=function(){if(this.a){var t=Ih(this.a),e=this.a.$();this.D<e.length&&(El(this),yl(this,t,e),this.b&&4!=t&&wl(this))}},iu.cancel=function(){this.A=!0,Tl(this)},iu.Ua=function(){this.o=null;var t=yu();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Jc(3),Zc(17)),Tl(this),this.h=2,Il(this)):_l(this,this.U-t)},(iu=Nl.prototype).K=function(){kl(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},iu.L=function(){return kl(this),this.a.concat()},iu.get=function(t,e){return Cl(this.b,t)?this.b[t]:e},iu.set=function(t,e){Cl(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},iu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xl(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xl){this.a=void 0!==e?e:t.a,Ll(this,t.f),this.j=t.j,Rl(this,t.c),Pl(this,t.h),this.g=t.g,e=t.b;var n=new Ql;n.c=e.c,e.a&&(n.a=new Nl(e.a),n.b=e.b),Ul(this,n),this.i=t.i}else t&&(n=String(t).match(Dl))?(this.a=!!e,Ll(this,n[1]||"",!0),this.j=Vl(n[2]||""),Rl(this,n[3]||"",!0),Pl(this,n[4]),this.g=Vl(n[5]||"",!0),Ul(this,n[6]||"",!0),this.i=Vl(n[7]||"")):(this.a=!!e,this.b=new Ql(null,this.a))}function Ol(t){return new xl(t)}function Ll(t,e,n){t.f=n?Vl(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Rl(t,e,n){t.c=n?Vl(e,!0):e}function Pl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ul(t,e,n){e instanceof Ql?(t.b=e,function(t,e){e&&!t.f&&(Kl(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yl(this,e),Jl(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=jl(e,Hl)),t.b=new Ql(e,t.a))}function Ml(t,e,n){t.b.set(e,n)}function Fl(t){return Ml(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^yu()).toString(36)),t}function Vl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bl),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xl.prototype.toString=function(){var t=[],e=this.f;e&&t.push(jl(e,ql,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(jl(e,ql,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(jl(n,"/"==n.charAt(0)?zl:Gl,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",jl(n,Wl)),t.join("")};var ql=/[#\/\?@]/g,Gl=/[#\?:]/g,zl=/[#\?]/g,Hl=/[#\?@]/g,Wl=/#/g;function Ql(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Kl(t){t.a||(t.a=new Nl,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Yl(t,e){Kl(t),e=$l(t,e),Cl(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cl((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kl(t)))}function Xl(t,e){return Kl(t),e=$l(t,e),Cl(t.a.b,e)}function Jl(t,e,n){Yl(t,e),0<n.length&&(t.c=null,t.a.set($l(t,e),Tu(n)),t.b+=n.length)}function $l(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zl(t,e){this.b=t,this.a=e}function th(t){this.g=t||eh,au.PerformanceNavigationTiming?t=0<(t=au.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(au.ia&&au.ia.ya&&au.ia.ya()&&au.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(iu=Ql.prototype).add=function(t,e){Kl(this),this.c=null,t=$l(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},iu.forEach=function(t,e){Kl(this),this.a.forEach((function(n,r){Eu(n,(function(n){t.call(e,n,r,this)}),this)}),this)},iu.L=function(){Kl(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},iu.K=function(t){Kl(this);var e=[];if("string"==typeof t)Xl(this,t)&&(e=Iu(e,this.a.get($l(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Iu(e,t[n])}return e},iu.set=function(t,e){return Kl(this),this.c=null,Xl(this,t=$l(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},iu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},iu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var eh=10;function nh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function rh(t){return t.b?1:t.a?t.a.size:0}function ih(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function oh(t,e){t.a?t.a.add(e):t.b=e}function sh(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ah(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ru(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Tu(t.c)}function uh(){}function ch(){this.a=new uh}function lh(t,e,n){var r=n||"";try{Al(t,(function(t,n){var i=t;hu(t)&&(i=Ac(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function hh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}th.prototype.cancel=function(){var t,e;if(this.c=ah(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ru(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},uh.prototype.stringify=function(t){return au.JSON.stringify(t,void 0)},uh.prototype.parse=function(t){return au.JSON.parse(t,void 0)};var fh=au.JSON.parse;function ph(t){Tc.call(this),this.headers=new Nl,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dh,this.D=this.F=!1}bu(ph,Tc);var dh="",vh=/^https?$/i,gh=["POST","PUT"];function mh(t){return"content-type"==t.toLowerCase()}function yh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,bh(t),_h(t)}function bh(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function wh(t){if(t.b&&void 0!==su&&(!t.s[1]||4!=Ih(t)||2!=t.X()))if(t.l&&4==Ih(t))Vc(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Ih(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Dl)[1]||null;if(!o&&au.self&&au.self.location){var s=au.self.location.protocol;o=s.substr(0,s.length-1)}i=!vh.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Ih(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.X()+"]",bh(t)}}finally{_h(t)}}}function _h(t,e){if(t.a){Eh(t);var n=t.a,r=t.s[0]?uu:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Eh(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(au.clearTimeout(t.m),t.m=null)}function Ih(t){return t.a?t.a.readyState:0}function Th(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ou(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ml(t,e,n))}function Sh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ah(t){this.pa=0,this.g=[],this.c=new Wc,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Sh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Sh("baseRetryDelayMs",5e3,t),this.Ma=Sh("retryDelaySeedMs",1e4,t),this.Ja=Sh("forwardChannelMaxRetries",2,t),this.ma=Sh("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new th(t&&t.concurrentRequestLimit),this.ka=new ch,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Nh(t){if(Ch(t),3==t.v){var e=t.R++,n=Ol(t.B);Ml(n,"SID",t.J),Ml(n,"RID",e),Ml(n,"TYPE","terminate"),Lh(t,n),(e=new fl(t,t.c,e,void 0)).H=2,e.i=Fl(Ol(n)),n=!1,au.navigator&&au.navigator.sendBeacon&&(n=au.navigator.sendBeacon(e.i.toString(),"")),!n&&au.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hh(e.g,null),e.a.ba(e.i)),e.u=yu(),wl(e)}Gh(t)}function kh(t){t.a&&(Mh(t),t.a.cancel(),t.a=null)}function Ch(t){kh(t),t.j&&(au.clearTimeout(t.j),t.j=null),Vh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&au.clearTimeout(t.h),t.h=null)}function Dh(t,e){t.g.push(new Zl(t.La++,e)),3==t.v&&xh(t)}function xh(t){nh(t.b)||t.h||(t.h=!0,Lc(t.Ba,t),t.u=0)}function Oh(t,e){var n;n=e?e.f:t.R++;var r=Ol(t.B);Ml(r,"SID",t.J),Ml(r,"RID",n),Ml(r,"AID",t.P),Lh(t,r),t.i&&t.l&&Th(r,t.i,t.l),n=new fl(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Rh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),oh(t.b,n),gl(n,r,e)}function Lh(t,e){t.f&&Al({},(function(t,n){Ml(e,n,t)}))}function Rh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?gu(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{lh(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ph(t){t.a||t.j||(t.U=1,Lc(t.Aa,t),t.o=0)}function Uh(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=el(gu(t.Aa,t),Bh(t,t.o)),t.o++,!0)}function Mh(t){null!=t.s&&(au.clearTimeout(t.s),t.s=null)}function Fh(t){t.a=new fl(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ol(t.la);Ml(e,"RID","rpc"),Ml(e,"SID",t.J),Ml(e,"CI",t.H?"0":"1"),Ml(e,"AID",t.P),Lh(t,e),Ml(e,"TYPE","xmlhttp"),t.i&&t.l&&Th(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Fl(Ol(e)),n.j=null,n.I=!0,ml(n,t)}function Vh(t){null!=t.m&&(au.clearTimeout(t.m),t.m=null)}function jh(t,e){var n=null;if(t.a==e){Vh(t),Mh(t),t.a=null;var r=2}else{if(!ih(t.b,e))return;n=e.s,sh(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=yu()-e.u;var i=t.u;(r=Yc()).dispatchEvent(new tl(r,n,e,i)),xh(t)}else Ph(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(rh(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=el(gu(t.Ba,t,e),Bh(t,t.u)),t.u++,!0))}(t,e)||2==r&&Uh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qh(t,5);break;case 4:qh(t,10);break;case 3:qh(t,6);break;default:qh(t,2)}}function Bh(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function qh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=gu(t.Xa,t);n||(n=new xl("//www.google.com/images/cleardot.gif"),au.location&&"http"==au.location.protocol||Ll(n,"https"),Fl(n)),function(t,e){var n=new Wc;if(au.Image){var r=new Image;r.onload=mu(hh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mu(hh,n,r,"TestLoadImage: error",!1,e),r.onabort=mu(hh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mu(hh,n,r,"TestLoadImage: timeout",!1,e),au.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zc(2);t.v=0,t.f&&t.f.ra(e),Gh(t),Ch(t)}function Gh(t){t.v=0,t.I=-1,t.f&&(0==ah(t.b).length&&0==t.g.length||(t.b.c.length=0,Tu(t.g),t.g.length=0),t.f.qa())}function zh(t,e,n){var r=function(t){return t instanceof xl?Ol(t):new xl(t,void 0)}(n);if(""!=r.c)e&&Rl(r,e+"."+r.c),Pl(r,r.h);else{var i=au.location;r=function(t,e,n,r){var i=new xl(null,void 0);return t&&Ll(i,t),e&&Rl(i,e),n&&Pl(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&Ou(t.W,(function(t,e){Ml(r,e,t)})),e=t.A,n=t.na,e&&n&&Ml(r,e,n),Ml(r,"VER",t.ha),Lh(t,r),r}function Hh(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ph(t.Ka)).F=t.C,e}function Wh(){}function Qh(){if(ju&&!(10<=Number(Zu)))throw Error("Environmental error: no available transport.")}function Kh(t,e){Tc.call(this),this.a=new Ah(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Su(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Su(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Jh(this)}function Yh(t){cl.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xh(){ll.call(this),this.status=1}function Jh(t){this.a=t}(iu=ph.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ol(this.H):ol(al),this.a.onreadystatechange=gu(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void yh(this,t)}t=n||"";var i=new Nl(this.headers);r&&Al(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=mh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=au.FormData&&t instanceof au.FormData,!(0<=_u(gh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Eh(this),0<this.o&&((this.D=function(t){return ju&&Ju(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=gu(this.xa,this)):this.m=Vc(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){yh(this,t)}},iu.xa=function(){void 0!==su&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},iu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_h(this))},iu.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_h(this,!0)),ph.S.G.call(this)},iu.za=function(){this.j||(this.A||this.l||this.g?wh(this):this.Ta())},iu.Ta=function(){wh(this)},iu.X=function(){try{return 2<Ih(this)?this.a.status:-1}catch(t){return-1}},iu.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},iu.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fh(e)}},iu.ua=function(){return this.h},iu.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(iu=Ah.prototype).ha=8,iu.v=1,iu.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new fl(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Pu(r=Lu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Rh(this,n,e),Ml(i=Ol(this.B),"RID",t),Ml(i,"CVER",22),this.A&&Ml(i,"X-HTTP-Session-Id",this.A),Lh(this,i),this.i&&r&&Th(i,this.i,r),oh(this.b,n),this.Ga&&Ml(i,"TYPE","init"),this.da?(Ml(i,"$req",e),Ml(i,"SID","null"),n.V=!0,gl(n,i,null)):gl(n,i,e),this.v=2}}else 3==this.v&&(t?Oh(this,t):0==this.g.length||nh(this.b)||Oh(this))},iu.Aa=function(){if(this.j=null,Fh(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=el(gu(this.Sa,this),t)}},iu.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,kh(this),Fh(this))},iu.Ra=function(){null!=this.m&&(this.m=null,kh(this),Uh(this),Zc(19))},iu.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Zc(2)):(this.c.info("Failed to ping google.com"),Zc(1))},(iu=Wh.prototype).ta=function(){},iu.sa=function(){},iu.ra=function(){},iu.qa=function(){},iu.Ha=function(){},Qh.prototype.a=function(t,e){return new Kh(t,e)},bu(Kh,Tc),(iu=Kh.prototype).addEventListener=function(t,e,n,r){Kh.S.addEventListener.call(this,t,e,n,r)},iu.removeEventListener=function(t,e,n,r){Kh.S.removeEventListener.call(this,t,e,n,r)},iu.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Zc(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=zh(t,null,t.fa),xh(t)},iu.close=function(){Nh(this.a)},iu.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Dh(this.a,e)}else this.g?((e={}).__data__=Ac(t),Dh(this.a,e)):Dh(this.a,t)},iu.G=function(){this.a.f=null,delete this.f,Nh(this.a),delete this.a,Kh.S.G.call(this)},bu(Yh,cl),bu(Xh,ll),bu(Jh,Wh),Jh.prototype.ta=function(){this.a.dispatchEvent("a")},Jh.prototype.sa=function(t){this.a.dispatchEvent(new Yh(t))},Jh.prototype.ra=function(t){this.a.dispatchEvent(new Xh(t))},Jh.prototype.qa=function(){this.a.dispatchEvent("b")},Qh.prototype.createWebChannel=Qh.prototype.a,Kh.prototype.send=Kh.prototype.Pa,Kh.prototype.open=Kh.prototype.Oa,Kh.prototype.close=Kh.prototype.close,nl.NO_ERROR=0,nl.TIMEOUT=8,nl.HTTP_ERROR=6,rl.COMPLETE="complete",sl.EventType=ul,ul.OPEN="a",ul.CLOSE="b",ul.ERROR="c",ul.MESSAGE="d",Tc.prototype.listen=Tc.prototype.va,ph.prototype.listenOnce=ph.prototype.wa,ph.prototype.getLastError=ph.prototype.Qa,ph.prototype.getLastErrorCode=ph.prototype.ua,ph.prototype.getStatus=ph.prototype.X,ph.prototype.getResponseJson=ph.prototype.Na,ph.prototype.getResponseText=ph.prototype.$,ph.prototype.send=ph.prototype.ba;var $h={createWebChannelTransport:function(){return new Qh},ErrorCode:nl,EventType:rl,WebChannel:sl,XhrIo:ph},Zh=$h.createWebChannelTransport,tf=$h.ErrorCode,ef=$h.EventType,nf=$h.WebChannel,rf=$h.XhrIo,of={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},sf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return aa(e,t),e}(Error),af=new ja("@firebase/firestore");function uf(){return af.logLevel}function cf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(af.logLevel<=Oa.DEBUG){var r=e.map(ff);af.debug.apply(af,da(["Firestore (7.22.0): "+t],r))}}function lf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(af.logLevel<=Oa.ERROR){var r=e.map(ff);af.error.apply(af,da(["Firestore (7.22.0): "+t],r))}}function hf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(af.logLevel<=Oa.WARN){var r=e.map(ff);af.warn.apply(af,da(["Firestore (7.22.0): "+t],r))}}function ff(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.22.0) INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function df(t,e){t||pf()}function vf(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bf=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&pf(),void 0===n?n=t.length-e:n>t.length-e&&pf(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return t=void 0===t?1:t,this.o(this.segments,this.offset+t,this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.P=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new sf(of.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.g=function(){return new e([])},e}(bf),_f=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return _f.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new sf(of.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new sf(of.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new sf(of.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new sf(of.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.g=function(){return new e([])},e}(bf),If=function(){function t(t){this.path=t}return t.D=function(e){return new t(wf.P(e))},t.C=function(e){return new t(wf.P(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wf.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return wf.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new wf(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t,e){if(0!==e.length)throw new sf(of.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+qf(e.length,"argument")+".")}function Sf(t,e,n){if(e.length!==n)throw new sf(of.INVALID_ARGUMENT,"Function "+t+"() requires "+qf(n,"argument")+", but was called with "+qf(e.length,"argument")+".")}function Af(t,e,n){if(e.length<n)throw new sf(of.INVALID_ARGUMENT,"Function "+t+"() requires at least "+qf(n,"argument")+", but was called with "+qf(e.length,"argument")+".")}function Nf(t,e,n,r){if(e.length<n||e.length>r)throw new sf(of.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+qf(e.length,"argument")+".")}function kf(t,e,n,r){Rf(t,e,Bf(n)+" argument",r)}function Cf(t,e,n,r){void 0!==r&&kf(t,e,n,r)}function Df(t,e,n,r){Rf(t,e,n+" option",r)}function xf(t,e,n,r){void 0!==r&&Df(t,e,n,r)}function Of(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(Uf(u))}var c=Uf(r);throw new sf(of.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Lf(t,e,n,r){if(!e.some((function(t){return t===r})))throw new sf(of.INVALID_ARGUMENT,"Invalid value "+Uf(r)+" provided to function "+t+"() for its "+Bf(n)+" argument. Acceptable values: "+e.join(", "));return r}function Rf(t,e,n,r){if(!("object"===e?Pf(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Uf(r);throw new sf(of.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Pf(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Uf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pf()}function Mf(t,e,n){if(void 0===n)throw new sf(of.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Bf(e)+" argument, but it was undefined.")}function Ff(t,e,n){mf(e,(function(e,r){if(n.indexOf(e)<0)throw new sf(of.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Vf(t,e,n,r){var i=Uf(r);return new sf(of.INVALID_ARGUMENT,"Function "+t+"() requires its "+Bf(n)+" argument to be a "+e+", but it was: "+i)}function jf(t,e,n){if(n<=0)throw new sf(of.INVALID_ARGUMENT,"Function "+t+"() requires its "+Bf(e)+" argument to be a positive number, but it was: "+n+".")}function Bf(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function qf(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zf=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Gf(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Hf(t,e){return t<e?-1:t>e?1:0}function Wf(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Qf(t){return t+"\0"}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kf=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.M,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return Hf(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();Kf.B=new Kf("");var Yf=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(Kf.fromBase64String(e))}catch(t){throw new sf(of.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},t.fromUint8Array=function(e){return new t(Kf.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(){if("undefined"==typeof Uint8Array)throw new sf(of.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Jf(){if("undefined"==typeof atob)throw new sf(of.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var $f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.fromBase64String=function(t){Sf("Blob.fromBase64String",arguments,1),kf("Blob.fromBase64String","string",1,t),Jf();try{return new e(Kf.fromBase64String(t))}catch(t){throw new sf(of.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(Sf("Blob.fromUint8Array",arguments,1),Xf(),!(t instanceof Uint8Array))throw Vf("Blob.fromUint8Array","Uint8Array",1,t);return new e(Kf.fromUint8Array(t))},e.prototype.toBase64=function(){return Sf("Blob.toBase64",arguments,0),Jf(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return Sf("Blob.toUint8Array",arguments,0),Xf(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Yf),Zf=function(t,e,n,r,i){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},tp=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return Hf(this.projectId,t.projectId)||Hf(this.database,t.database)},t}(),ep=function(){function t(t,e){this.j=t,this.K=e,this.G={}}return t.prototype.get=function(t){var e=this.j(t),n=this.G[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.K(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.j(t),r=this.G[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.K(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.G[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.j(t),n=this.G[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.K(n[r][0],t))return 1===n.length?delete this.G[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){mf(this.G,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.m=function(){return yf(this.G)},t}(),np=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new sf(of.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new sf(of.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new sf(of.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new sf(of.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.H=function(t){return this.seconds===t.seconds?Hf(this.nanoseconds,t.nanoseconds):Hf(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rp=function(){function t(t){this.timestamp=t}return t.Y=function(e){return new t(e)},t.min=function(){return new t(new np(0,0))},t.prototype.L=function(t){return this.timestamp.H(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.X=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){return null==t}function op(t){return 0===t&&1/t==-1/0}function sp(t){return"number"==typeof t&&Number.isInteger(t)&&!op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ap=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Z=null};function up(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ap(t,e,n,r,i,o,s)}function cp(t){var e=vf(t);if(null===e.Z){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.R()+e.op.toString()+Zp(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=tg(e.startAt)),e.endAt&&(n+="|ub:",n+=tg(e.endAt)),e.Z=n}return e.Z}function lp(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!og(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Yp(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ng(t.startAt,e.startAt)&&ng(t.endAt,e.endAt)}function hp(t){return If.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp,pp,dp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=rp.min()),void 0===o&&(o=rp.min()),void 0===s&&(s=Kf.B),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.nt=function(e){return new t(this.target,this.targetId,this.tt,e,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.st=function(e,n){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.it=function(e){return new t(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,e,this.resumeToken)},t}(),vp=function(t){this.count=t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(t){switch(t){case of.OK:return pf();case of.CANCELLED:case of.UNKNOWN:case of.DEADLINE_EXCEEDED:case of.RESOURCE_EXHAUSTED:case of.INTERNAL:case of.UNAVAILABLE:case of.UNAUTHENTICATED:return!1;case of.INVALID_ARGUMENT:case of.NOT_FOUND:case of.ALREADY_EXISTS:case of.PERMISSION_DENIED:case of.FAILED_PRECONDITION:case of.ABORTED:case of.OUT_OF_RANGE:case of.UNIMPLEMENTED:case of.DATA_LOSS:return!0;default:return pf()}}function mp(t){if(void 0===t)return lf("GRPC error has no .code"),of.UNKNOWN;switch(t){case fp.OK:return of.OK;case fp.CANCELLED:return of.CANCELLED;case fp.UNKNOWN:return of.UNKNOWN;case fp.DEADLINE_EXCEEDED:return of.DEADLINE_EXCEEDED;case fp.RESOURCE_EXHAUSTED:return of.RESOURCE_EXHAUSTED;case fp.INTERNAL:return of.INTERNAL;case fp.UNAVAILABLE:return of.UNAVAILABLE;case fp.UNAUTHENTICATED:return of.UNAUTHENTICATED;case fp.INVALID_ARGUMENT:return of.INVALID_ARGUMENT;case fp.NOT_FOUND:return of.NOT_FOUND;case fp.ALREADY_EXISTS:return of.ALREADY_EXISTS;case fp.PERMISSION_DENIED:return of.PERMISSION_DENIED;case fp.FAILED_PRECONDITION:return of.FAILED_PRECONDITION;case fp.ABORTED:return of.ABORTED;case fp.OUT_OF_RANGE:return of.OUT_OF_RANGE;case fp.UNIMPLEMENTED:return of.UNIMPLEMENTED;case fp.DATA_LOSS:return of.DATA_LOSS;default:return pf()}}(pp=fp||(fp={}))[pp.OK=0]="OK",pp[pp.CANCELLED=1]="CANCELLED",pp[pp.UNKNOWN=2]="UNKNOWN",pp[pp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pp[pp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pp[pp.NOT_FOUND=5]="NOT_FOUND",pp[pp.ALREADY_EXISTS=6]="ALREADY_EXISTS",pp[pp.PERMISSION_DENIED=7]="PERMISSION_DENIED",pp[pp.UNAUTHENTICATED=16]="UNAUTHENTICATED",pp[pp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pp[pp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pp[pp.ABORTED=10]="ABORTED",pp[pp.OUT_OF_RANGE=11]="OUT_OF_RANGE",pp[pp.UNIMPLEMENTED=12]="UNIMPLEMENTED",pp[pp.INTERNAL=13]="INTERNAL",pp[pp.UNAVAILABLE=14]="UNAVAILABLE",pp[pp.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yp=function(){function t(t,e){this.i=t,this.root=e||wp.EMPTY}return t.prototype.rt=function(e,n){return new t(this.i,this.root.rt(e,n,this.i).copy(null,null,wp.ot,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,wp.ot,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.at=function(){return this.root.at()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.lt=function(){return new bp(this.root,null,this.i,!1)},t.prototype._t=function(t){return new bp(this.root,t,this.i,!1)},t.prototype.ft=function(){return new bp(this.root,null,this.i,!0)},t.prototype.dt=function(t){return new bp(this.root,t,this.i,!0)},t}(),bp=function(){function t(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}return t.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.m();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.m();)this.Tt.push(t),t=t.left;return e},t.prototype.It=function(){return this.Tt.length>0},t.prototype.At=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),wp=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.m=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.at=function(){return this.min().key},t.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},t.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.gt()||e.left.left.gt()||(e=e.yt()),(e=e.copy(null,null,null,e.left.Pt(),null)).Rt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.gt()||i.left.left.gt()||(i=i.yt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.gt()&&(i=i.Vt()),i.right.m()||i.right.gt()||i.right.left.gt()||(i=i.bt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Rt()},t.prototype.gt=function(){return this.color},t.prototype.Rt=function(){var t=this;return t.right.gt()&&!t.left.gt()&&(t=t.vt()),t.left.gt()&&t.left.left.gt()&&(t=t.Vt()),t.left.gt()&&t.right.gt()&&(t=t.St()),t},t.prototype.yt=function(){var t=this.St();return t.right.left.gt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Vt())).vt()).St()),t},t.prototype.bt=function(){var t=this.St();return t.left.left.gt()&&(t=(t=t.Vt()).St()),t},t.prototype.vt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},t.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw pf();if(this.right.gt())throw pf();var t=this.left.Ct();if(t!==this.right.Ct())throw pf();return t+(this.gt()?0:1)},t}();wp.EMPTY=null,wp.RED=!0,wp.ot=!1,wp.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pf()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pf()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.rt=function(t,e,n){return new wp(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.at=function(){return null},t.prototype.ct=function(){return null},t.prototype.gt=function(){return!1},t.prototype.Dt=function(){return!0},t.prototype.Ct=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _p=function(){function t(t){this.i=t,this.data=new yp(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.at()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},t.prototype.$t=function(t){var e=this.data._t(t);return e.It()?e.Et().key:null},t.prototype.lt=function(){return new Ep(this.data.lt())},t.prototype._t=function(t){return new Ep(this.data._t(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.xt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.lt(),r=e.data.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(0!==this.i(i,o))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),Ep=function(){function t(t){this.kt=t}return t.prototype.Et=function(){return this.kt.Et().key},t.prototype.It=function(){return this.kt.It()},t}(),Ip=new yp(If.i);function Tp(){return Ip}function Sp(){return Tp()}var Ap=new yp(If.i);function Np(){return Ap}var kp=new yp(If.i),Cp=new _p(If.i);function Dp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Cp,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var xp=new _p(Hf);function Op(){return xp}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lp=function(){function t(t){this.i=t?function(e,n){return t(e,n)||If.i(e.key,n.key)}:function(t,e){return If.i(t.key,e.key)},this.Mt=Np(),this.Ot=new yp(this.i)}return t.Lt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Mt.get(t)},t.prototype.get=function(t){return this.Mt.get(t)},t.prototype.first=function(){return this.Ot.at()},t.prototype.last=function(){return this.Ot.ct()},t.prototype.m=function(){return this.Ot.m()},t.prototype.indexOf=function(t){var e=this.Mt.get(t);return e?this.Ot.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ot.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Mt.rt(t.key,t),e.Ot.rt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Mt.remove(t),this.Ot.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ot.lt(),r=e.Ot.lt();n.It();){var i=n.Et().key,o=r.Et().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Mt=e,r.Ot=n,r},t}(),Rp=function(){function t(){this.Bt=new yp(If.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);n?0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):pf():this.Bt=this.Bt.rt(e,t)},t.prototype.qt=function(){var t=[];return this.Bt.ut((function(e,n){t.push(n)})),t},t}(),Pp=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=a}return t.Kt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Lp.Lt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Vv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Up=function(){function t(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Yt=i}return t.Jt=function(e,n){var r=new Map;return r.set(e,Mp.Xt(e,n)),new t(rp.min(),r,Op(),Tp(),Dp())},t}(),Mp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}return t.Xt=function(e,n){return new t(Kf.B,n,Dp(),Dp(),Dp())},t}(),Fp=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},Vp=function(t,e){this.targetId=t,this.re=e},jp=function(t,e,n,r){void 0===n&&(n=Kf.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Bp=function(){function t(){this.oe=0,this.ae=zp(),this.ce=Kf.B,this.ue=!1,this.he=!0}return Object.defineProperty(t.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.fe=function(t){t.O()>0&&(this.he=!0,this.ce=t)},t.prototype.de=function(){var t=Dp(),e=Dp(),n=Dp();return this.ae.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pf()}})),new Mp(this.ce,this.ue,t,e,n)},t.prototype.we=function(){this.he=!1,this.ae=zp()},t.prototype.me=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},t.prototype.Te=function(t){this.he=!0,this.ae=this.ae.remove(t)},t.prototype.Ee=function(){this.oe+=1},t.prototype.Ie=function(){this.oe-=1},t.prototype.Ae=function(){this.he=!0,this.ue=!0},t}(),qp=function(){function t(t){this.Re=t,this.Pe=new Map,this.ge=Tp(),this.ye=Gp(),this.Ve=new _p(Hf)}return t.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof Iv?this.be(r,t.ie):t.ie instanceof Tv&&this.ve(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.ve(s,t.key,t.ie)}},t.prototype.Se=function(t){var e=this;this.De(t,(function(n){var r=e.Ce(n);switch(t.state){case 0:e.Ne(n)&&r.fe(t.resumeToken);break;case 1:r.Ie(),r.le||r.we(),r.fe(t.resumeToken);break;case 2:r.Ie(),r.le||e.removeTarget(n);break;case 3:e.Ne(n)&&(r.Ae(),r.fe(t.resumeToken));break;case 4:e.Ne(n)&&(e.Fe(n),r.fe(t.resumeToken));break;default:pf()}}))},t.prototype.De=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Ne(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.re.count,r=this.xe(e);if(r){var i=r.target;if(hp(i))if(0===n){var o=new If(i.path);this.ve(e,o,new Tv(o,rp.min()))}else df(1===n);else this.ke(e)!==n&&(this.Fe(e),this.Ve=this.Ve.add(e))}},t.prototype.Me=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var o=e.xe(i);if(o){if(r.Zt&&hp(o.target)){var s=new If(o.target.path);null!==e.ge.get(s)||e.Oe(i,s)||e.ve(i,s,new Tv(s,t))}r._e&&(n.set(i,r.de()),r.we())}}));var r=Dp();this.ye.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.xe(t);return!n||2===n.tt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Up(t,n,this.Ve,this.ge,r);return this.ge=Tp(),this.ye=Gp(),this.Ve=new _p(Hf),i},t.prototype.be=function(t,e){if(this.Ne(t)){var n=this.Oe(t,e.key)?2:0;this.Ce(t).me(e.key,n),this.ge=this.ge.rt(e.key,e),this.ye=this.ye.rt(e.key,this.Le(e.key).add(t))}},t.prototype.ve=function(t,e,n){if(this.Ne(t)){var r=this.Ce(t);this.Oe(t,e)?r.me(e,1):r.Te(e),this.ye=this.ye.rt(e,this.Le(e).delete(t)),n&&(this.ge=this.ge.rt(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.ke=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},t.prototype.Ee=function(t){this.Ce(t).Ee()},t.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new Bp,this.Pe.set(t,e)),e},t.prototype.Le=function(t){var e=this.ye.get(t);return e||(e=new _p(Hf),this.ye=this.ye.rt(t,e)),e},t.prototype.Ne=function(t){var e=null!==this.xe(t);return e||cf("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.xe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},t.prototype.Fe=function(t){var e=this;this.Pe.set(t,new Bp),this.Re.Be(t).forEach((function(n){e.ve(t,n,null)}))},t.prototype.Oe=function(t,e){return this.Re.Be(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){return new yp(If.i)}function zp(){return new yp(If.i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wp(t){var e=td(t.mapValue.fields.__local_write_time__.timestampValue);return new np(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hp(t)?4:10:pf()}function Yp(t,e){var n,r=Kp(t);if(r!==Kp(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wp(t).isEqual(Wp(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=td(t.timestampValue),r=td(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,nd(t.bytesValue).isEqual(nd(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ed(t.geoPointValue.latitude)===ed(e.geoPointValue.latitude)&&ed(t.geoPointValue.longitude)===ed(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ed(t.integerValue)===ed(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ed(t.doubleValue),r=ed(e.doubleValue);return n===r?op(n)===op(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Wf(t.arrayValue.values||[],e.arrayValue.values||[],Yp);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(gf(n)!==gf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yp(n[i],r[i])))return!1;return!0}(t,e);default:return pf()}}function Xp(t,e){return void 0!==(t.values||[]).find((function(t){return Yp(t,e)}))}function Jp(t,e){var n,r,i,o,s=Kp(t),a=Kp(e);if(s!==a)return Hf(s,a);switch(s){case 0:return 0;case 1:return Hf(t.booleanValue,e.booleanValue);case 2:return r=e,i=ed((n=t).integerValue||n.doubleValue),o=ed(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return $p(t.timestampValue,e.timestampValue);case 4:return $p(Wp(t),Wp(e));case 5:return Hf(t.stringValue,e.stringValue);case 6:return function(t,e){var n=nd(t),r=nd(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Hf(n[i],r[i]);if(0!==o)return o}return Hf(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Hf(ed(t.latitude),ed(e.latitude));return 0!==n?n:Hf(ed(t.longitude),ed(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Jp(n[i],r[i]);if(o)return o}return Hf(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Hf(r[s],o[s]);if(0!==a)return a;var u=Jp(n[r[s]],i[o[s]]);if(0!==u)return u}return Hf(r.length,o.length)}(t.mapValue,e.mapValue);default:throw pf()}}function $p(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Hf(t,e);var n=td(t),r=td(e),i=Hf(n.seconds,r.seconds);return 0!==i?i:Hf(n.nanos,r.nanos)}function Zp(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(n=e.timestampValue,"time("+(r=td(n)).seconds+","+r.nanos+")"):"stringValue"in e?e.stringValue:"bytesValue"in e?nd(e.bytesValue).toBase64():"referenceValue"in e?(o=e.referenceValue,If.C(o).toString()):"geoPointValue"in e?"geo("+(i=e.geoPointValue).latitude+","+i.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):pf();var n,r,i,o}(t)}function td(t){if(df(!!t),"string"==typeof t){var e=0,n=Qp.exec(t);if(df(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ed(t.seconds),nanos:ed(t.nanos)}}function ed(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function nd(t){return"string"==typeof t?Kf.fromBase64String(t):Kf.fromUint8Array(t)}function rd(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function id(t){return!!t&&"integerValue"in t}function od(t){return!!t&&"arrayValue"in t}function sd(t){return!!t&&"nullValue"in t}function ad(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cd={asc:"ASCENDING",desc:"DESCENDING"},ld={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hd=function(t,e){this.U=t,this.Ue=e};function fd(t){return{integerValue:""+t}}function pd(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(e)?"-0":e}}function dd(t,e){return sp(e)?fd(e):pd(t,e)}function vd(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function gd(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function md(t,e){return vd(t,e.X())}function yd(t){return df(!!t),rp.Y(function(t){var e=td(t);return new np(e.seconds,e.nanos)}(t))}function bd(t,e){return(n=t,new wf(["projects",n.projectId,"databases",n.database])).child("documents").child(e).R();var n}function wd(t){var e=wf.P(t);return df(Bd(e)),e}function _d(t,e){return bd(t.U,e.path)}function Ed(t,e){var n=wd(e);return df(n.get(1)===t.U.projectId),df(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new If(Ad(n))}function Id(t,e){return bd(t.U,e)}function Td(t){var e=wd(t);return 4===e.length?wf.g():Ad(e)}function Sd(t){return new wf(["projects",t.U.projectId,"databases",t.U.database]).R()}function Ad(t){return df(t.length>4&&"documents"===t.get(4)),t.u(5)}function Nd(t,e,n){return{name:_d(t,e),fields:n.proto.mapValue.fields}}function kd(t,e){var n,r,i;if(e instanceof hv)n={update:Nd(t,e.key,e.value)};else if(e instanceof mv)n={delete:_d(t,e.key)};else if(e instanceof fv)n={update:Nd(t,e.key,e.data),updateMask:jd(e.Qe)};else if(e instanceof dv)n={transform:{document:_d(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Wd)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qd)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof Yd)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof Jd)return{fieldPath:e.field.R(),increment:n.We};throw pf()}(0,t)}))}};else{if(!(e instanceof yv))return pf();n={verify:_d(t,e.key)}}return e.Ke.je||(n.currentDocument=(r=t,void 0!==(i=e.Ke).updateTime?{updateTime:md(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:pf())),n}function Cd(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?rv.updateTime(yd(n.updateTime)):void 0!==n.exists?rv.exists(n.exists):rv.Ge():rv.Ge();if(e.update){e.update.name;var i=Ed(t,e.update.name),o=new bv({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new tv(e.map((function(t){return Ef.S(t)})))}(e.updateMask);return new fv(i,o,s,r)}return new hv(i,o,r)}if(e.delete){var a=Ed(t,e.delete);return new mv(a,r)}if(e.transform){var u=Ed(t,e.transform.document),c=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)df("REQUEST_TIME"===e.setToServerValue),n=new Wd;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Qd(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Yd(i)}else"increment"in e?n=new Jd(t,e.increment):pf();var o=Ef.S(e.fieldPath);return new ev(o,n)}(t,e)}));return df(!0===r.exists),new dv(u,c)}if(e.verify){var l=Ed(t,e.verify);return new yv(l,r)}return pf()}function Dd(t,e){return{documents:[Id(t,e.path)]}}function xd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Id(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Id(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(ad(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NAN"}};if(sd(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ad(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NOT_NAN"}};if(sd(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ud(t.field),op:Pd(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Ud((e=t).field),direction:Rd(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.Ue||ip(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=Od(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Od(e.endAt)),n}function Od(t){return{before:t.before,values:t.position}}function Ld(t){var e=!!t.before,n=t.values||[];return new Zv(n,e)}function Rd(t){return cd[t]}function Pd(t){return ld[t]}function Ud(t){return{fieldPath:t.R()}}function Md(t){return Ef.S(t.fieldPath)}function Fd(t){return zv.create(Md(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pf()}}(t.fieldFilter.op),t.fieldFilter.value)}function Vd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Md(t.unaryFilter.field);return zv.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Md(t.unaryFilter.field);return zv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Md(t.unaryFilter.field);return zv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Md(t.unaryFilter.field);return zv.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pf()}}function jd(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function Bd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qd=function(){this.ze=void 0};function Gd(t,e,n){return t instanceof Wd?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof Qd?Kd(t,e):t instanceof Yd?Xd(t,e):function(t,e){var n=Hd(t,e),r=$d(n)+$d(t.We);return id(n)&&id(t.We)?fd(r):pd(t.serializer,r)}(t,e);var r,i,o}function zd(t,e,n){return t instanceof Qd?Kd(t,e):t instanceof Yd?Xd(t,e):n}function Hd(t,e){return t instanceof Jd?id(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var Wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e}(qd),Qd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return aa(e,t),e}(qd);function Kd(t,e){for(var n=Zd(e),r=function(t){n.some((function(e){return Yp(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Yd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return aa(e,t),e}(qd);function Xd(t,e){for(var n=Zd(e),r=function(t){n=n.filter((function(e){return!Yp(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Jd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return aa(e,t),e}(qd);function $d(t){return ed(t.integerValue||t.doubleValue)}function Zd(t){return od(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tv=function(){function t(t){this.fields=t,t.sort(Ef.i)}return t.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return Wf(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ev=function(t,e){this.field=t,this.transform=e},nv=function(t,e){this.version=t,this.transformResults=e},rv=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Ge=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function iv(t,e){return void 0!==t.updateTime?e instanceof Iv&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Iv}var ov=function(){};function sv(t,e,n){return t instanceof hv?(i=n,new Iv((r=t).key,i.version,r.value,{hasCommittedMutations:!0})):t instanceof fv?function(t,e,n){if(!iv(t.Ke,e))return new Sv(t.key,n.version);var r=pv(t,e);return new Iv(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof dv?function(t,e,n){if(df(null!=n.transformResults),!iv(t.Ke,e))return new Sv(t.key,n.version);var r=vv(t,e),i=function(t,e,n){var r=[];df(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Iv&&(a=e.field(o.field)),r.push(zd(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=gv(t,r.data(),i);return new Iv(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Tv(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n);var r,i}function av(t,e,n,r){return t instanceof hv?function(t,e){if(!iv(t.Ke,e))return e;var n=lv(e);return new Iv(t.key,n,t.value,{Ye:!0})}(t,e):t instanceof fv?function(t,e){if(!iv(t.Ke,e))return e;var n=lv(e),r=pv(t,e);return new Iv(t.key,n,r,{Ye:!0})}(t,e):t instanceof dv?function(t,e,n,r){if(!iv(t.Ke,e))return e;var i=vv(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Iv&&(c=n.field(a.field)),null===c&&r instanceof Iv&&(c=r.field(a.field)),i.push(Gd(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=gv(t,i.data(),o);return new Iv(t.key,i.version,s,{Ye:!0})}(t,e,r,n):(o=e,iv((i=t).Ke,o)?new Tv(i.key,rp.min()):o);var i,o}function uv(t,e){return t instanceof dv?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof Iv?e.field(o.field):void 0,a=Hd(o.transform,s||null);null!=a&&(n=null==n?(new wv).set(o.field,a):n.set(o.field,a))}return n?n.Je():null}(t,e):null}function cv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ke.isEqual(e.Ke)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||Wf(t.fieldTransforms,t.fieldTransforms,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Qd&&o instanceof Qd||i instanceof Yd&&o instanceof Yd?Wf(i.elements,o.elements,Yp):i instanceof Jd&&o instanceof Jd?Yp(i.We,o.We):i instanceof Wd&&o instanceof Wd);var n,r,i,o})))}function lv(t){return t instanceof Iv?t.version:rp.min()}var hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ke=r,i.type=0,i}return aa(e,t),e}(ov),fv=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.Ke=i,o.type=1,o}return aa(e,t),e}(ov);function pv(t,e){return n=t,r=e instanceof Iv?e.data():bv.empty(),i=new wv(r),n.Qe.fields.forEach((function(t){if(!t.m()){var e=n.data.field(t);null!==e?i.set(t,e):i.delete(t)}})),i.Je();var n,r,i}var dv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ke=rv.exists(!0),r}return aa(e,t),e}(ov);function vv(t,e){return e}function gv(t,e,n){for(var r=new wv(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Je()}var mv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=3,r}return aa(e,t),e}(ov),yv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ke=n,r.type=4,r}return aa(e,t),e}(ov),bv=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ud(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return Yp(this.proto,t.proto)},t}(),wv=function(){function t(t){void 0===t&&(t=bv.empty()),this.Xe=t,this.Ze=new Map}return t.prototype.set=function(t,e){return this.tn(t,e),this},t.prototype.delete=function(t){return this.tn(t,null),this},t.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Kp(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t._(),e)},t.prototype.Je=function(){var t=this.en(Ef.g(),this.Ze);return null!=t?new bv(t):this.Xe},t.prototype.en=function(t,e){var n=this,r=!1,i=this.Xe.field(t),o=ud(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.en(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function _v(t){var e=[];return mf(t.fields||{},(function(t,n){var r=new Ef([t]);if(ud(n)){var i=_v(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new tv(e)}var Ev=function(t,e){this.key=t,this.version=e},Iv=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).nn=r,o.Ye=!!i.Ye,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return aa(e,t),e.prototype.field=function(t){return this.nn.field(t)},e.prototype.data=function(){return this.nn},e.prototype.sn=function(){return this.nn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ev),Tv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return aa(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ev),Sv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ev),Av=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.on=o,this.startAt=s,this.endAt=a,this.an=null,this.cn=null,this.startAt,this.endAt};function Nv(t,e,n,r,i,o,s,a){return new Av(t,e,n,r,i,o,s,a)}function kv(t){return new Av(t)}function Cv(t){return!ip(t.limit)&&"F"===t.on}function Dv(t){return!ip(t.limit)&&"L"===t.on}function xv(t){return t.rn.length>0?t.rn[0].field:null}function Ov(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function Lv(t){return null!==t.collectionGroup}function Rv(t){var e=vf(t);if(null===e.an){e.an=[];var n=Ov(e),r=xv(e);if(null!==n&&null===r)n.p()||e.an.push(new rg(n)),e.an.push(new rg(Ef.v(),"asc"));else{for(var i=!1,o=0,s=e.rn;o<s.length;o++){var a=s[o];e.an.push(a),a.field.p()&&(i=!0)}if(!i){var u=e.rn.length>0?e.rn[e.rn.length-1].dir:"asc";e.an.push(new rg(Ef.v(),u))}}}return e.an}function Pv(t){var e=vf(t);if(!e.cn)if("F"===e.on)e.cn=up(e.path,e.collectionGroup,Rv(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Rv(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new rg(o.field,s))}var a=e.endAt?new Zv(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Zv(e.startAt.position,!e.startAt.before):null;e.cn=up(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.cn}function Uv(t,e,n){return new Av(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mv(t,e){return new Av(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,e,t.endAt)}function Fv(t,e){return new Av(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,e)}function Vv(t,e){return lp(Pv(t),Pv(e))&&t.on===e.on}function jv(t){return cp(Pv(t))+"|lt:"+t.on}function Bv(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+Zp(e.value);var e})).join(", ")+"]"),ip(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+tg(t.startAt)),t.endAt&&(e+=", endAt: "+tg(t.endAt)),"Target("+e+")"}(Pv(t))+"; limitType="+t.on+")"}function qv(t,e){return n=t,i=(r=e).key.path,(null!==n.collectionGroup?r.key.N(n.collectionGroup)&&n.path.T(i):If.F(n.path)?n.path.isEqual(i):n.path.I(i))&&function(t,e){for(var n=0,r=t.rn;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!eg(t.startAt,Rv(t),e)||t.endAt&&eg(t.endAt,Rv(t),e))}(t,e);var n,r,i}function Gv(t){return function(e,n){for(var r=!1,i=0,o=Rv(t);i<o.length;i++){var s=o[i],a=ig(s,e,n);if(0!==a)return a;r=r||s.field.p()}return 0}}var zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return aa(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.hn(t,n,r):new Hv(t,n,r);if(sd(r)){if("=="!==n&&"!="!==n)throw new sf(of.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(ad(r)){if("=="!==n&&"!="!==n)throw new sf(of.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new Yv(t,r):"in"===n?new Xv(t,r):"not-in"===n?new Jv(t,r):"array-contains-any"===n?new $v(t,r):new e(t,n,r)},e.hn=function(t,e,n){return"in"===e?new Wv(t,n):new Qv(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.ln(Jp(e,this.value)):null!==e&&Kp(this.value)===Kp(e)&&this.ln(Jp(e,this.value))},e.prototype.ln=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pf()}},e.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=If.C(r.referenceValue),i}return aa(e,t),e.prototype.matches=function(t){var e=If.i(t.key,this.key);return this.ln(e)},e}(zv),Wv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Kv("in",n),r}return aa(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(zv),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Kv("not-in",n),r}return aa(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(zv);function Kv(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return If.C(t.referenceValue)}))}var Yv=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return aa(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return od(e)&&Xp(e.arrayValue,this.value)},e}(zv),Xv=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return aa(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Xp(this.value.arrayValue,e)},e}(zv),Jv=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return aa(e,t),e.prototype.matches=function(t){if(Xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Xp(this.value.arrayValue,e)},e}(zv),$v=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return aa(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!od(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Xp(e.value.arrayValue,t)}))},e}(zv),Zv=function(t,e){this.position=t,this.before=e};function tg(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Zp(t)})).join(",")}function eg(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.p()?If.i(If.C(s.referenceValue),n.key):Jp(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ng(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Yp(t.position[n],e.position[n]))return!1;return!0}var rg=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ig(t,e,n){var r,i,o,s,a=t.field.p()?If.i(e.key,n.key):(r=t.field,i=n,o=e.field(r),s=i.field(r),null!==o&&null!==s?Jp(o,s):pf());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return pf()}}function og(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sg=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ag=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this._n=t,this.fn=e,this.dn=n,this.wn=r,this.mn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}return t.prototype.reset=function(){this.Tn=0},t.prototype.An=function(){this.Tn=this.mn},t.prototype.Rn=function(t){var e=this;this.cancel();var n=Math.floor(this.Tn+this.Pn()),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);i>0&&cf("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this._n.gn(this.fn,i,(function(){return e.In=Date.now(),t()})),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},t.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},t.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.Tn},t}(),ug=function(){function t(t){var e=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,t((function(t){e.vn=!0,e.result=t,e.pn&&e.pn(t)}),(function(t){e.vn=!0,e.error=t,e.bn&&e.bn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Sn&&pf(),this.Sn=!0,this.vn?this.error?this.Dn(n,this.error):this.Cn(e,this.result):new t((function(t,i){r.pn=function(n){r.Cn(e,n).next(t,i)},r.bn=function(e){r.Dn(n,e).next(t,i)}}))},t.prototype.Nn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Dn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.xn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),cg=function(){function t(e,n,r){this.name=e,this.version=n,this.kn=r,12.2===t.Mn(ma())&&lf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return cf("SimpleDb","Removing database:",t),vg(window.indexedDB.deleteDatabase(t)).Nn()},t.On=function(){if("undefined"==typeof indexedDB)return!1;if(t.Ln())return!0;var e=ma(),n=t.Mn(e),r=0<n&&n<10,i=t.Bn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Ln=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production"})||void 0===t?void 0:t.qn)},t.Un=function(t,e){return t.store(e)},t.Mn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Bn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(){return ca(this,void 0,void 0,(function(){var t,e=this;return la(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(cf("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){var n=e.target.result;t(n)},r.onblocked=function(){n(new hg("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;"VersionError"===e.name?n(new sf(of.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new hg(e))},r.onupgradeneeded=function(t){cf("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;e.kn.createOrUpgrade(n,r.transaction,t.oldVersion,e.version).next((function(){cf("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return e.Wn(t)}),this.db)]}}))}))},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return ca(this,void 0,void 0,(function(){var r,i,o,s,a;return la(this,(function(u){switch(u.label){case 0:r="readonly"===t,i=0,o=function(){var t,o,a,u,c;return la(this,(function(l){switch(l.label){case 0:++i,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.Qn()];case 2:return s.db=l.sent(),t=pg.open(s.db,r?"readonly":"readwrite",e),o=n(t).catch((function(e){return t.abort(e),ug.reject(e)})).Nn(),a={},o.catch((function(){})),[4,t.Kn];case 3:return[2,(a.value=(l.sent(),o),a)];case 4:return u=l.sent(),c="FirebaseError"!==u.name&&i<3,cf("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),s.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},s=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(a=u.sent()))return[2,a.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),lg=function(){function t(t){this.Gn=t,this.zn=!1,this.Hn=null}return Object.defineProperty(t.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Gn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.zn=!0},t.prototype.Jn=function(t){this.Hn=t},t.prototype.delete=function(){return vg(this.Gn.delete())},t}(),hg=function(t){function e(e){var n=this;return(n=t.call(this,of.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return aa(e,t),e}(sf);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){return"IndexedDbTransactionError"===t.name}var pg=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Xn=new sg,this.transaction.oncomplete=function(){e.Xn.resolve()},this.transaction.onabort=function(){t.error?e.Xn.reject(new hg(t.error)):e.Xn.resolve()},this.transaction.onerror=function(t){var n=mg(t.target.error);e.Xn.reject(new hg(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(t){throw new hg(t)}},Object.defineProperty(t.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Xn.reject(t),this.aborted||(cf("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new dg(e)},t}(),dg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(cf("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(cf("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),vg(n)},t.prototype.add=function(t){return cf("SimpleDb","ADD",this.store.name,t,t),vg(this.store.add(t))},t.prototype.get=function(t){var e=this;return vg(this.store.get(t)).next((function(n){return void 0===n&&(n=null),cf("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return cf("SimpleDb","DELETE",this.store.name,t),vg(this.store.delete(t))},t.prototype.count=function(){return cf("SimpleDb","COUNT",this.store.name),vg(this.store.count())},t.prototype.Zn=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ts(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.es=function(t,e){cf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ns=!1;var r=this.cursor(n);return this.ts(r,(function(t,e,n){return n.delete()}))},t.prototype.ss=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ts(r,e)},t.prototype.rs=function(t){var e=this.cursor({});return new ug((function(n,r){e.onerror=function(t){var e=mg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ts=function(t,e){var n=[];return new ug((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new lg(i),s=e(i.primaryKey,i.value,o);if(s instanceof ug){var a=s.catch((function(t){return o.done(),ug.reject(t)}));n.push(a)}o.vn?r():null===o.Yn?i.continue():i.continue(o.Yn)}else r()}})).next((function(){return ug.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ns?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function vg(t){return new ug((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=mg(t.target.error);n(e)}}))}var gg=!1;function mg(t){var e=cg.Mn(ma());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new sf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gg||(gg=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){return"undefined"!=typeof window?window:null}function bg(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wg=function(){function t(t,e,n,r,i){this.os=t,this.fn=e,this.cs=n,this.op=r,this.us=i,this.hs=new sg,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch((function(t){}))}return t.ls=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this._s=setTimeout((function(){return e.fs()}),t)},t.prototype.Vn=function(){return this.fs()},t.prototype.cancel=function(t){null!==this._s&&(this.clearTimeout(),this.hs.reject(new sf(of.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.fs=function(){var t=this;this.os.ds((function(){return null!==t._s?(t.clearTimeout(),t.op().then((function(e){return t.hs.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)},t}(),_g=function(){function t(){var t=this;this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new ag(this,"async_queue_retry"),this.ys=function(){var e=bg();e&&cf("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.gs.yn()};var e=bg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(t.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),t.prototype.ds=function(t){this.enqueue(t)},t.prototype.ps=function(t){this.bs(),this.vs(t)},t.prototype.Ss=function(){if(!this.Es){this.Es=!0;var t=bg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys)}},t.prototype.enqueue=function(t){return this.bs(),this.Es?new Promise((function(t){})):this.vs(t)},t.prototype.Ds=function(t){var e=this;this.Ts.push(t),this.ds((function(){return e.Cs()}))},t.prototype.Cs=function(){return ca(this,void 0,void 0,(function(){var t,e=this;return la(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(!fg(t=n.sent()))throw t;return cf("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.gs.Rn((function(){return e.Cs()})),n.label=5;case 5:return[2]}}))}))},t.prototype.vs=function(t){var e=this,n=this.ws.then((function(){return e.Rs=!0,t().catch((function(t){throw e.As=t,e.Rs=!1,lf("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.Rs=!1,t}))}));return this.ws=n,n},t.prototype.gn=function(t,e,n){var r=this;this.bs(),this.Ps.indexOf(t)>-1&&(e=0);var i=wg.ls(this,t,e,n,(function(t){return r.Ns(t)}));return this.Is.push(i),i},t.prototype.bs=function(){this.As&&pf()},t.prototype.Fs=function(){},t.prototype.$s=function(){return ca(this,void 0,void 0,(function(){var t;return la(this,(function(e){switch(e.label){case 0:return[4,t=this.ws];case 1:e.sent(),e.label=2;case 2:if(t!==this.ws)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.xs=function(t){for(var e=0,n=this.Is;e<n.length;e++)if(n[e].fn===t)return!0;return!1},t.prototype.ks=function(t){var e=this;return this.$s().then((function(){e.Is.sort((function(t,e){return t.cs-e.cs}));for(var n=0,r=e.Is;n<r.length;n++){var i=r[n];if(i.Vn(),"all"!==t&&i.fn===t)break}return e.$s()}))},t.prototype.Ms=function(t){this.Ps.push(t)},t.prototype.Ns=function(t){var e=this.Is.indexOf(t);this.Is.splice(e,1)},t}();function Eg(t,e){if(lf("AsyncQueue",e+": "+t),fg(t))return new sf(of.UNAVAILABLE,e+": "+t);throw t}var Ig=function(){this.Os=void 0,this.listeners=[]},Tg=function(){this.Ls=new ep((function(t){return jv(t)}),Vv),this.onlineState="Unknown",this.Bs=new Set};function Sg(t,e){return ca(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return la(this,(function(c){switch(c.label){case 0:if(n=vf(t),r=e.query,i=!1,(o=n.Ls.get(r))||(i=!0,o=new Ig),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.qs(r)];case 2:return s.Os=c.sent(),[3,4];case 3:return a=c.sent(),u=Eg(a,"Initialization of query '"+Bv(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.Ls.set(r,o),o.listeners.push(e),e.Us(n.onlineState),o.Os&&e.Qs(o.Os)&&Cg(n),[2]}}))}))}function Ag(t,e){return ca(this,void 0,void 0,(function(){var n,r,i,o,s;return la(this,(function(a){return n=vf(t),r=e.query,i=!1,(o=n.Ls.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.Ls.delete(r),n.Ws(r))]:[2]}))}))}function Ng(t,e){for(var n=vf(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.Ls.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Qs(s)&&(r=!0);u.Os=s}}r&&Cg(n)}function kg(t,e,n){var r=vf(t),i=r.Ls.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Ls.delete(e)}function Cg(t){t.Bs.forEach((function(t){t.next()}))}var Dg=function(){function t(t,e,n){this.query=t,this.js=e,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Pp(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Ks?this.zs(t)&&(this.js.next(t),o=!0):this.Hs(t,this.onlineState)&&(this.Ys(t),o=!0),this.Gs=t,o},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Us=function(t){this.onlineState=t;var e=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,t)&&(this.Ys(this.Gs),e=!0),e},t.prototype.Hs=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Js&&n||t.docs.m()&&"Offline"!==e)},t.prototype.zs=function(t){if(t.docChanges.length>0)return!0;var e=this.Gs&&this.Gs.hasPendingWrites!==t.hasPendingWrites;return!(!t.Wt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Ys=function(t){t=Pp.Kt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.js.next(t)},t}(),xg=function(){function t(t){this.uid=t}return t.prototype.Xs=function(){return null!=this.uid},t.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xg.UNAUTHENTICATED=new xg(null),xg.ti=new xg("google-credentials-uid"),xg.ei=new xg("first-party-uid");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Og=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ni=function(t){return n.si(t)},this.ii=function(t){return e.ri(t)})}return t.prototype.si=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ii&&this.ii(t),t},t}();function Lg(t,e){return"firestore_clients_"+t+"_"+e}function Rg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Xs()&&(r+="_"+e.uid),r}function Pg(t,e){return"firestore_targets_"+t+"_"+e}Og.oi=-1;var Ug=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ai=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new sf(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(lf("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ai=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new sf(r.error.code,r.error.message)),i?new t(e,r.state,o):(lf("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ai=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Op(),s=0;i&&s<r.activeTargetIds.length;++s)i=sp(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(lf("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ai=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(lf("SharedClientState","Failed to parse online state: "+e),null)},t}(),jg=function(){function t(){this.activeTargetIds=Op()}return t.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Bg=function(){function t(t,e,n,r,i){this.window=t,this._n=e,this.persistenceKey=n,this.li=r,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new yp(Hf),this.Ti=!1,this.Ei=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ii=Lg(this.persistenceKey,this.li),this.Ai="firestore_sequence_number_"+this.persistenceKey,this.mi=this.mi.rt(this.li,new jg),this.Ri=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.yi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.di)}return t.On=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return ca(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return la(this,(function(f){switch(f.label){case 0:return[4,this._i.Vi()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.li&&(i=this.getItem(Lg(this.persistenceKey,r)))&&(o=Fg.ai(r,i))&&(this.mi=this.mi.rt(o.clientId,o));for(this.pi(),(s=this.storage.getItem(this.yi))&&(a=this.bi(s))&&this.vi(a),u=0,c=this.Ei;u<c.length;u++)l=c[u],this.wi(l);return this.Ei=[],this.window.addEventListener("unload",(function(){return h.Si()})),this.Ti=!0,[2]}}))}))},t.prototype.ri=function(t){this.setItem(this.Ai,JSON.stringify(t))},t.prototype.Di=function(){return this.Ci(this.mi)},t.prototype.Ni=function(t){var e=!1;return this.mi.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Fi=function(t){this.$i(t,"pending")},t.prototype.xi=function(t,e,n){this.$i(t,e,n),this.ki(t)},t.prototype.Mi=function(t){var e="not-current";if(this.Ni(t)){var n=this.storage.getItem(Pg(this.persistenceKey,t));if(n){var r=Mg.ai(t,n);r&&(e=r.state)}}return this.Oi.ui(t),this.pi(),e},t.prototype.Li=function(t){this.Oi.hi(t),this.pi()},t.prototype.Bi=function(t){return this.Oi.activeTargetIds.has(t)},t.prototype.qi=function(t){this.removeItem(Pg(this.persistenceKey,t))},t.prototype.Ui=function(t,e,n){this.Qi(t,e,n)},t.prototype.Wi=function(t,e,n){var r=this;e.forEach((function(t){r.ki(t)})),this.currentUser=t,n.forEach((function(t){r.Fi(t)}))},t.prototype.ji=function(t){this.Ki(t)},t.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return cf("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){cf("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){cf("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(cf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ii)return void lf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._n.Ds((function(){return ca(e,void 0,void 0,(function(){var t,e,r,i,o,s;return la(this,(function(a){if(this.Ti){if(null!==n.key)if(this.Ri.test(n.key)){if(null==n.newValue)return t=this.Gi(n.key),[2,this.zi(t,null)];if(e=this.Hi(n.key,n.newValue))return[2,this.zi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(r=this.Yi(n.key,n.newValue)))return[2,this.Ji(r)]}else if(this.gi.test(n.key)){if(null!==n.newValue&&(i=this.Xi(n.key,n.newValue)))return[2,this.Zi(i)]}else if(n.key===this.yi){if(null!==n.newValue&&(o=this.bi(n.newValue)))return[2,this.vi(o)]}else n.key===this.Ai&&(s=function(t){var e=Og.oi;if(null!=t)try{var n=JSON.parse(t);df("number"==typeof n),e=n}catch(t){lf("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Og.oi&&this.ni(s)}else this.Ei.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),t.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},t.prototype.$i=function(t,e,n){var r=new Ug(this.currentUser,t,e,n),i=Rg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ci())},t.prototype.ki=function(t){var e=Rg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ki=function(t){var e={clientId:this.li,onlineState:t};this.storage.setItem(this.yi,JSON.stringify(e))},t.prototype.Qi=function(t,e,n){var r=Pg(this.persistenceKey,t),i=new Mg(t,e,n);this.setItem(r,i.ci())},t.prototype.Gi=function(t){var e=this.Ri.exec(t);return e?e[1]:null},t.prototype.Hi=function(t,e){var n=this.Gi(t);return Fg.ai(n,e)},t.prototype.Yi=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ug.ai(new xg(i),r,e)},t.prototype.Xi=function(t,e){var n=this.gi.exec(t),r=Number(n[1]);return Mg.ai(r,e)},t.prototype.bi=function(t){return Vg.ai(t)},t.prototype.Ji=function(t){return ca(this,void 0,void 0,(function(){return la(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._i.tr(t.batchId,t.state,t.error)]:(cf("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Zi=function(t){return this._i.er(t.targetId,t.state,t.error)},t.prototype.zi=function(t,e){var n=this,r=e?this.mi.rt(t,e):this.mi.remove(t),i=this.Ci(this.mi),o=this.Ci(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this._i.nr(s,a).then((function(){n.mi=r}))},t.prototype.vi=function(t){this.mi.get(t.clientId)&&this.fi(t.onlineState)},t.prototype.Ci=function(t){var e=Op();return t.forEach((function(t,n){e=e.xt(n.activeTargetIds)})),e},t}(),qg=function(){function t(){this.sr=new jg,this.ir={},this.fi=null,this.ni=null}return t.prototype.Fi=function(t){},t.prototype.xi=function(t,e,n){},t.prototype.Mi=function(t){return this.sr.ui(t),this.ir[t]||"not-current"},t.prototype.Ui=function(t,e,n){this.ir[t]=e},t.prototype.Li=function(t){this.sr.hi(t)},t.prototype.Bi=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.qi=function(t){delete this.ir[t]},t.prototype.Di=function(){return this.sr.activeTargetIds},t.prototype.Ni=function(t){return this.sr.activeTargetIds.has(t)},t.prototype.start=function(){return this.sr=new jg,Promise.resolve()},t.prototype.Wi=function(t,e,n){},t.prototype.ji=function(t){},t.prototype.Si=function(){},t.prototype.ri=function(t){},t}(),Gg=function(){function t(t,e,n,r){this.batchId=t,this.rr=e,this.baseMutations=n,this.mutations=r}return t.prototype.ar=function(t,e,n){for(var r=n.cr,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=sv(o,e,r[i]))}return e},t.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=av(i,e,e,this.rr))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=av(u,e,o,this.rr))}return e},t.prototype.hr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ur(r.key,t.get(r.key));i&&(n=n.rt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Dp())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Wf(this.mutations,t.mutations,(function(t,e){return cv(t,e)}))&&Wf(this.baseMutations,t.baseMutations,(function(t,e){return cv(t,e)}))},t}(),zg=function(){function t(t,e,n,r){this.batch=t,this.lr=e,this.cr=n,this._r=r}return t.from=function(e,n,r){df(e.mutations.length===r.length);for(var i=kp,o=e.mutations,s=0;s<o.length;s++)i=i.rt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Hg=function(){function t(){this.dr=new ep((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.wr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.mr},set:function(t){this.mr=t},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t,e){this.Er(),this.readTime=e,this.dr.set(t.key,t)},t.prototype.Ir=function(t,e){this.Er(),e&&(this.readTime=e),this.dr.set(t,null)},t.prototype.Ar=function(t,e){this.Er();var n=this.dr.get(e);return void 0!==n?ug.resolve(n):this.Rr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Er(),this.wr=!0,this.gr(t)},t.prototype.Er=function(){},t}(),Wg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qg=function(){function t(){this.yr=[]}return t.prototype.Vr=function(t){this.yr.push(t)},t.prototype.pr=function(){this.yr.forEach((function(t){return t()}))},t}(),Kg=function(){function t(t,e,n){this.br=t,this.vr=e,this.Sr=n}return t.prototype.Dr=function(t,e){var n=this;return this.vr.Cr(t,e).next((function(r){return n.Nr(t,e,r)}))},t.prototype.Nr=function(t,e,n){return this.br.Ar(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ur(e,t);return t}))},t.prototype.Fr=function(t,e,n){var r=Sp();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ur(t,e);r=r.rt(t,e)})),r},t.prototype.$r=function(t,e){var n=this;return this.br.getEntries(t,e).next((function(e){return n.kr(t,e)}))},t.prototype.kr=function(t,e){var n=this;return this.vr.Mr(t,e).next((function(r){var i=n.Fr(t,e,r),o=Tp();return i.forEach((function(t,e){e||(e=new Tv(t,rp.min())),o=o.rt(t,e)})),o}))},t.prototype.Or=function(t,e,n){return r=e,If.F(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Lr(t,e.path):Lv(e)?this.Br(t,e,n):this.qr(t,e,n);var r},t.prototype.Lr=function(t,e){return this.Dr(t,new If(e)).next((function(t){var e=Np();return t instanceof Iv&&(e=e.rt(t.key,t)),e}))},t.prototype.Br=function(t,e,n){var r=this,i=e.collectionGroup,o=Np();return this.Sr.Ur(t,i).next((function(s){return ug.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new Av(u,null,a.rn.slice(),a.filters.slice(),a.limit,a.on,a.startAt,a.endAt));return r.qr(t,c,n).next((function(t){t.forEach((function(t,e){o=o.rt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.qr=function(t,e,n){var r,i,o=this;return this.br.Or(t,e,n).next((function(n){return r=n,o.vr.Qr(t,e)})).next((function(e){return i=e,o.Wr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=av(u,l,l,o.rr);r=h instanceof Iv?r.rt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){qv(e,n)||(r=r.remove(t))})),r}))},t.prototype.Wr=function(t,e,n){for(var r=Dp(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof fv&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.br.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Iv&&(c=c.rt(t,e))})),c}))},t}(),Yg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Kr=r}return t.Gr=function(e,n){for(var r=Dp(),i=Dp(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Hf(n,i);return 0===s?Hf(r,o):s}var Jg=function(){function t(t){this.zr=t,this.buffer=new _p(Xg),this.Hr=0}return t.prototype.Yr=function(){return++this.Hr},t.prototype.Jr=function(t){var e=[t,this.Yr()];if(this.buffer.size<this.zr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Xg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),$g={Xr:!1,Zr:0,eo:0,no:0},Zg=function(){function t(t,e,n){this.so=t,this.io=e,this.ro=n}return t.oo=function(e){return new t(e,t.ao,t.co)},t}();Zg.uo=-1,Zg.ho=1048576,Zg.lo=41943040,Zg.ao=10,Zg.co=1e3,Zg._o=new Zg(Zg.lo,Zg.ao,Zg.co),Zg.fo=new Zg(Zg.uo,0,0);var tm=function(){function t(t,e){this.do=t,this.os=e,this.wo=!1,this.mo=null}return t.prototype.start=function(t){this.do.params.so!==Zg.uo&&this.To(t)},t.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(t.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),t.prototype.To=function(t){var e=this,n=this.wo?3e5:6e4;cf("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.mo=this.os.gn("lru_garbage_collection",n,(function(){return ca(e,void 0,void 0,(function(){var e;return la(this,(function(n){switch(n.label){case 0:this.mo=null,this.wo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Eo(this.do)];case 2:return n.sent(),[3,7];case 3:return fg(e=n.sent())?(cf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,gy(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.To(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),em=function(){function t(t,e){this.Io=t,this.params=e}return t.prototype.Ao=function(t,e){return this.Io.Ro(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Po=function(t,e){var n=this;if(0===e)return ug.resolve(Og.oi);var r=new Jg(e);return this.Io.De(t,(function(t){return r.Jr(t.sequenceNumber)})).next((function(){return n.Io.yo(t,(function(t){return r.Jr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Vo=function(t,e,n){return this.Io.Vo(t,e,n)},t.prototype.po=function(t,e){return this.Io.po(t,e)},t.prototype.bo=function(t,e){var n=this;return this.params.so===Zg.uo?(cf("LruGarbageCollector","Garbage collection skipped; disabled"),ug.resolve($g)):this.vo(t).next((function(r){return r<n.params.so?(cf("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.so),$g):n.So(t,e)}))},t.prototype.vo=function(t){return this.Io.vo(t)},t.prototype.So=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ao(t,this.params.io).next((function(e){return e>c.params.ro?(cf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.ro+" from "+e),r=c.params.ro):r=e,o=Date.now(),c.Po(t,r)})).next((function(r){return n=r,s=Date.now(),c.Vo(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.po(t,n)})).next((function(t){return u=Date.now(),uf()<=Oa.DEBUG&&cf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ug.resolve({Xr:!0,Zr:r,eo:i,no:t})}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=im(e)),e=rm(t.get(n),e);return im(e)}function rm(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function im(t){return t+""}function om(t){var e=t.length;if(df(e>=2),2===e)return df(""===t.charAt(0)&&""===t.charAt(1)),wf.g();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&pf(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:pf()}o=s+2}return new wf(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sm=function(t){this.Do=t};function am(t,e){if(e.document)return n=t.Do,r=e.document,i=!!e.hasCommittedMutations,o=Ed(n,r.name),s=yd(r.updateTime),a=new bv({mapValue:{fields:r.fields}}),new Iv(o,s,a,{hasCommittedMutations:!!i});var n,r,i,o,s,a;if(e.noDocument){var u=If.$(e.noDocument.path),c=fm(e.noDocument.readTime);return new Tv(u,c,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var l=If.$(e.unknownDocument.path),h=fm(e.unknownDocument.version);return new Sv(l,h)}return pf()}function um(t,e,n){var r,i,o=cm(n),s=e.key.path.h().A();if(e instanceof Iv){var a={name:_d(r=t.Do,(i=e).key),fields:i.sn().mapValue.fields,updateTime:vd(r,i.version.X())},u=e.hasCommittedMutations;return new Mm(null,null,a,u,o,s)}if(e instanceof Tv){var c=e.key.path.A(),l=hm(e.version),h=e.hasCommittedMutations;return new Mm(null,new Pm(c,l),null,h,o,s)}if(e instanceof Sv){var f=e.key.path.A(),p=hm(e.version);return new Mm(new Um(f,p),null,null,!0,o,s)}return pf()}function cm(t){var e=t.X();return[e.seconds,e.nanoseconds]}function lm(t){var e=new np(t[0],t[1]);return rp.Y(e)}function hm(t){var e=t.X();return new Dm(e.seconds,e.nanoseconds)}function fm(t){var e=new np(t.seconds,t.nanoseconds);return rp.Y(e)}function pm(t,e){var n=(e.baseMutations||[]).map((function(e){return Cd(t.Do,e)})),r=e.mutations.map((function(e){return Cd(t.Do,e)})),i=np.fromMillis(e.localWriteTimeMs);return new Gg(e.batchId,i,n,r)}function dm(t){var e,n,r=fm(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?fm(t.lastLimboFreeSnapshotVersion):rp.min();return void 0!==t.query.documents?(df(1===(n=t.query).documents.length),e=Pv(kv(Td(n.documents[0])))):e=function(t){var e=Td(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){df(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Vd(e)]:void 0!==e.fieldFilter?[Fd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):pf():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new rg(Md((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=ip(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=Ld(n.startAt));var f=null;return n.endAt&&(f=Ld(n.endAt)),Pv(Nv(e,i,a,s,l,"F",h,f))}(t.query),new dp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Kf.fromBase64String(t.resumeToken))}function vm(t,e){var n,r=hm(e.et),i=hm(e.lastLimboFreeSnapshotVersion);n=hp(e.target)?Dd(t.Do,e.target):xd(t.Do,e.target);var o=e.resumeToken.toBase64();return new Vm(e.targetId,cp(e.target),r,o,e.sequenceNumber,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gm=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Sr=n,this.Co=r,this.No={}}return t.Fo=function(e,n,r,i){return df(""!==e.uid),new t(e.Xs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bm(t).ss({index:Lm.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.xo=function(t,e,n,r){var i=this,o=wm(t),s=bm(t);return s.add({}).next((function(a){df("number"==typeof a);for(var u=new Gg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return kd(t.Do,e)})),i=n.mutations.map((function(e){return kd(t.Do,e)}));return new Lm(e,n.batchId,n.rr.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new _p((function(t,e){return Hf(t.R(),e.R())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Rm.key(i.userId,d.key.path,a);h=h.add(d.key.path.h()),l.push(s.put(c)),l.push(o.put(v,Rm.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Sr.ko(t,e))})),t.Vr((function(){i.No[a]=u.keys()})),ug.$n(l).next((function(){return u}))}))},t.prototype.Mo=function(t,e){var n=this;return bm(t).get(e).next((function(t){return t?(df(t.userId===n.userId),pm(n.serializer,t)):null}))},t.prototype.Oo=function(t,e){var n=this;return this.No[e]?ug.resolve(this.No[e]):this.Mo(t,e).next((function(t){if(t){var r=t.keys();return n.No[e]=r,r}return null}))},t.prototype.Lo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return bm(t).ss({index:Lm.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(df(e.batchId>=r),o=pm(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bm(t).ss({index:Lm.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bm(t).Zn(Lm.userMutationsIndex,n).next((function(t){return t.map((function(t){return pm(e.serializer,t)}))}))},t.prototype.Cr=function(t,e){var n=this,r=Rm.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return wm(t).ss({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=om(u);if(a===n.userId&&e.path.isEqual(l))return bm(t).get(c).next((function(t){if(!t)throw pf();df(t.userId===n.userId),o.push(pm(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.Mr=function(t,e){var n=this,r=new _p(Hf),i=[];return e.forEach((function(e){var o=Rm.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=wm(t).ss({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=om(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),ug.$n(i).next((function(){return n.Uo(t,r)}))},t.prototype.Qr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Rm.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new _p(Hf);return wm(t).ss({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=om(u);s===n.userId&&r.T(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Uo(t,a)}))},t.prototype.Uo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(bm(t).get(e).next((function(t){if(null===t)throw pf();df(t.userId===n.userId),r.push(pm(n.serializer,t))})))})),ug.$n(i).next((function(){return r}))},t.prototype.Qo=function(t,e){var n=this;return ym(t.Wo,this.userId,e).next((function(r){return t.Vr((function(){n.jo(e.batchId)})),ug.forEach(r,(function(e){return n.Co.Ko(t,e)}))}))},t.prototype.jo=function(t){delete this.No[t]},t.prototype.Go=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return ug.resolve();var r=IDBKeyRange.lowerBound(Rm.prefixForUser(e.userId)),i=[];return wm(t).ss({range:r},(function(t,n,r){if(t[0]===e.userId){var o=om(t[1]);i.push(o)}else r.done()})).next((function(){df(0===i.length)}))}))},t.prototype.zo=function(t,e){return mm(t,this.userId,e)},t.prototype.Ho=function(t){var e=this;return _m(t).get(this.userId).next((function(t){return t||new Om(e.userId,-1,"")}))},t}();function mm(t,e,n){var r=Rm.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return wm(t).ss({range:o,ns:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function ym(t,e,n){var r=t.store(Lm.store),i=t.store(Rm.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.ss({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){df(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Rm.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return ug.$n(o).next((function(){return c}))}function bm(t){return ey.Un(t,Lm.store)}function wm(t){return ey.Un(t,Rm.store)}function _m(t){return ey.Un(t,Om.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Em=function(){function t(t,e){this.serializer=t,this.Sr=e}return t.prototype.Tr=function(t,e,n){return Tm(t).put(Sm(e),n)},t.prototype.Ir=function(t,e){var n=Tm(t),r=Sm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Yo(t,r)}))},t.prototype.Ar=function(t,e){var n=this;return Tm(t).get(Sm(e)).next((function(t){return n.Jo(t)}))},t.prototype.Xo=function(t,e){var n=this;return Tm(t).get(Sm(e)).next((function(t){var e=n.Jo(t);return e?{Zo:e,size:Am(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Sp();return this.ta(t,e,(function(t,e){var i=n.Jo(e);r=r.rt(t,i)})).next((function(){return r}))},t.prototype.ea=function(t,e){var n=this,r=Sp(),i=new yp(If.i);return this.ta(t,e,(function(t,e){var o=n.Jo(e);o?(r=r.rt(t,o),i=i.rt(t,Am(e))):(r=r.rt(t,null),i=i.rt(t,0))})).next((function(){return{na:r,sa:i}}))},t.prototype.ta=function(t,e,n){if(e.m())return ug.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e.lt(),o=i.Et();return Tm(t).ss({range:r},(function(t,e,r){for(var s=If.$(t);o&&If.i(o,s)<0;)n(o,null),o=i.Et();o&&o.isEqual(s)&&(n(o,e),o=i.It()?i.Et():null),o?r.Jn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.It()?i.Et():null}))},t.prototype.Or=function(t,e,n){var r=this,i=Np(),o=e.path.length+1,s={};if(n.isEqual(rp.min())){var a=e.path.A();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.A(),c=cm(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Mm.collectionReadTimeIndex}return Tm(t).ss(s,(function(t,n,s){if(t.length===o){var a=am(r.serializer,n);e.path.T(a.key.path)?a instanceof Iv&&qv(e,a)&&(i=i.rt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.ia=function(t,e){var n=this,r=Tp(),i=cm(e),o=Tm(t),s=IDBKeyRange.lowerBound(i,!0);return o.ss({index:Mm.readTimeIndex,range:s},(function(t,e){var o=am(n.serializer,e);r=r.rt(o.key,o),i=e.readTime})).next((function(){return{ra:r,readTime:lm(i)}}))},t.prototype.oa=function(t){var e=Tm(t),n=rp.min();return e.ss({index:Mm.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=lm(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.aa=function(e){return new t.ca(this,!!e&&e.ua)},t.prototype.ha=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Im(t).get(Fm.key).next((function(t){return df(!!t),t}))},t.prototype.Yo=function(t,e){return Im(t).put(Fm.key,e)},t.prototype.Jo=function(t){if(t){var e=am(this.serializer,t);return e instanceof Tv&&e.version.isEqual(rp.min())?null:e}return null},t}();function Im(t){return ey.Un(t,Fm.store)}function Tm(t){return ey.Un(t,Mm.store)}function Sm(t){return t.path.A()}function Am(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pf();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Em.ca=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).la=e,r.ua=n,r._a=new ep((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return aa(e,t),e.prototype.gr=function(t){var e=this,n=[],r=0,i=new _p((function(t,e){return Hf(t.R(),e.R())}));return this.dr.forEach((function(o,s){var a=e._a.get(o);if(s){var u=um(e.la.serializer,s,e.readTime);i=i.add(o.path.h());var c=Am(u);r+=c-a,n.push(e.la.Tr(t,o,u))}else if(r-=a,e.ua){var l=um(e.la.serializer,new Tv(o,rp.min()),e.readTime);n.push(e.la.Tr(t,o,l))}else n.push(e.la.Ir(t,o))})),i.forEach((function(r){n.push(e.la.Sr.ko(t,r))})),n.push(this.la.updateMetadata(t,r)),ug.$n(n)},e.prototype.Rr=function(t,e){var n=this;return this.la.Xo(t,e).next((function(t){return null===t?(n._a.set(e,0),null):(n._a.set(e,t.size),t.Zo)}))},e.prototype.Pr=function(t,e){var n=this;return this.la.ea(t,e).next((function(t){var e=t.na;return t.sa.forEach((function(t,e){n._a.set(t,e)})),e}))},e}(Hg);var Nm=function(){function t(){this.fa=new km}return t.prototype.ko=function(t,e){return this.fa.add(e),ug.resolve()},t.prototype.Ur=function(t,e){return ug.resolve(this.fa.getEntries(e))},t}(),km=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new _p(wf.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new _p(wf.i)).A()},t}(),Cm=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;df(n<r&&n>=0&&r<=10);var o=new pg(e);n<1&&r>=1&&(t.createObjectStore(xm.store),function(t){t.createObjectStore(Om.store,{keyPath:Om.keyPath}),t.createObjectStore(Lm.store,{keyPath:Lm.keyPath,autoIncrement:!0}).createIndex(Lm.userMutationsIndex,Lm.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Rm.store)}(t),Gm(t),function(t){t.createObjectStore(Mm.store)}(t));var s=ug.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(jm.store),t.deleteObjectStore(Vm.store),t.deleteObjectStore(Bm.store)}(t),Gm(t)),s=s.next((function(){return function(t){var e=t.store(Bm.store),n=new Bm(0,0,rp.min().X(),0);return e.put(Bm.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Lm.store).Zn().next((function(n){t.deleteObjectStore(Lm.store),t.createObjectStore(Lm.store,{keyPath:Lm.keyPath,autoIncrement:!0}).createIndex(Lm.userMutationsIndex,Lm.userMutationsKeyPath,{unique:!0});var r=e.store(Lm.store),i=n.map((function(t){return r.put(t)}));return ug.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(zm.store,{keyPath:zm.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Fm.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Mm.store);e.createIndex(Mm.readTimeIndex,Mm.readTimeIndexPath,{unique:!1}),e.createIndex(Mm.collectionReadTimeIndex,Mm.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Mm.store).ss((function(t,n){e+=Am(n)})).next((function(){var n=new Fm(e);return t.store(Fm.store).put(Fm.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Om.store),r=t.store(Lm.store);return n.Zn().next((function(n){return ug.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Zn(Lm.userMutationsIndex,i).next((function(r){return ug.forEach(r,(function(r){df(r.userId===n.userId);var i=pm(e.serializer,r);return ym(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(jm.store),n=t.store(Mm.store);return t.store(Bm.store).get(Bm.key).next((function(t){var r=[];return n.ss((function(n,i){var o=new wf(n),s=[0,nm(o)];r.push(e.get(s).next((function(n){return n?ug.resolve():(r=o,e.put(new jm(0,nm(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return ug.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(qm.store,{keyPath:qm.keyPath});var n=e.store(qm.store),r=new km,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:nm(i)})}};return e.store(Mm.store).ss({ns:!0},(function(t,e){var n=new wf(t);return i(n.h())})).next((function(){return e.store(Rm.store).ss({ns:!0},(function(t,e){t[0];var n=t[1],r=(t[2],om(n));return i(r.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Vm.store);return n.ss((function(t,r){var i=dm(r),o=vm(e.serializer,i);return n.put(o)}))},t}(),Dm=function(t,e){this.seconds=t,this.nanoseconds=e},xm=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};xm.store="owner",xm.key="owner";var Om=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Om.store="mutationQueues",Om.keyPath="userId";var Lm=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Lm.store="mutations",Lm.keyPath="batchId",Lm.userMutationsIndex="userMutationsIndex",Lm.userMutationsKeyPath=["userId","batchId"];var Rm=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,nm(e)]},t.key=function(t,e,n){return[t,nm(e),n]},t}();Rm.store="documentMutations",Rm.PLACEHOLDER=new Rm;var Pm=function(t,e){this.path=t,this.readTime=e},Um=function(t,e){this.path=t,this.version=e},Mm=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Mm.store="remoteDocuments",Mm.readTimeIndex="readTimeIndex",Mm.readTimeIndexPath="readTime",Mm.collectionReadTimeIndex="collectionReadTimeIndex",Mm.collectionReadTimeIndexPath=["parentPath","readTime"];var Fm=function(t){this.byteSize=t};Fm.store="remoteDocumentGlobal",Fm.key="remoteDocumentGlobalKey";var Vm=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Vm.store="targets",Vm.keyPath="targetId",Vm.queryTargetsIndexName="queryTargetsIndex",Vm.queryTargetsKeyPath=["canonicalId","targetId"];var jm=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};jm.store="targetDocuments",jm.keyPath=["targetId","path"],jm.documentTargetsIndex="documentTargetsIndex",jm.documentTargetsKeyPath=["path","targetId"];var Bm=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Bm.key="targetGlobalKey",Bm.store="targetGlobal";var qm=function(t,e){this.collectionId=t,this.parent=e};function Gm(t){t.createObjectStore(jm.store,{keyPath:jm.keyPath}).createIndex(jm.documentTargetsIndex,jm.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Vm.store,{keyPath:Vm.keyPath}).createIndex(Vm.queryTargetsIndexName,Vm.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Bm.store)}qm.store="collectionParents",qm.keyPath=["collectionId","parent"];var zm=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zm.store="clientMetadata",zm.keyPath="clientId";var Hm=da(da(da([Om.store,Lm.store,Rm.store,Mm.store,Vm.store,xm.store,Bm.store,jm.store],[zm.store]),[Fm.store]),[qm.store]),Wm=function(){function t(){this.da=new km}return t.prototype.ko=function(t,e){var n=this;if(!this.da.has(e)){var r=e._(),i=e.h();t.Vr((function(){n.da.add(e)}));var o={collectionId:r,parent:nm(i)};return Qm(t).put(o)}return ug.resolve()},t.prototype.Ur=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Qf(e),""],!1,!0);return Qm(t).Zn(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(om(o.parent))}return n}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){return ey.Un(t,qm.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Km=function(){function t(t){this.wa=t}return t.prototype.next=function(){return this.wa+=2,this.wa},t.ma=function(){return new t(0)},t.Ta=function(){return new t(-1)},t}(),Ym=function(){function t(t,e){this.Co=t,this.serializer=e}return t.prototype.Ea=function(t){var e=this;return this.Ia(t).next((function(n){var r=new Km(n.highestTargetId);return n.highestTargetId=r.next(),e.Aa(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ra=function(t){return this.Ia(t).next((function(t){return rp.Y(new np(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Pa=function(t){return this.Ia(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ga=function(t,e,n){var r=this;return this.Ia(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.X()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Aa(t,i)}))},t.prototype.ya=function(t,e){var n=this;return this.Va(t,e).next((function(){return n.Ia(t).next((function(r){return r.targetCount+=1,n.pa(e,r),n.Aa(t,r)}))}))},t.prototype.ba=function(t,e){return this.Va(t,e)},t.prototype.va=function(t,e){var n=this;return this.Sa(t,e.targetId).next((function(){return Xm(t).delete(e.targetId)})).next((function(){return n.Ia(t)})).next((function(e){return df(e.targetCount>0),e.targetCount-=1,n.Aa(t,e)}))},t.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return Xm(t).ss((function(s,a){var u=dm(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.va(t,u)))})).next((function(){return ug.$n(o)})).next((function(){return i}))},t.prototype.De=function(t,e){return Xm(t).ss((function(t,n){var r=dm(n);e(r)}))},t.prototype.Ia=function(t){return Jm(t).get(Bm.key).next((function(t){return df(null!==t),t}))},t.prototype.Aa=function(t,e){return Jm(t).put(Bm.key,e)},t.prototype.Va=function(t,e){return Xm(t).put(vm(this.serializer,e))},t.prototype.pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Da=function(t){return this.Ia(t).next((function(t){return t.targetCount}))},t.prototype.Ca=function(t,e){var n=cp(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xm(t).ss({range:r,index:Vm.queryTargetsIndexName},(function(t,n,r){var o=dm(n);lp(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Na=function(t,e,n){var r=this,i=[],o=$m(t);return e.forEach((function(e){var s=nm(e.path);i.push(o.put(new jm(n,s))),i.push(r.Co.Fa(t,n,e))})),ug.$n(i)},t.prototype.$a=function(t,e,n){var r=this,i=$m(t);return ug.forEach(e,(function(e){var o=nm(e.path);return ug.$n([i.delete([n,o]),r.Co.xa(t,n,e)])}))},t.prototype.Sa=function(t,e){var n=$m(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ka=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=$m(t),i=Dp();return r.ss({range:n,ns:!0},(function(t,e,n){var r=om(t[1]),o=new If(r);i=i.add(o)})).next((function(){return i}))},t.prototype.zo=function(t,e){var n=nm(e.path),r=IDBKeyRange.bound([n],[Qf(n)],!1,!0),i=0;return $m(t).ss({index:jm.documentTargetsIndex,ns:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.qe=function(t,e){return Xm(t).get(e).next((function(t){return t?dm(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t){return ey.Un(t,Vm.store)}function Jm(t){return ey.Un(t,Bm.store)}function $m(t){return ey.Un(t,jm.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zm="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ty=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wo=e,r.Ma=n,r}return aa(e,t),e}(Qg),ey=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this._n=o,this.window=s,this.document=a,this.Oa=c,this.La=l,this.Ba=null,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!t.On())throw new sf(of.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new iy(this,i),this.Ga=n+"main",this.serializer=new sm(u),this.za=new cg(this.Ga,10,new Cm(this.serializer)),this.Ha=new Ym(this.Co,this.serializer),this.Sr=new Wm,this.br=new Em(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ya=this.window.localStorage:(this.Ya=null,!1===l&&lf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Un=function(t,e){if(t instanceof ty)return cg.Un(t.Wo,e);throw pf()},t.prototype.start=function(){var t=this;return this.Ja().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new sf(of.FAILED_PRECONDITION,Zm);return t.Xa(),t.Za(),t.tc(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ha.Pa(e)}))})).then((function(e){t.Ba=new Og(e,t.Oa)})).then((function(){t.qa=!0})).catch((function(e){return t.za&&t.za.close(),Promise.reject(e)}))},t.prototype.ec=function(t){var e=this;return this.Ka=function(n){return ca(e,void 0,void 0,(function(){return la(this,(function(e){return this.Ti?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.nc=function(t){var e=this;this.za.jn((function(n){return ca(e,void 0,void 0,(function(){return la(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.sc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this._n.ds((function(){return ca(e,void 0,void 0,(function(){return la(this,(function(t){switch(t.label){case 0:return this.Ti?[4,this.Ja()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ja=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return ry(e).put(new zm(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ic(e).next((function(e){e||(t.isPrimary=!1,t._n.Ds((function(){return t.Ka(!1)})))}))})).next((function(){return t.rc(e)})).next((function(n){return t.isPrimary&&!n?t.oc(e).next((function(){return!1})):!!n&&t.ac(e).next((function(){return!0}))}))})).catch((function(e){if(fg(e))return cf("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return cf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t._n.Ds((function(){return t.Ka(e)})),t.isPrimary=e}))},t.prototype.ic=function(t){var e=this;return ny(t).get(xm.key).next((function(t){return ug.resolve(e.cc(t))}))},t.prototype.uc=function(t){return ry(t).delete(this.clientId)},t.prototype.hc=function(){return ca(this,void 0,void 0,(function(){var e,n,r,i,o=this;return la(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.lc(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Un(e,zm.store);return n.Zn().next((function(t){var e=o._c(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return ug.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.Ya)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ya.removeItem(this.fc(i.clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.tc=function(){var t=this;this.Wa=this._n.gn("client_metadata_refresh",4e3,(function(){return t.Ja().then((function(){return t.hc()})).then((function(){return t.tc()}))}))},t.prototype.cc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.rc=function(t){var e=this;return this.La?ug.resolve(!0):ny(t).get(xm.key).next((function(n){if(null!==n&&e.lc(n.leaseTimestampMs,5e3)&&!e.dc(n.ownerId)){if(e.cc(n)&&e.networkEnabled)return!0;if(!e.cc(n)){if(!n.allowTabSynchronization)throw new sf(of.FAILED_PRECONDITION,Zm);return!1}}return!(!e.networkEnabled||!e.inForeground)||ry(t).Zn().next((function(t){return void 0===e._c(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&cf("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Si=function(){return ca(this,void 0,void 0,(function(){var t=this;return la(this,(function(e){switch(e.label){case 0:return this.qa=!1,this.wc(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.mc(),this.Tc(),[4,this.za.runTransaction("readwrite",[xm.store,zm.store],(function(e){var n=new ty(e,Og.oi);return t.oc(n).next((function(){return t.uc(n)}))}))];case 1:return e.sent(),this.za.close(),this.Ec(),[2]}}))}))},t.prototype._c=function(t,e){var n=this;return t.filter((function(t){return n.lc(t.updateTimeMs,e)&&!n.dc(t.clientId)}))},t.prototype.Vi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return ry(e).Zn().next((function(e){return t._c(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.Ic=function(t){return gm.Fo(t,this.serializer,this.Sr,this.Co)},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.Pc=function(){return this.Sr},t.prototype.runTransaction=function(t,e,n){var r=this;cf("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.za.runTransaction(o,Hm,(function(o){return i=new ty(o,r.Ba?r.Ba.next():Og.oi),"readwrite-primary"===e?r.ic(i).next((function(t){return!!t||r.rc(i)})).next((function(e){if(!e)throw lf("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r._n.Ds((function(){return r.Ka(!1)})),new sf(of.FAILED_PRECONDITION,Wg);return n(i)})).next((function(t){return r.ac(i).next((function(){return t}))})):r.gc(i).next((function(){return n(i)}))})).then((function(t){return i.pr(),t}))},t.prototype.gc=function(t){var e=this;return ny(t).get(xm.key).next((function(t){if(null!==t&&e.lc(t.leaseTimestampMs,5e3)&&!e.dc(t.ownerId)&&!e.cc(t)&&!(e.La||e.allowTabSynchronization&&t.allowTabSynchronization))throw new sf(of.FAILED_PRECONDITION,Zm)}))},t.prototype.ac=function(t){var e=new xm(this.clientId,this.allowTabSynchronization,Date.now());return ny(t).put(xm.key,e)},t.On=function(){return cg.On()},t.prototype.oc=function(t){var e=this,n=ny(t);return n.get(xm.key).next((function(t){return e.cc(t)?(cf("IndexedDbPersistence","Releasing primary lease."),n.delete(xm.key)):ug.resolve()}))},t.prototype.lc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(lf("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){t._n.ds((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ja()}))},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},t.prototype.mc=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},t.prototype.Za=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ua=function(){e.wc(),e._n.ds((function(){return e.Si()}))},this.window.addEventListener("unload",this.Ua))},t.prototype.Tc=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},t.prototype.dc=function(t){var e;try{var n=null!==(null===(e=this.Ya)||void 0===e?void 0:e.getItem(this.fc(t)));return cf("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return lf("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wc=function(){if(this.Ya)try{this.Ya.setItem(this.fc(this.clientId),String(Date.now()))}catch(t){lf("Failed to set zombie client id.",t)}},t.prototype.Ec=function(){if(this.Ya)try{this.Ya.removeItem(this.fc(this.clientId))}catch(t){}},t.prototype.fc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ny(t){return ey.Un(t,xm.store)}function ry(t){return ey.Un(t,zm.store)}var iy=function(){function t(t,e){this.db=t,this.do=new em(this,e)}return t.prototype.Ro=function(t){var e=this.yc(t);return this.db.Ac().Da(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.yc=function(t){var e=0;return this.yo(t,(function(t){e++})).next((function(){return e}))},t.prototype.De=function(t,e){return this.db.Ac().De(t,e)},t.prototype.yo=function(t,e){return this.Vc(t,(function(t,n){return e(n)}))},t.prototype.Fa=function(t,e,n){return oy(t,n)},t.prototype.xa=function(t,e,n){return oy(t,n)},t.prototype.Vo=function(t,e,n){return this.db.Ac().Vo(t,e,n)},t.prototype.Ko=function(t,e){return oy(t,e)},t.prototype.bc=function(t,e){return r=e,i=!1,_m(n=t).rs((function(t){return mm(n,t,r).next((function(t){return t&&(i=!0),ug.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.po=function(t,e){var n=this,r=this.db.Rc().aa(),i=[],o=0;return this.Vc(t,(function(s,a){if(a<=e){var u=n.bc(t,s).next((function(e){if(!e)return o++,r.Ar(t,s).next((function(){return r.Ir(s),$m(t).delete([0,nm(s.path)])}))}));i.push(u)}})).next((function(){return ug.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.nt(t.Ma);return this.db.Ac().ba(t,n)},t.prototype.vc=function(t,e){return oy(t,e)},t.prototype.Vc=function(t,e){var n,r=$m(t),i=Og.oi;return r.ss({index:jm.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Og.oi&&e(new If(om(n)),i),i=a,n=s):i=Og.oi})).next((function(){i!==Og.oi&&e(new If(om(n)),i)}))},t.prototype.vo=function(t){return this.db.Rc().ha(t)},t}();function oy(t,e){return $m(t).put((n=e,r=t.Ma,new jm(0,nm(n.path),r)));var n,r}function sy(t,e){var n=t.projectId;return t.W||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ay=function(){function t(t,e,n){this.persistence=t,this.Sc=e,this.Dc=new yp(Hf),this.Cc=new ep((function(t){return cp(t)}),lp),this.Nc=rp.min(),this.vr=t.Ic(n),this.Fc=t.Rc(),this.Ha=t.Ac(),this.$c=new Kg(this.Fc,this.vr,this.persistence.Pc()),this.Sc.xc(this.$c)}return t.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.bo(n,e.Dc)}))},t}();function uy(t,e){var n=vf(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.Fc.aa({ua:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=ug.resolve(),u.forEach((function(t){c=c.next((function(){return s.Ar(i,t)})).next((function(e){var n=e,r=o._r.get(t);df(null!==r),(!n||n.version.L(r)<0)&&(n=a.ar(t,n,o))&&s.Tr(n,o.lr)}))})),c.next((function(){return r.vr.Qo(i,a)}))).next((function(){return h.apply(t)})).next((function(){return n.vr.Go(t)})).next((function(){return n.$c.$r(t,l)}))}))}function cy(t){var e=vf(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ha.Ra(t)}))}function ly(t,e){var n=vf(t),r=e.et,i=n.Dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Fc.aa({ua:!0});i=n.Dc;var s=[];e.Gt.forEach((function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n.Ha.$a(t,e.ne,o).next((function(){return n.Ha.Na(t,e.te,o)})));var h=e.resumeToken;if(h.O()>0){var f=l.st(h,r).nt(t.Ma);i=i.rt(o,f),a=l,c=e,df((u=f).resumeToken.O()>0),(0===a.resumeToken.O()||u.et.J()-a.et.J()>=3e8||c.te.size+c.ee.size+c.ne.size>0)&&s.push(n.Ha.ba(t,f))}}}));var a=Tp(),u=Dp();if(e.Ht.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Ht.forEach((function(u,c){var l=i.get(u);c instanceof Tv&&c.version.isEqual(rp.min())?(o.Ir(u,r),a=a.rt(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Tr(c,r),a=a.rt(u,c)):cf("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Yt.has(u)&&s.push(n.persistence.Co.vc(t,u))}))}))),!r.isEqual(rp.min())){var c=n.Ha.Ra(t).next((function(e){return n.Ha.ga(t,t.Ma,r)}));s.push(c)}return ug.$n(s).next((function(){return o.apply(t)})).next((function(){return n.$c.kr(t,a)}))})).then((function(t){return n.Dc=i,t}))}function hy(t,e){var n=vf(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.vr.Lo(t,e)}))}function fy(t,e){var n=vf(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ha.Ca(t,e).next((function(i){return i?(r=i,ug.resolve(r)):n.Ha.Ea(t).next((function(i){return r=new dp(e,i,0,t.Ma),n.Ha.ya(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Dc.get(t.targetId);return(null===r||t.et.L(r.et)>0)&&(n.Dc=n.Dc.rt(t.targetId,t),n.Cc.set(e,t.targetId)),t}))}function py(t,e,n){return ca(this,void 0,void 0,(function(){var r,i,o,s;return la(this,(function(a){switch(a.label){case 0:r=vf(t),i=r.Dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Co.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!fg(s=a.sent()))throw s;return cf("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Dc=r.Dc.remove(e),r.Cc.delete(i.target),[2]}}))}))}function dy(t,e,n){var r=vf(t),i=rp.min(),o=Dp();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=Pv(e),c=vf(s),l=c.Cc.get(u),void 0!==l?ug.resolve(c.Dc.get(l)):c.Ha.Ca(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ha.ka(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Sc.Or(t,e,n?i:rp.min(),n?o:Dp())})).next((function(t){return{documents:t,kc:o}}));var s,a,u,c,l}))}function vy(t,e){var n=vf(t),r=vf(n.Ha),i=n.Dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.qe(t,e).next((function(t){return t?t.target:null}))}))}function gy(t){return ca(this,void 0,void 0,(function(){return la(this,(function(e){if(t.code!==of.FAILED_PRECONDITION||t.message!==Wg)throw t;return cf("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var my=function(){function t(){this.Mc=new _p(yy.Oc),this.Lc=new _p(yy.Bc)}return t.prototype.m=function(){return this.Mc.m()},t.prototype.Fa=function(t,e){var n=new yy(t,e);this.Mc=this.Mc.add(n),this.Lc=this.Lc.add(n)},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Fa(t,e)}))},t.prototype.xa=function(t,e){this.Uc(new yy(t,e))},t.prototype.Qc=function(t,e){var n=this;t.forEach((function(t){return n.xa(t,e)}))},t.prototype.Wc=function(t){var e=this,n=new If(new wf([])),r=new yy(n,t),i=new yy(n,t+1),o=[];return this.Lc.Nt([r,i],(function(t){e.Uc(t),o.push(t.key)})),o},t.prototype.jc=function(){var t=this;this.Mc.forEach((function(e){return t.Uc(e)}))},t.prototype.Uc=function(t){this.Mc=this.Mc.delete(t),this.Lc=this.Lc.delete(t)},t.prototype.Kc=function(t){var e=new If(new wf([])),n=new yy(e,t),r=new yy(e,t+1),i=Dp();return this.Lc.Nt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.zo=function(t){var e=new yy(t,0),n=this.Mc.$t(e);return null!==n&&t.isEqual(n.key)},t}(),yy=function(){function t(t,e){this.key=t,this.Gc=e}return t.Oc=function(t,e){return If.i(t.key,e.key)||Hf(t.Gc,e.Gc)},t.Bc=function(t,e){return Hf(t.Gc,e.Gc)||If.i(t.key,e.key)},t}(),by=function(t,e){this.user=e,this.type="OAuth",this.zc={},this.zc.Authorization="Bearer "+t},wy=function(){function t(){this.Hc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Yc=function(){},t.prototype.Jc=function(t){this.Hc=t,t(xg.UNAUTHENTICATED)},t.prototype.Xc=function(){this.Hc=null},t}(),_y=function(){function t(t){var e=this;this.Zc=null,this.currentUser=xg.UNAUTHENTICATED,this.tu=!1,this.eu=0,this.Hc=null,this.forceRefresh=!1,this.Zc=function(){e.eu++,e.currentUser=e.nu(),e.tu=!0,e.Hc&&e.Hc(e.currentUser)},this.eu=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Zc):(this.Zc(null),t.get().then((function(t){e.auth=t,e.Zc&&e.auth.addAuthTokenListener(e.Zc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.eu,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.eu!==e?(cf("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(df("string"==typeof n.accessToken),new by(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.Yc=function(){this.forceRefresh=!0},t.prototype.Jc=function(t){this.Hc=t,this.tu&&t(this.currentUser)},t.prototype.Xc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Zc),this.Zc=null,this.Hc=null},t.prototype.nu=function(){var t=this.auth&&this.auth.getUid();return df(null===t||"string"==typeof t),new xg(t)},t}(),Ey=function(){function t(t,e){this.su=t,this.iu=e,this.type="FirstParty",this.user=xg.ei}return Object.defineProperty(t.prototype,"zc",{get:function(){var t={"X-Goog-AuthUser":this.iu},e=this.su.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Iy=function(){function t(t,e){this.su=t,this.iu=e}return t.prototype.getToken=function(){return Promise.resolve(new Ey(this.su,this.iu))},t.prototype.Jc=function(t){t(xg.ei)},t.prototype.Xc=function(){},t.prototype.Yc=function(){},t}(),Ty=function(){function t(t,e,n,r,i,o){this._n=t,this.ru=n,this.ou=r,this.au=i,this.listener=o,this.state=0,this.cu=0,this.uu=null,this.stream=null,this.gs=new ag(t,e)}return t.prototype.hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.lu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this._u()},t.prototype.stop=function(){return ca(this,void 0,void 0,(function(){return la(this,(function(t){switch(t.label){case 0:return this.hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.fu=function(){this.state=0,this.gs.reset()},t.prototype.du=function(){var t=this;this.lu()&&null===this.uu&&(this.uu=this._n.gn(this.ru,6e4,(function(){return t.wu()})))},t.prototype.mu=function(t){this.Tu(),this.stream.send(t)},t.prototype.wu=function(){return ca(this,void 0,void 0,(function(){return la(this,(function(t){return this.lu()?[2,this.close(0)]:[2]}))}))},t.prototype.Tu=function(){this.uu&&(this.uu.cancel(),this.uu=null)},t.prototype.close=function(t,e){return ca(this,void 0,void 0,(function(){return la(this,(function(n){switch(n.label){case 0:return this.Tu(),this.gs.cancel(),this.cu++,3!==t?this.gs.reset():e&&e.code===of.RESOURCE_EXHAUSTED?(lf(e.toString()),lf("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):e&&e.code===of.UNAUTHENTICATED&&this.au.Yc(),null!==this.stream&&(this.Eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Au(this.cu),n=this.cu;this.au.getToken().then((function(e){t.cu===n&&t.Ru(e)}),(function(n){e((function(){var e=new sf(of.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Pu(e)}))}))},t.prototype.Ru=function(t){var e=this,n=this.Au(this.cu);this.stream=this.gu(t),this.stream.yu((function(){n((function(){return e.state=2,e.listener.yu()}))})),this.stream.Iu((function(t){n((function(){return e.Pu(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype._u=function(){var t=this;this.state=4,this.gs.Rn((function(){return ca(t,void 0,void 0,(function(){return la(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Pu=function(t){return cf("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Au=function(t){var e=this;return function(n){e._n.ds((function(){return e.cu===t?n():(cf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Sy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return aa(e,t),e.prototype.gu=function(t){return this.ou.Vu("Listen",t)},e.prototype.onMessage=function(t){this.gs.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:pf(),o=e.targetChange.targetIds||[],s=function(t,e){return t.Ue?(df(void 0===e||"string"==typeof e),Kf.fromBase64String(e||"")):(df(void 0===e||e instanceof Uint8Array),Kf.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(t){var e=void 0===t.code?of.UNKNOWN:mp(t.code);return new sf(e,t.message||"")}(a);n=new jp(i,o,s,u||null)}else if("documentChange"in e){e.documentChange;var c=e.documentChange;c.document,c.document.name,c.document.updateTime;var l=Ed(t,c.document.name),h=yd(c.document.updateTime),f=new bv({mapValue:{fields:c.document.fields}}),p=new Iv(l,h,f,{}),d=c.targetIds||[],v=c.removedTargetIds||[];n=new Fp(d,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;var g=e.documentDelete;g.document;var m=Ed(t,g.document),y=g.readTime?yd(g.readTime):rp.min(),b=new Tv(m,y),w=g.removedTargetIds||[];n=new Fp([],w,b.key,b)}else if("documentRemove"in e){e.documentRemove;var _=e.documentRemove;_.document;var E=Ed(t,_.document),I=_.removedTargetIds||[];n=new Fp([],I,E,null)}else{if(!("filter"in e))return pf();e.filter;var T=e.filter;T.targetId;var S=T.count||0,A=new vp(S),N=T.targetId;n=new Vp(N,A)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return rp.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?rp.min():e.readTime?yd(e.readTime):rp.min()}(t);return this.listener.pu(e,n)},e.prototype.bu=function(t){var e,n,r,i,o={};o.database=Sd(this.serializer),o.addTarget=(e=this.serializer,i=(n=t).target,(r=hp(i)?{documents:Dd(e,i)}:{query:xd(e,i)}).targetId=n.targetId,n.resumeToken.O()>0&&(r.resumeToken=gd(e,n.resumeToken)),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pf()}}(0,e.tt);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);s&&(o.labels=s),this.mu(o)},e.prototype.vu=function(t){var e={};e.database=Sd(this.serializer),e.removeTarget=t,this.mu(e)},e}(Ty),Ay=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Su=!1,s}return aa(e,t),Object.defineProperty(e.prototype,"Du",{get:function(){return this.Su},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Su=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Eu=function(){this.Su&&this.Cu([])},e.prototype.gu=function(t){return this.ou.Vu("Write",t)},e.prototype.onMessage=function(t){if(df(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Su){this.gs.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(df(void 0!==i),r.map((function(t){return function(t,e){var n=t.updateTime?yd(t.updateTime):yd(e);n.isEqual(rp.min())&&(n=yd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new nv(n,r)}(t,i)}))):[]),n=yd(t.commitTime);return this.listener.Nu(n,e)}var r,i;return df(!t.writeResults||0===t.writeResults.length),this.Su=!0,this.listener.Fu()},e.prototype.$u=function(){var t={};t.database=Sd(this.serializer),this.mu(t)},e.prototype.Cu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return kd(e.serializer,t)}))};this.mu(n)},e}(Ty),Ny=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.ou=n,i.serializer=r,i.xu=!1,i}return aa(e,t),e.prototype.ku=function(){if(this.xu)throw new sf(of.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mu=function(t,e,n){var r=this;return this.ku(),this.credentials.getToken().then((function(i){return r.ou.Mu(t,e,n,i)})).catch((function(t){throw t.code===of.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.Ou=function(t,e,n){var r=this;return this.ku(),this.credentials.getToken().then((function(i){return r.ou.Ou(t,e,n,i)})).catch((function(t){throw t.code===of.UNAUTHENTICATED&&r.credentials.Yc(),t}))},e.prototype.terminate=function(){this.xu=!1},e}((function(){})),ky=function(){function t(t,e){this.os=t,this.fi=e,this.state="Unknown",this.Lu=0,this.Bu=null,this.qu=!0}return t.prototype.Uu=function(){var t=this;0===this.Lu&&(this.Qu("Unknown"),this.Bu=this.os.gn("online_state_timeout",1e4,(function(){return t.Bu=null,t.Wu("Backend didn't respond within 10 seconds."),t.Qu("Offline"),Promise.resolve()})))},t.prototype.ju=function(t){"Online"===this.state?this.Qu("Unknown"):(this.Lu++,this.Lu>=1&&(this.Ku(),this.Wu("Connection failed 1 times. Most recent error: "+t.toString()),this.Qu("Offline")))},t.prototype.set=function(t){this.Ku(),this.Lu=0,"Online"===t&&(this.qu=!1),this.Qu(t)},t.prototype.Qu=function(t){t!==this.state&&(this.state=t,this.fi(t))},t.prototype.Wu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qu?(lf(e),this.qu=!1):cf("OnlineStateTracker",e)},t.prototype.Ku=function(){null!==this.Bu&&(this.Bu.cancel(),this.Bu=null)},t}(),Cy=function(t,e,n,r,i){var o=this;this.Gu=t,this.zu=e,this.os=n,this.Hu={},this.Yu=[],this.Ju=new Map,this.Xu=new Set,this.Zu=[],this.th=i,this.th.eh((function(t){n.ds((function(){return ca(o,void 0,void 0,(function(){return la(this,(function(t){switch(t.label){case 0:return Vy(this)?(cf("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return ca(this,void 0,void 0,(function(){var e;return la(this,(function(n){switch(n.label){case 0:return(e=vf(t)).Xu.add(4),[4,xy(e)];case 1:return n.sent(),e.nh.set("Unknown"),e.Xu.delete(4),[4,Dy(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.nh=new ky(n,r)};function Dy(t){return ca(this,void 0,void 0,(function(){var e,n;return la(this,(function(r){switch(r.label){case 0:if(!Vy(t))return[3,4];e=0,n=t.Zu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function xy(t){return ca(this,void 0,void 0,(function(){var e,n;return la(this,(function(r){switch(r.label){case 0:e=0,n=t.Zu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Oy(t){return ca(this,void 0,void 0,(function(){var e;return la(this,(function(n){switch(n.label){case 0:return e=vf(t),cf("RemoteStore","RemoteStore shutting down."),e.Xu.add(5),[4,xy(e)];case 1:return n.sent(),e.th.Si(),e.nh.set("Unknown"),[2]}}))}))}function Ly(t,e){var n=vf(t);n.Ju.has(e.targetId)||(n.Ju.set(e.targetId,e),Fy(n)?My(n):tb(n).lu()&&Py(n,e))}function Ry(t,e){var n=vf(t),r=tb(n);n.Ju.delete(e),r.lu()&&Uy(n,e),0===n.Ju.size&&(r.lu()?r.du():Vy(n)&&n.nh.set("Unknown"))}function Py(t,e){t.sh.Ee(e.targetId),tb(t).bu(e)}function Uy(t,e){t.sh.Ee(e),tb(t).vu(e)}function My(t){t.sh=new qp({Be:function(e){return t.Hu.Be(e)},qe:function(e){return t.Ju.get(e)||null}}),tb(t).start(),t.nh.Uu()}function Fy(t){return Vy(t)&&!tb(t).hu()&&t.Ju.size>0}function Vy(t){return 0===vf(t).Xu.size}function jy(t){t.sh=void 0}function By(t){return ca(this,void 0,void 0,(function(){return la(this,(function(e){return t.Ju.forEach((function(e,n){Py(t,e)})),[2]}))}))}function qy(t,e){return ca(this,void 0,void 0,(function(){return la(this,(function(n){return jy(t),Fy(t)?(t.nh.ju(e),My(t)):t.nh.set("Unknown"),[2]}))}))}function Gy(t,e,n){return ca(this,void 0,void 0,(function(){var r,i,o;return la(this,(function(s){switch(s.label){case 0:if(t.nh.set("Online"),!(e instanceof jp&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return ca(this,void 0,void 0,(function(){var n,r,i,o;return la(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Ju.has(o)?[4,t.Hu.ih(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Ju.delete(o),t.sh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),cf("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,zy(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Fp?t.sh.pe(e):e instanceof Vp?t.sh.$e(e):t.sh.Se(e),n.isEqual(rp.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,cy(t.Gu)];case 8:return i=s.sent(),n.L(i)>=0?[4,function(t,e){var n=t.sh.Me(e);return n.Gt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Ju.get(r);i&&t.Ju.set(r,i.st(n.resumeToken,e))}})),n.zt.forEach((function(e){var n=t.Ju.get(e);if(n){t.Ju.set(e,n.st(Kf.B,n.et)),Uy(t,e);var r=new dp(n.target,e,1,n.sequenceNumber);Py(t,r)}})),t.Hu.rh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return cf("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,zy(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function zy(t,e,n){return ca(this,void 0,void 0,(function(){var r=this;return la(this,(function(i){switch(i.label){case 0:if(!fg(e))throw e;return t.Xu.add(1),[4,xy(t)];case 1:return i.sent(),t.nh.set("Offline"),n||(n=function(){return cy(t.Gu)}),t.os.Ds((function(){return ca(r,void 0,void 0,(function(){return la(this,(function(e){switch(e.label){case 0:return cf("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Xu.delete(1),[4,Dy(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Hy(t,e){return e().catch((function(n){return zy(t,n,e)}))}function Wy(t){return ca(this,void 0,void 0,(function(){var e,n,r,i,o;return la(this,(function(s){switch(s.label){case 0:e=vf(t),n=eb(e),r=e.Yu.length>0?e.Yu[e.Yu.length-1].batchId:-1,s.label=1;case 1:if(!(Vy(a=e)&&a.Yu.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,hy(e.Gu,r)];case 3:return null===(i=s.sent())?(0===e.Yu.length&&n.du(),[3,7]):(r=i.batchId,function(t,e){t.Yu.push(e);var n=eb(t);n.lu()&&n.Du&&n.Cu(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,zy(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Qy(e)&&Ky(e),[2]}var a}))}))}function Qy(t){return Vy(t)&&!eb(t).hu()&&t.Yu.length>0}function Ky(t){eb(t).start()}function Yy(t){return ca(this,void 0,void 0,(function(){return la(this,(function(e){return eb(t).$u(),[2]}))}))}function Xy(t){return ca(this,void 0,void 0,(function(){var e,n,r,i;return la(this,(function(o){for(e=eb(t),n=0,r=t.Yu;n<r.length;n++)i=r[n],e.Cu(i.mutations);return[2]}))}))}function Jy(t,e,n){return ca(this,void 0,void 0,(function(){var r,i;return la(this,(function(o){switch(o.label){case 0:return r=t.Yu.shift(),i=zg.from(r,e,n),[4,Hy(t,(function(){return t.Hu.oh(i)}))];case 1:return o.sent(),[4,Wy(t)];case 2:return o.sent(),[2]}}))}))}function $y(t,e){return ca(this,void 0,void 0,(function(){return la(this,(function(n){switch(n.label){case 0:return e&&eb(t).Du?[4,function(t,e){return ca(this,void 0,void 0,(function(){var n,r;return la(this,(function(i){switch(i.label){case 0:return gp(r=e.code)&&r!==of.ABORTED?(n=t.Yu.shift(),eb(t).fu(),[4,Hy(t,(function(){return t.Hu.ah(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Wy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qy(t)&&Ky(t),[2]}}))}))}function Zy(t,e){return ca(this,void 0,void 0,(function(){var n;return la(this,(function(r){switch(r.label){case 0:return n=vf(t),e?(n.Xu.delete(2),[4,Dy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Xu.add(2),[4,xy(n)]);case 3:r.sent(),n.nh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function tb(t){var e=this;return t.uh||(t.uh=function(t,e,n){var r=vf(t);return r.ku(),new Sy(e,r.ou,r.credentials,r.serializer,n)}(t.zu,t.os,{yu:By.bind(null,t),Iu:qy.bind(null,t),pu:Gy.bind(null,t)}),t.Zu.push((function(n){return ca(e,void 0,void 0,(function(){return la(this,(function(e){switch(e.label){case 0:return n?(t.uh.fu(),Fy(t)?My(t):t.nh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.uh.stop()];case 2:e.sent(),jy(t),e.label=3;case 3:return[2]}}))}))}))),t.uh}function eb(t){var e=this;return t.hh||(t.hh=function(t,e,n){var r=vf(t);return r.ku(),new Ay(e,r.ou,r.credentials,r.serializer,n)}(t.zu,t.os,{yu:Yy.bind(null,t),Iu:$y.bind(null,t),Fu:Xy.bind(null,t),Nu:Jy.bind(null,t)}),t.Zu.push((function(n){return ca(e,void 0,void 0,(function(){return la(this,(function(e){switch(e.label){case 0:return n?(t.hh.fu(),[4,Wy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.hh.stop()];case 3:e.sent(),t.Yu.length>0&&(cf("RemoteStore","Stopping write stream with "+t.Yu.length+" pending writes"),t.Yu=[]),e.label=4;case 4:return[2]}}))}))}))),t.hh}var nb=function(t){this.key=t},rb=function(t){this.key=t},ib=function(){function t(t,e){this.query=t,this.lh=e,this._h=null,this.Zt=!1,this.fh=Dp(),this.Qt=Dp(),this.dh=Gv(t),this.wh=new Lp(this.dh)}return Object.defineProperty(t.prototype,"mh",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.Th=function(t,e){var n=this,r=e?e.Eh:new Rp,i=e?e.wh:this.wh,o=e?e.Qt:this.Qt,s=i,a=!1,u=Cv(this.query)&&i.size===this.query.limit?i.last():null,c=Dv(this.query)&&i.size===this.query.limit?i.first():null;if(t.ut((function(t,e){var l=i.get(t),h=e instanceof Iv?e:null;h&&(h=qv(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),p=!!h&&(h.Ye||n.Qt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Ih(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.dh(h,u)>0||c&&n.dh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Cv(this.query)||Dv(this.query))for(;s.size>this.query.limit;){var l=Cv(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{wh:s,Eh:r,Ah:a,Qt:o}},t.prototype.Ih=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},t.prototype.gr=function(t,e,n){var r=this,i=this.wh;this.wh=t.wh,this.Qt=t.Qt;var o=t.Eh.qt();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pf()}})(n)-o(i)||r.dh(t.doc,e.doc);var n,i,o})),this.Rh(n);var s=e?this.Ph():[],a=0===this.fh.size&&this.Zt?1:0,u=a!==this._h;return this._h=a,0!==o.length||u?{snapshot:new Pp(this.query,t.wh,i,o,t.Qt,0===a,u,!1),gh:s}:{gh:s}},t.prototype.Us=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.gr({wh:this.wh,Eh:new Rp,Qt:this.Qt,Ah:!1},!1)):{gh:[]}},t.prototype.yh=function(t){return!this.lh.has(t)&&!!this.wh.has(t)&&!this.wh.get(t).Ye},t.prototype.Rh=function(t){var e=this;t&&(t.te.forEach((function(t){return e.lh=e.lh.add(t)})),t.ee.forEach((function(t){})),t.ne.forEach((function(t){return e.lh=e.lh.delete(t)})),this.Zt=t.Zt)},t.prototype.Ph=function(){var t=this;if(!this.Zt)return[];var e=this.fh;this.fh=Dp(),this.wh.forEach((function(e){t.yh(e.key)&&(t.fh=t.fh.add(e.key))}));var n=[];return e.forEach((function(e){t.fh.has(e)||n.push(new rb(e))})),this.fh.forEach((function(t){e.has(t)||n.push(new nb(t))})),n},t.prototype.Vh=function(t){this.lh=t.kc,this.fh=Dp();var e=this.Th(t.documents);return this.gr(e,!0)},t.prototype.ph=function(){return Pp.Kt(this.query,this.wh,this.Qt,0===this._h)},t}(),ob=function(t,e,n){this.query=t,this.targetId=e,this.view=n},sb=function(t){this.key=t,this.bh=!1},ab=function(){function t(t,e,n,r,i,o){this.Gu=t,this.Sh=e,this.Dh=n,this.Ch=r,this.currentUser=i,this.Nh=o,this.Fh={},this.$h=new ep((function(t){return jv(t)}),Vv),this.xh=new Map,this.kh=[],this.Mh=new yp(If.i),this.Oh=new Map,this.Lh=new my,this.Bh={},this.qh=new Map,this.Uh=Km.Ta(),this.onlineState="Unknown",this.Qh=void 0}return Object.defineProperty(t.prototype,"Wh",{get:function(){return!0===this.Qh},enumerable:!1,configurable:!0}),t}();function ub(t,e){return ca(this,void 0,void 0,(function(){var n,r,i,o,s,a;return la(this,(function(u){switch(u.label){case 0:return n=Rb(t),(o=n.$h.get(e))?(r=o.targetId,n.Ch.Mi(r),i=o.view.ph(),[3,4]):[3,1];case 1:return[4,fy(n.Gu,Pv(e))];case 2:return s=u.sent(),a=n.Ch.Mi(s.targetId),r=s.targetId,[4,cb(n,e,r,"current"===a)];case 3:i=u.sent(),n.Wh&&Ly(n.Sh,s),u.label=4;case 4:return[2,i]}}))}))}function cb(t,e,n,r){return ca(this,void 0,void 0,(function(){var i,o,s,a,u,c;return la(this,(function(l){switch(l.label){case 0:return t.jh=function(e,n,r){return function(t,e,n,r){return ca(this,void 0,void 0,(function(){var i,o,s;return la(this,(function(a){switch(a.label){case 0:return(i=e.view.Th(n)).Ah?[4,dy(t.Gu,e.query,!1).then((function(t){var n=t.documents;return e.view.Th(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Gt.get(e.targetId),s=e.view.gr(i,t.Wh,o),[2,(wb(t,e.targetId,s.gh),s.snapshot)]}}))}))}(t,e,n,r)},[4,dy(t.Gu,e,!0)];case 1:return i=l.sent(),o=new ib(e,i.kc),s=o.Th(i.documents),a=Mp.Xt(n,r&&"Offline"!==t.onlineState),u=o.gr(s,t.Wh,a),wb(t,n,u.gh),c=new ob(e,n,o),[2,(t.$h.set(e,c),t.xh.has(n)?t.xh.get(n).push(e):t.xh.set(n,[e]),u.snapshot)]}}))}))}function lb(t,e){return ca(this,void 0,void 0,(function(){var n,r,i;return la(this,(function(o){switch(o.label){case 0:return n=vf(t),r=n.$h.get(e),(i=n.xh.get(r.targetId)).length>1?[2,(n.xh.set(r.targetId,i.filter((function(t){return!Vv(t,e)}))),void n.$h.delete(e))]:n.Wh?(n.Ch.Li(r.targetId),n.Ch.Ni(r.targetId)?[3,2]:[4,py(n.Gu,r.targetId,!1).then((function(){n.Ch.qi(r.targetId),Ry(n.Sh,r.targetId),yb(n,r.targetId)})).catch(gy)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return yb(n,r.targetId),[4,py(n.Gu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function hb(t,e){return ca(this,void 0,void 0,(function(){var n,r;return la(this,(function(i){switch(i.label){case 0:n=vf(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ly(n.Gu,e)];case 2:return r=i.sent(),e.Gt.forEach((function(t,e){var r=n.Oh.get(e);r&&(df(t.te.size+t.ee.size+t.ne.size<=1),t.te.size>0?r.bh=!0:t.ee.size>0?df(r.bh):t.ne.size>0&&(df(r.bh),r.bh=!1))})),[4,Ib(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,gy(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function fb(t,e,n){var r=vf(t);if(r.Wh&&0===n||!r.Wh&&1===n){var i=[];r.$h.forEach((function(t,n){var r=n.view.Us(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=vf(t);n.onlineState=e;var r=!1;n.Ls.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Us(e)&&(r=!0)})),r&&Cg(n)}(r.Dh,e),i.length&&r.Fh.pu(i),r.onlineState=e,r.Wh&&r.Ch.ji(e)}}function pb(t,e,n){return ca(this,void 0,void 0,(function(){var r,i,o,s,a,u;return la(this,(function(c){switch(c.label){case 0:return(r=vf(t)).Ch.Ui(e,"rejected",n),i=r.Oh.get(e),(o=i&&i.key)?(s=(s=new yp(If.i)).rt(o,new Tv(o,rp.min())),a=Dp().add(o),u=new Up(rp.min(),new Map,new _p(Hf),s,a),[4,hb(r,u)]):[3,2];case 1:return c.sent(),r.Mh=r.Mh.remove(o),r.Oh.delete(e),Eb(r),[3,4];case 2:return[4,py(r.Gu,e,!1).then((function(){return yb(r,e,n)})).catch(gy)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function db(t,e){return ca(this,void 0,void 0,(function(){var n,r,i;return la(this,(function(o){switch(o.label){case 0:n=vf(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,uy(n.Gu,e)];case 2:return i=o.sent(),mb(n,r,null),gb(n,r),n.Ch.xi(r,"acknowledged"),[4,Ib(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,gy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function vb(t,e,n){return ca(this,void 0,void 0,(function(){var r,i;return la(this,(function(o){switch(o.label){case 0:r=vf(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.Gu,a=e,u=vf(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.vr.Mo(t,a).next((function(n){return df(null!==n),e=n.keys(),u.vr.Qo(t,n)})).next((function(){return u.vr.Go(t)})).next((function(){return u.$c.$r(t,e)}))})))];case 2:return i=o.sent(),mb(r,e,n),gb(r,e),r.Ch.xi(e,"rejected",n),[4,Ib(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,gy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function gb(t,e){(t.qh.get(e)||[]).forEach((function(t){t.resolve()})),t.qh.delete(e)}function mb(t,e,n){var r=vf(t),i=r.Bh[r.currentUser.Zs()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Bh[r.currentUser.Zs()]=i}}function yb(t,e,n){void 0===n&&(n=null),t.Ch.Li(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var o=i[r];t.$h.delete(o),n&&t.Fh.Kh(o,n)}t.xh.delete(e),t.Wh&&t.Lh.Wc(e).forEach((function(e){t.Lh.zo(e)||bb(t,e)}))}function bb(t,e){var n=t.Mh.get(e);null!==n&&(Ry(t.Sh,n),t.Mh=t.Mh.remove(e),t.Oh.delete(n),Eb(t))}function wb(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof nb?(t.Lh.Fa(o.key,e),_b(t,o)):o instanceof rb?(cf("SyncEngine","Document no longer in limbo: "+o.key),t.Lh.xa(o.key,e),t.Lh.zo(o.key)||bb(t,o.key)):pf()}}function _b(t,e){var n=e.key;t.Mh.get(n)||(cf("SyncEngine","New document in limbo: "+n),t.kh.push(n),Eb(t))}function Eb(t){for(;t.kh.length>0&&t.Mh.size<t.Nh;){var e=t.kh.shift(),n=t.Uh.next();t.Oh.set(n,new sb(e)),t.Mh=t.Mh.rt(e,n),Ly(t.Sh,new dp(Pv(kv(e.path)),n,2,Og.oi))}}function Ib(t,e,n){return ca(this,void 0,void 0,(function(){var r,i,o,s;return la(this,(function(a){switch(a.label){case 0:return r=vf(t),i=[],o=[],s=[],r.$h.m()?[3,3]:(r.$h.forEach((function(t,a){s.push(r.jh(a,e,n).then((function(t){if(t){r.Wh&&r.Ch.Ui(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Yg.Gr(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.Fh.pu(i),[4,function(t,e){return ca(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return la(this,(function(h){switch(h.label){case 0:n=vf(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ug.forEach(e,(function(e){return ug.forEach(e.jr,(function(r){return n.persistence.Co.Fa(t,e.targetId,r)})).next((function(){return ug.forEach(e.Kr,(function(r){return n.persistence.Co.xa(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!fg(r=h.sent()))throw r;return cf("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.Dc.get(a),c=u.et,l=u.it(c),n.Dc=n.Dc.rt(a,l));return[2]}}))}))}(r.Gu,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Tb(t,e){return ca(this,void 0,void 0,(function(){var n,r;return la(this,(function(i){switch(i.label){case 0:return(n=vf(t)).currentUser.isEqual(e)?[3,3]:(cf("SyncEngine","User change. New user:",e.Zs()),[4,function(t,e){return ca(this,void 0,void 0,(function(){var n,r,i,o;return la(this,(function(s){switch(s.label){case 0:return n=vf(t),r=n.vr,i=n.$c,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.vr.qo(t).next((function(s){return o=s,r=n.persistence.Ic(e),i=new Kg(n.Fc,r,n.persistence.Pc()),r.qo(t)})).next((function(e){for(var n=[],r=[],s=Dp(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];s=s.add(y.key)}}return i.$r(t,s).next((function(t){return{Gh:t,zh:n,Hh:r}}))}))}))];case 1:return o=s.sent(),[2,(n.vr=r,n.$c=i,n.Sc.xc(n.$c),o)]}}))}))}(n.Gu,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).qh.forEach((function(t){t.forEach((function(t){t.reject(new sf(of.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.qh.clear(),n.Ch.Wi(e,r.zh,r.Hh),[4,Ib(n,r.Gh)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function Sb(t,e){var n=vf(t),r=n.Oh.get(e);if(r&&r.bh)return Dp().add(r.key);var i=Dp(),o=n.xh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.$h.get(u);i=i.xt(c.view.mh)}return i}function Ab(t,e){return ca(this,void 0,void 0,(function(){var n,r,i;return la(this,(function(o){switch(o.label){case 0:return[4,dy((n=vf(t)).Gu,e.query,!0)];case 1:return r=o.sent(),i=e.view.Vh(r),[2,(n.Wh&&wb(n,e.targetId,i.gh),i)]}}))}))}function Nb(t,e,n,r){return ca(this,void 0,void 0,(function(){var i,o;return la(this,(function(s){switch(s.label){case 0:return[4,(a=(i=vf(t)).Gu,u=e,c=vf(a),l=vf(c.vr),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.Oo(t,u).next((function(e){return e?c.$c.$r(t,e):ug.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Wy(i.Sh)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mb(i,e,r||null),gb(i,e),function(t,e){vf(vf(t).vr).jo(e)}(i.Gu,e)):pf(),s.label=4;case 4:return[4,Ib(i,o)];case 5:return s.sent(),[3,7];case 6:cf("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function kb(t,e){return ca(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return la(this,(function(l){switch(l.label){case 0:return Rb(n=vf(t)),Pb(n),!0!==e||!0===n.Qh?[3,3]:(r=n.Ch.Di(),[4,Cb(n,r.A())]);case 1:return i=l.sent(),n.Qh=!0,[4,Zy(n.Sh,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],Ly(n.Sh,a);return[3,7];case 3:return!1!==e||!1===n.Qh?[3,7]:(u=[],c=Promise.resolve(),n.xh.forEach((function(t,e){n.Ch.Bi(e)?u.push(e):c=c.then((function(){return yb(n,e),py(n.Gu,e,!0)})),Ry(n.Sh,e)})),[4,c]);case 4:return l.sent(),[4,Cb(n,u)];case 5:return l.sent(),(h=vf(n)).Oh.forEach((function(t,e){Ry(h.Sh,e)})),h.Lh.jc(),h.Oh=new Map,h.Mh=new yp(If.i),n.Qh=!1,[4,Zy(n.Sh,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function Cb(t,e,n){return ca(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,p,d,v;return la(this,(function(g){switch(g.label){case 0:n=vf(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.xh.get(a))&&0!==c.length?[4,fy(n.Gu,Pv(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],p=n.$h.get(f),[4,Ab(n,p)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,vy(n.Gu,a)];case 8:return v=g.sent(),[4,fy(n.Gu,v)];case 9:return u=g.sent(),[4,cb(n,Db(v),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Fh.pu(i),r)]}}))}))}function Db(t){return Nv(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xb(t){var e=vf(t);return vf(vf(e.Gu).persistence).Vi()}function Ob(t,e,n,r){return ca(this,void 0,void 0,(function(){var i,o,s;return la(this,(function(a){switch(a.label){case 0:return(i=vf(t)).Qh?(cf("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.xh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,(u=i.Gu,c=vf(u),l=vf(c.Fc),c.persistence.runTransaction("Get new document changes","readonly",(function(t){return l.ia(t,c.Nc)})).then((function(t){var e=t.ra,n=t.readTime;return c.Nc=n,e})))];case 3:return o=a.sent(),s=Up.Jt(e,"current"===n),[4,Ib(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,py(i.Gu,e,!0)];case 6:return a.sent(),yb(i,e,r),[3,8];case 7:pf(),a.label=8;case 8:return[2]}var u,c,l}))}))}function Lb(t,e,n){return ca(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return la(this,(function(p){switch(p.label){case 0:if(!(r=Rb(t)).Qh)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.xh.has(s)?(cf("SyncEngine","Adding an already active target "+s),[3,5]):[4,vy(r.Gu,s)]):[3,6];case 2:return a=p.sent(),[4,fy(r.Gu,a)];case 3:return u=p.sent(),[4,cb(r,Db(a),u.targetId,!1)];case 4:p.sent(),Ly(r.Sh,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return la(this,(function(e){switch(e.label){case 0:return r.xh.has(t)?[4,py(r.Gu,t,!1).then((function(){Ry(r.Sh,t),yb(r,t)})).catch(gy)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Rb(t){var e=vf(t);return e.Sh.Hu.rh=hb.bind(null,e),e.Sh.Hu.Be=Sb.bind(null,e),e.Sh.Hu.ih=pb.bind(null,e),e.Fh.pu=Ng.bind(null,e.Dh),e.Fh.Kh=kg.bind(null,e.Dh),e}function Pb(t){var e=vf(t);return e.Sh.Hu.oh=db.bind(null,e),e.Sh.Hu.ah=vb.bind(null,e),e
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ub=function(){function t(){}return t.prototype.xc=function(t){this.Yh=t},t.prototype.Or=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.rn.length||1===i.rn.length&&i.rn[0].field.p())||n.isEqual(rp.min())?this.Jh(t,e):this.Yh.$r(t,r).next((function(i){var s=o.Xh(e,i);return(Cv(e)||Dv(e))&&o.Ah(e.on,s,r,n)?o.Jh(t,e):(uf()<=Oa.DEBUG&&cf("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bv(e)),o.Yh.Or(t,e,n).next((function(t){return s.forEach((function(e){t=t.rt(e.key,e)})),t})))}))},t.prototype.Xh=function(t,e){var n=new _p(Gv(t));return e.forEach((function(e,r){r instanceof Iv&&qv(t,r)&&(n=n.add(r))})),n},t.prototype.Ah=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Jh=function(t,e){return uf()<=Oa.DEBUG&&cf("IndexFreeQueryEngine","Using full collection scan to execute query:",Bv(e)),this.Yh.Or(t,e,rp.min())},t}(),Mb=function(){function t(t,e){this.Sr=t,this.Co=e,this.vr=[],this.Zh=1,this.tl=new _p(yy.Oc)}return t.prototype.$o=function(t){return ug.resolve(0===this.vr.length)},t.prototype.xo=function(t,e,n,r){var i=this.Zh;this.Zh++,this.vr.length>0&&this.vr[this.vr.length-1];var o=new Gg(i,e,n,r);this.vr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.tl=this.tl.add(new yy(u.key,i)),this.Sr.ko(t,u.key.path.h())}return ug.resolve(o)},t.prototype.Mo=function(t,e){return ug.resolve(this.el(e))},t.prototype.Lo=function(t,e){var n=e+1,r=this.nl(n),i=r<0?0:r;return ug.resolve(this.vr.length>i?this.vr[i]:null)},t.prototype.Bo=function(){return ug.resolve(0===this.vr.length?-1:this.Zh-1)},t.prototype.qo=function(t){return ug.resolve(this.vr.slice())},t.prototype.Cr=function(t,e){var n=this,r=new yy(e,0),i=new yy(e,Number.POSITIVE_INFINITY),o=[];return this.tl.Nt([r,i],(function(t){var e=n.el(t.Gc);o.push(e)})),ug.resolve(o)},t.prototype.Mr=function(t,e){var n=this,r=new _p(Hf);return e.forEach((function(t){var e=new yy(t,0),i=new yy(t,Number.POSITIVE_INFINITY);n.tl.Nt([e,i],(function(t){r=r.add(t.Gc)}))})),ug.resolve(this.sl(r))},t.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,i=n;If.F(i)||(i=i.child(""));var o=new yy(new If(i),0),s=new _p(Hf);return this.tl.Ft((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(s=s.add(t.Gc)),!0)}),o),ug.resolve(this.sl(s))},t.prototype.sl=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.el(t);null!==r&&n.push(r)})),n},t.prototype.Qo=function(t,e){var n=this;df(0===this.il(e.batchId,"removed")),this.vr.shift();var r=this.tl;return ug.forEach(e.mutations,(function(i){var o=new yy(i.key,e.batchId);return r=r.delete(o),n.Co.Ko(t,i.key)})).next((function(){n.tl=r}))},t.prototype.jo=function(t){},t.prototype.zo=function(t,e){var n=new yy(e,0),r=this.tl.$t(n);return ug.resolve(e.isEqual(r&&r.key))},t.prototype.Go=function(t){return this.vr.length,ug.resolve()},t.prototype.il=function(t,e){return this.nl(t)},t.prototype.nl=function(t){return 0===this.vr.length?0:t-this.vr[0].batchId},t.prototype.el=function(t){var e=this.nl(t);return e<0||e>=this.vr.length?null:this.vr[e]},t}(),Fb=function(){function t(t,e){this.Sr=t,this.rl=e,this.docs=new yp(If.i),this.size=0}return t.prototype.Tr=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.rl(e);return this.docs=this.docs.rt(r,{Zo:e,size:s,readTime:n}),this.size+=s-o,this.Sr.ko(t,r.path.h())},t.prototype.Ir=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ar=function(t,e){var n=this.docs.get(e);return ug.resolve(n?n.Zo:null)},t.prototype.getEntries=function(t,e){var n=this,r=Sp();return e.forEach((function(t){var e=n.docs.get(t);r=r.rt(t,e?e.Zo:null)})),ug.resolve(r)},t.prototype.Or=function(t,e,n){for(var r=Np(),i=new If(e.path.child("")),o=this.docs._t(i);o.It();){var s=o.Et(),a=s.key,u=s.value,c=u.Zo,l=u.readTime;if(!e.path.T(a.path))break;l.L(n)<=0||c instanceof Iv&&qv(e,c)&&(r=r.rt(c.key,c))}return ug.resolve(r)},t.prototype.ol=function(t,e){return ug.forEach(this.docs,(function(t){return e(t)}))},t.prototype.aa=function(e){return new t.ca(this)},t.prototype.ha=function(t){return ug.resolve(this.size)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fb.ca=function(t){function e(e){var n=this;return(n=t.call(this)||this).la=e,n}return aa(e,t),e.prototype.gr=function(t){var e=this,n=[];return this.dr.forEach((function(r,i){i?n.push(e.la.Tr(t,i,e.readTime)):e.la.Ir(r)})),ug.$n(n)},e.prototype.Rr=function(t,e){return this.la.Ar(t,e)},e.prototype.Pr=function(t,e){return this.la.getEntries(t,e)},e}(Hg);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vb=function(){function t(t){this.persistence=t,this.al=new ep((function(t){return cp(t)}),lp),this.lastRemoteSnapshotVersion=rp.min(),this.highestTargetId=0,this.cl=0,this.ul=new my,this.targetCount=0,this.hl=Km.ma()}return t.prototype.De=function(t,e){return this.al.forEach((function(t,n){return e(n)})),ug.resolve()},t.prototype.Ra=function(t){return ug.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Pa=function(t){return ug.resolve(this.cl)},t.prototype.Ea=function(t){return this.highestTargetId=this.hl.next(),ug.resolve(this.highestTargetId)},t.prototype.ga=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.cl&&(this.cl=e),ug.resolve()},t.prototype.Va=function(t){this.al.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hl=new Km(e),this.highestTargetId=e),t.sequenceNumber>this.cl&&(this.cl=t.sequenceNumber)},t.prototype.ya=function(t,e){return this.Va(e),this.targetCount+=1,ug.resolve()},t.prototype.ba=function(t,e){return this.Va(e),ug.resolve()},t.prototype.va=function(t,e){return this.al.delete(e.target),this.ul.Wc(e.targetId),this.targetCount-=1,ug.resolve()},t.prototype.Vo=function(t,e,n){var r=this,i=0,o=[];return this.al.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.al.delete(s),o.push(r.Sa(t,a.targetId)),i++)})),ug.$n(o).next((function(){return i}))},t.prototype.Da=function(t){return ug.resolve(this.targetCount)},t.prototype.Ca=function(t,e){var n=this.al.get(e)||null;return ug.resolve(n)},t.prototype.Na=function(t,e,n){return this.ul.qc(e,n),ug.resolve()},t.prototype.$a=function(t,e,n){this.ul.Qc(e,n);var r=this.persistence.Co,i=[];return r&&e.forEach((function(e){i.push(r.Ko(t,e))})),ug.$n(i)},t.prototype.Sa=function(t,e){return this.ul.Wc(e),ug.resolve()},t.prototype.ka=function(t,e){var n=this.ul.Kc(e);return ug.resolve(n)},t.prototype.zo=function(t,e){return ug.resolve(this.ul.zo(e))},t}(),jb=function(){function t(t){var e=this;this.ll={},this.Ba=new Og(0),this.qa=!1,this.qa=!0,this.Co=t(this),this.Ha=new Vb(this),this.Sr=new Nm,this.br=new Fb(this.Sr,(function(t){return e.Co._l(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Si=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),t.prototype.nc=function(){},t.prototype.sc=function(){},t.prototype.Pc=function(){return this.Sr},t.prototype.Ic=function(t){var e=this.ll[t.Zs()];return e||(e=new Mb(this.Sr,this.Co),this.ll[t.Zs()]=e),e},t.prototype.Ac=function(){return this.Ha},t.prototype.Rc=function(){return this.br},t.prototype.runTransaction=function(t,e,n){var r=this;cf("MemoryPersistence","Starting transaction:",t);var i=new Bb(this.Ba.next());return this.Co.fl(),n(i).next((function(t){return r.Co.dl(i).next((function(){return t}))})).Nn().then((function(t){return i.pr(),t}))},t.prototype.wl=function(t,e){return ug.xn(Object.values(this.ll).map((function(n){return function(){return n.zo(t,e)}})))},t}(),Bb=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ma=e,n}return aa(e,t),e}(Qg),qb=function(){function t(t){this.persistence=t,this.ml=new my,this.Tl=null}return t.El=function(e){return new t(e)},Object.defineProperty(t.prototype,"Il",{get:function(){if(this.Tl)return this.Tl;throw pf()},enumerable:!1,configurable:!0}),t.prototype.Fa=function(t,e,n){return this.ml.Fa(n,e),this.Il.delete(n.toString()),ug.resolve()},t.prototype.xa=function(t,e,n){return this.ml.xa(n,e),this.Il.add(n.toString()),ug.resolve()},t.prototype.Ko=function(t,e){return this.Il.add(e.toString()),ug.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.ml.Wc(e.targetId).forEach((function(t){return n.Il.add(t.toString())}));var r=this.persistence.Ac();return r.ka(t,e.targetId).next((function(t){t.forEach((function(t){return n.Il.add(t.toString())}))})).next((function(){return r.va(t,e)}))},t.prototype.fl=function(){this.Tl=new Set},t.prototype.dl=function(t){var e=this,n=this.persistence.Rc().aa();return ug.forEach(this.Il,(function(r){var i=If.D(r);return e.Al(t,i).next((function(t){t||n.Ir(i)}))})).next((function(){return e.Tl=null,n.apply(t)}))},t.prototype.vc=function(t,e){var n=this;return this.Al(t,e).next((function(t){t?n.Il.delete(e.toString()):n.Il.add(e.toString())}))},t.prototype._l=function(t){return 0},t.prototype.Al=function(t,e){var n=this;return ug.xn([function(){return ug.resolve(n.ml.zo(e))},function(){return n.persistence.Ac().zo(t,e)},function(){return n.persistence.wl(t,e)}])},t}(),Gb=function(){function t(t){this.Rl=t.Rl,this.Pl=t.Pl}return t.prototype.yu=function(t){this.gl=t},t.prototype.Iu=function(t){this.yl=t},t.prototype.onMessage=function(t){this.Vl=t},t.prototype.close=function(){this.Pl()},t.prototype.send=function(t){this.Rl(t)},t.prototype.pl=function(){this.gl()},t.prototype.bl=function(t){this.yl(t)},t.prototype.vl=function(t){this.Vl(t)},t}(),zb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Hb=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return aa(e,t),e.prototype.$l=function(t,e,n,r){return new Promise((function(i,o){var s=new rf;s.listenOnce(ef.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case tf.NO_ERROR:var e=s.getResponseJson();cf("Connection","XHR received:",JSON.stringify(e)),i(e);break;case tf.TIMEOUT:cf("Connection",'RPC "'+t+'" timed out'),o(new sf(of.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:var n=s.getStatus();if(cf("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace("_","-"),Object.values(of).indexOf(c)>=0?c:of.UNKNOWN);o(new sf(a,r.message))}else o(new sf(of.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new sf(of.UNAVAILABLE,"Connection failed."));break;default:pf()}}finally{cf("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Vu=function(t,e){var n,r,i=[this.Dl,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Zh(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Fl(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ma())||"object"==typeof navigator&&"ReactNative"===navigator.product||ma().indexOf("Electron/")>=0||((r=ma()).indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0)||ma().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=i.join("");cf("Connection","Creating WebChannel: "+a,s);var u=o.createWebChannel(a,s),c=!1,l=!1,h=new Gb({Rl:function(t){l?cf("Connection","Not sending because WebChannel is closed:",t):(c||(cf("Connection","Opening WebChannel transport."),u.open(),c=!0),cf("Connection","WebChannel sending:",t),u.send(t))},Pl:function(){return u.close()}}),f=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(nf.EventType.OPEN,(function(){l||cf("Connection","WebChannel transport opened.")})),f(nf.EventType.CLOSE,(function(){l||(l=!0,cf("Connection","WebChannel transport closed"),h.bl())})),f(nf.EventType.ERROR,(function(t){l||(l=!0,hf("Connection","WebChannel transport errored:",t),h.bl(new sf(of.UNAVAILABLE,"The operation could not be completed")))})),f(nf.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];df(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){cf("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=fp[t];if(void 0!==e)return mp(e)}(o),a=i.message;void 0===s&&(s=of.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.bl(new sf(s,a)),u.close()}else cf("Connection","WebChannel received:",n),h.vl(n)}})),setTimeout((function(){h.pl()}),0),h},e}(function(){function t(t){this.Sl=t,this.U=t.U;var e=t.ssl?"https":"http";this.Dl=e+"://"+t.host,this.Cl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.Mu=function(t,e,n,r){var i=this.Nl(t,e);cf("RestConnection","Sending: ",i,n);var o={};return this.Fl(o,r),this.$l(t,i,o,n).then((function(t){return cf("RestConnection","Received: ",t),t}),(function(e){throw hf("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ou=function(t,e,n,r){return this.Mu(t,e,n,r)},t.prototype.Fl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.22.0",t["Content-Type"]="text/plain",e)for(var n in e.zc)e.zc.hasOwnProperty(n)&&(t[n]=e.zc[n])},t.prototype.Nl=function(t,e){var n=zb[t];return this.Dl+"/v1/"+e+":"+n},t}()),Wb=function(){function t(){var t=this;this.xl=function(){return t.kl()},this.Ml=function(){return t.Ol()},this.Ll=[],this.Bl()}return t.prototype.eh=function(t){this.Ll.push(t)},t.prototype.Si=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.Ml)},t.prototype.Bl=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.Ml)},t.prototype.kl=function(){cf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(0)},t.prototype.Ol=function(){cf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(1)},t.On=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Qb=function(){function t(){}return t.prototype.eh=function(t){},t.prototype.Si=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){return new hd(t,!0)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yb="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Xb=function(){function t(){}return t.prototype.initialize=function(t){return ca(this,void 0,void 0,(function(){return la(this,(function(e){switch(e.label){case 0:return this.Ch=this.ql(t),this.persistence=this.Ul(t),[4,this.persistence.start()];case 1:return e.sent(),this.Ql=this.Wl(t),this.Gu=this.jl(t),[2]}}))}))},t.prototype.Wl=function(t){return null},t.prototype.jl=function(t){return e=this.persistence,n=new Ub,r=t.Kl,new ay(e,n,r);var e,n,r},t.prototype.Ul=function(t){if(t.persistenceSettings.Gl)throw new sf(of.FAILED_PRECONDITION,Yb);return new jb(qb.El)},t.prototype.ql=function(t){return new qg},t.prototype.terminate=function(){return ca(this,void 0,void 0,(function(){return la(this,(function(t){switch(t.label){case 0:return this.Ql&&this.Ql.stop(),[4,this.Ch.Si()];case 1:return t.sent(),[4,this.persistence.Si()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new sf(of.FAILED_PRECONDITION,Yb)},t}(),Jb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.prototype.initialize=function(e){return ca(this,void 0,void 0,(function(){var n,r=this;return la(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.zl._i,this.Ch instanceof Bg?(this.Ch._i={tr:Nb.bind(null,n),er:Ob.bind(null,n),nr:Lb.bind(null,n),Vi:xb.bind(null,n)},[4,this.Ch.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ec((function(t){return ca(r,void 0,void 0,(function(){return la(this,(function(e){switch(e.label){case 0:return[4,kb(this.zl._i,t)];case 1:return e.sent(),this.Ql&&(t&&!this.Ql.Ti?this.Ql.start(this.Gu):t||this.Ql.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.ql=function(t){if(t.persistenceSettings.Gl&&t.persistenceSettings.synchronizeTabs){var e=yg();if(!Bg.On(e))throw new sf(of.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sy(t.Sl.U,t.Sl.persistenceKey);return new Bg(e,t.os,n,t.clientId,t.Kl)}return new qg},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).zl=e,n}return aa(e,t),e.prototype.initialize=function(e){return ca(this,void 0,void 0,(function(){return la(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return ca(this,void 0,void 0,(function(){var e,n;return la(this,(function(r){return e=vf(t),n=vf(e.Fc),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.oa(t)})).then((function(t){e.Nc=t}))]}))}))}(this.Gu)];case 2:return n.sent(),[4,this.zl.initialize(this,e)];case 3:return n.sent(),[4,Pb(this.zl._i)];case 4:return n.sent(),[4,Wy(this.zl.Sh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=this.persistence.Co.do;return new tm(e,t.os)},e.prototype.Ul=function(t){var e=sy(t.Sl.U,t.Sl.persistenceKey),n=Kb(t.Sl.U);return new ey(t.persistenceSettings.synchronizeTabs,e,t.clientId,Zg.oo(t.persistenceSettings.cacheSizeBytes),t.os,yg(),bg(),n,this.Ch,t.persistenceSettings.La)},e.prototype.ql=function(t){return new qg},e.prototype.clearPersistence=function(t,e){return function(t){return ca(this,void 0,void 0,(function(){var e;return la(this,(function(n){switch(n.label){case 0:return cg.On()?(e=t+"main",[4,cg.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(sy(t,e))},e}(Xb)),$b=function(){function t(){}return t.prototype.initialize=function(t,e){return ca(this,void 0,void 0,(function(){var n=this;return la(this,(function(r){switch(r.label){case 0:return this.Gu?[3,2]:(this.Gu=t.Gu,this.Ch=t.Ch,this.zu=this.Hl(e),this.Sh=this.Yl(e),this.Dh=this.Jl(e),this._i=this.Xl(e),this.Ch.fi=function(t){return fb(n._i,t,1)},this.Sh.Hu.Zl=Tb.bind(null,this._i),[4,Zy(this.Sh,this._i.Wh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Jl=function(t){return new Tg},t.prototype.Hl=function(t){var e,n,r=Kb(t.Sl.U),i=(e=t.Sl,new Hb(e));return n=t.credentials,new Ny(n,i,r)},t.prototype.Yl=function(t){var e,n,r,i,o,s=this;return e=this.Gu,n=this.zu,r=t.os,i=function(t){return fb(s._i,t,0)},o=Wb.On()?new Wb:new Qb,new Cy(e,n,r,i,o)},t.prototype.Xl=function(t){return function(t,e,n,r,i,o,s){var a=new ab(t,e,n,r,i,o);return s&&(a.Qh=!0),a}(this.Gu,this.Sh,this.Dh,this.Ch,t.Kl,t.Nh,!t.persistenceSettings.Gl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return Oy(this.Sh)},t}(),Zb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.t_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.t_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.e_=function(){this.muted=!0},t.prototype.t_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),tw=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new sf(of.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+qf(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(kf("FieldPath","string",e,t[e]),0===t[e].length)throw new sf(of.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.n_=new Ef(t)},ew=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return aa(e,t),e.documentId=function(){return new e(Ef.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Vf("isEqual","FieldPath",1,t);return this.n_.isEqual(t.n_)},e}(tw),nw=new RegExp("[~\\*/\\[\\]]"),rw=function(t){this.s_=t},iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.prototype.i_=function(t){if(2!==t.r_)throw 1===t.r_?t.o_(this.s_+"() can only appear at the top level of your update data"):t.o_(this.s_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(rw);function ow(t,e,n){return new mw({r_:3,a_:e.settings.a_,methodName:t.s_,c_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.prototype.i_=function(t){return new ev(t.path,new Wd)},e.prototype.isEqual=function(t){return t instanceof e},e}(rw),aw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).u_=n,r}return aa(e,t),e.prototype.i_=function(t){var e=ow(this,t,!0),n=this.u_.map((function(t){return Iw(t,e)})),r=new Qd(n);return new ev(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rw),uw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).u_=n,r}return aa(e,t),e.prototype.i_=function(t){var e=ow(this,t,!0),n=this.u_.map((function(t){return Iw(t,e)})),r=new Yd(n);return new ev(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(rw),cw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).h_=n,r}return aa(e,t),e.prototype.i_=function(t){var e=new Jd(t.serializer,dd(t.serializer,this.h_));return new ev(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(rw),lw=function(){function t(t,e){if(Sf("GeoPoint",arguments,2),kf("GeoPoint","number",1,t),kf("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new sf(of.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new sf(of.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.l_=t,this.__=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.l_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.__},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.l_===t.l_&&this.__===t.__},t.prototype.toJSON=function(){return{latitude:this.l_,longitude:this.__}},t.prototype.H=function(t){return Hf(this.l_,t.l_)||Hf(this.__,t.__)},t}(),hw=function(t){this.f_=t},fw=/^__.*__$/,pw=function(t,e,n){this.d_=t,this.w_=e,this.m_=n},dw=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.T_=function(t,e){var n=[];return null!==this.Qe?n.push(new fv(t,this.data,this.Qe,e)):n.push(new hv(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new dv(t,this.fieldTransforms)),n},t}(),vw=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.T_=function(t,e){var n=[new fv(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new dv(t,this.fieldTransforms)),n},t}();function gw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pf()}}var mw=function(){function t(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.E_(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"r_",{get:function(){return this.settings.r_},enumerable:!1,configurable:!0}),t.prototype.I_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.I_({path:n,c_:!1});return r.R_(t),r},t.prototype.P_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.I_({path:n,c_:!1});return r.E_(),r},t.prototype.g_=function(t){return this.I_({path:void 0,c_:!0})},t.prototype.o_=function(t){return Cw(t,this.settings.methodName,this.settings.y_||!1,this.path,this.settings.a_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.E_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.R_(this.path.get(t))},t.prototype.R_=function(t){if(0===t.length)throw this.o_("Document fields must not be empty");if(gw(this.r_)&&fw.test(t))throw this.o_('Document fields cannot begin and end with "__"')},t}(),yw=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||Kb(t)}return t.prototype.V_=function(t,e,n,r){return void 0===r&&(r=!1),new mw({r_:t,methodName:e,a_:n,path:Ef.g(),c_:!1,y_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function bw(t,e,n,r,i,o){void 0===o&&(o={});var s=t.V_(o.merge||o.mergeFields?2:0,e,n,i);Aw("Data must be an object, but it was:",s,r);var a,u,c=Tw(r,s);if(o.merge)a=new tv(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=f[h],d=void 0;if(p instanceof tw)d=p.n_;else{if("string"!=typeof p)throw pf();d=kw(e,p,n)}if(!s.contains(d))throw new sf(of.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Dw(l,d)||l.push(d)}a=new tv(l),u=s.fieldTransforms.filter((function(t){return a.He(t.field)}))}else a=null,u=s.fieldTransforms;return new dw(new bv(c),a,u)}function ww(t,e,n,r){var i=t.V_(1,e,n);Aw("Data must be an object, but it was:",i,r);var o=[],s=new wv;mf(r,(function(t,r){var a=kw(e,t,n),u=i.P_(a);if(r instanceof iw||r instanceof hw&&r.f_ instanceof iw)o.push(a);else{var c=Iw(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new tv(o);return new vw(s.Je(),a,i.fieldTransforms)}function _w(t,e,n,r,i,o){var s=t.V_(1,e,n),a=[Nw(e,r,n)],u=[i];if(o.length%2!=0)throw new sf(of.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Nw(e,o[c])),u.push(o[c+1]);for(var l=[],h=new wv,f=a.length-1;f>=0;--f)if(!Dw(l,a[f])){var p=a[f],d=u[f],v=s.P_(p);if(d instanceof iw||d instanceof hw&&d.f_ instanceof iw)l.push(p);else{var g=Iw(d,v);null!=g&&(l.push(p),h.set(p,g))}}var m=new tv(l);return new vw(h.Je(),m,s.fieldTransforms)}function Ew(t,e,n,r){return void 0===r&&(r=!1),Iw(n,t.V_(r?4:3,e))}function Iw(t,e){if(t instanceof hw&&(t=t.f_),Sw(t))return Aw("Unsupported field value:",e,t),Tw(t,e);if(t instanceof rw)return function(t,e){if(!gw(e.r_))throw e.o_(t.s_+"() can only be used with update() and set()");if(!e.path)throw e.o_(t.s_+"() is not currently supported inside arrays");var n=t.i_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.c_&&4!==e.r_)throw e.o_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Iw(o[i],e.g_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return dd(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=np.fromDate(t);return{timestampValue:vd(e.serializer,n)}}if(t instanceof np){var r=new np(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vd(e.serializer,r)}}if(t instanceof lw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yf)return{bytesValue:gd(e.serializer,t.q)};if(t instanceof pw){var i=e.U,o=t.d_;if(!o.isEqual(i))throw e.o_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:bd(t.d_||e.U,t.w_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.o_("Unsupported field value: "+Uf(t))}(t,e)}function Tw(t,e){var n={};return yf(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):mf(t,(function(t,r){var i=Iw(r,e.A_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Sw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof np||t instanceof lw||t instanceof Yf||t instanceof pw||t instanceof rw)}function Aw(t,e,n){if(!Sw(n)||!Pf(n)){var r=Uf(n);throw"an object"===r?e.o_(t+" a custom object"):e.o_(t+" "+r)}}function Nw(t,e,n){if(e instanceof tw)return e.n_;if("string"==typeof e)return kw(t,e);throw Cw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function kw(t,e,n){try{return function(t){if(t.search(nw)>=0)throw new sf(of.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ew.bind.apply(ew,da([void 0],t.split("."))))}catch(e){throw new sf(of.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).n_}catch(e){throw Cw((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function Cw(t,e,n,r,i){var o=r&&!r.m(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new sf(of.INVALID_ARGUMENT,(a+=". ")+t+u)}function Dw(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xw=function(){function t(t){this.zu=t,this.p_=new Map,this.mutations=[],this.b_=!1,this.v_=null,this.S_=new Set}return t.prototype.D_=function(t){return ca(this,void 0,void 0,(function(){var e,n=this;return la(this,(function(r){switch(r.label){case 0:if(this.C_(),this.mutations.length>0)throw new sf(of.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return ca(this,void 0,void 0,(function(){var n,r,i,o,s,a;return la(this,(function(u){switch(u.label){case 0:return n=vf(t),r=Sd(n.serializer)+"/documents",i={documents:e.map((function(t){return _d(n.serializer,t)}))},[4,n.Ou("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.serializer,"found"in(r=t)?function(t,e){df(!!e.found),e.found.name,e.found.updateTime;var n=Ed(t,e.found.name),r=yd(e.found.updateTime),i=new bv({mapValue:{fields:e.found.fields}});return new Iv(n,r,i,{})}(e,r):"missing"in r?function(t,e){df(!!e.missing),df(!!e.readTime);var n=Ed(t,e.missing),r=yd(e.readTime);return new Tv(n,r)}(e,r):pf());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());df(!!e),a.push(e)})),a)]}}))}))}(this.zu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Tv||t instanceof Iv?n.N_(t):pf()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.T_(t,this.Ke(t))),this.S_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.T_(t,this.F_(t)))}catch(t){this.v_=t}this.S_.add(t.toString())},t.prototype.delete=function(t){this.write([new mv(t,this.Ke(t))]),this.S_.add(t.toString())},t.prototype.commit=function(){return ca(this,void 0,void 0,(function(){var t,e=this;return la(this,(function(n){switch(n.label){case 0:if(this.C_(),this.v_)throw this.v_;return t=this.p_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=If.D(n);e.mutations.push(new yv(r,e.Ke(r)))})),[4,function(t,e){return ca(this,void 0,void 0,(function(){var n,r,i;return la(this,(function(o){switch(o.label){case 0:return n=vf(t),r=Sd(n.serializer)+"/documents",i={writes:e.map((function(t){return kd(n.serializer,t)}))},[4,n.Mu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.zu,this.mutations)];case 1:return n.sent(),this.b_=!0,[2]}}))}))},t.prototype.N_=function(t){var e;if(t instanceof Iv)e=t.version;else{if(!(t instanceof Tv))throw pf();e=rp.min()}var n=this.p_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new sf(of.ABORTED,"Document version changed between two reads.")}else this.p_.set(t.key.toString(),e)},t.prototype.Ke=function(t){var e=this.p_.get(t.toString());return!this.S_.has(t.toString())&&e?rv.updateTime(e):rv.Ge()},t.prototype.F_=function(t){var e=this.p_.get(t.toString());if(!this.S_.has(t.toString())&&e){if(e.isEqual(rp.min()))throw new sf(of.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rv.updateTime(e)}return rv.exists(!0)},t.prototype.write=function(t){this.C_(),this.mutations=this.mutations.concat(t)},t.prototype.C_=function(){},t}(),Ow=function(){function t(t,e,n,r){this.os=t,this.zu=e,this.updateFunction=n,this.hs=r,this.x_=5,this.gs=new ag(this.os,"transaction_retry")}return t.prototype.run=function(){this.k_()},t.prototype.k_=function(){var t=this;this.gs.Rn((function(){return ca(t,void 0,void 0,(function(){var t,e,n=this;return la(this,(function(r){return t=new xw(this.zu),(e=this.M_(t))&&e.then((function(e){n.os.ds((function(){return t.commit().then((function(){n.hs.resolve(e)})).catch((function(t){n.O_(t)}))}))})).catch((function(t){n.O_(t)})),[2]}))}))}))},t.prototype.M_=function(t){try{var e=this.updateFunction(t);return!ip(e)&&e.catch&&e.then?e:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.hs.reject(t),null}},t.prototype.O_=function(t){var e=this;this.x_>0&&this.L_(t)?(this.x_-=1,this.os.ds((function(){return e.k_(),Promise.resolve()}))):this.hs.reject(t)},t.prototype.L_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!gp(e)}return!1},t}(),Lw=function(){function t(t,e){this.credentials=t,this.os=e,this.clientId=zf.k(),this.B_=new sg}return t.prototype.start=function(t,e,n,r){var i=this;this.q_(),this.Sl=t;var o=new sg,s=!1;return this.credentials.Jc((function(t){if(!s)return s=!0,cf("FirestoreClient","Initializing. user=",t.uid),i.U_(e,n,r,t,o).then(i.B_.resolve,i.B_.reject);i.os.Ds((function(){return function(t,e){return ca(this,void 0,void 0,(function(){var n,r;return la(this,(function(i){switch(i.label){case 0:return(n=vf(t)).os.Fs(),cf("RemoteStore","RemoteStore received new credentials"),r=Vy(n),n.Xu.add(3),[4,xy(n)];case 1:return i.sent(),r&&n.nh.set("Unknown"),[4,n.Hu.Zl(e)];case 2:return i.sent(),n.Xu.delete(3),[4,Dy(n)];case 3:return i.sent(),[2]}}))}))}(i.Sh,t)}))})),this.os.ds((function(){return i.B_.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.q_(),this.os.enqueue((function(){return t.persistence.sc(!0),function(t){var e=vf(t);return e.Xu.delete(0),Dy(e)}(t.Sh)}))},t.prototype.U_=function(t,e,n,r,i){return ca(this,void 0,void 0,(function(){var o,s,a=this;return la(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o={os:this.os,Sl:this.Sl,clientId:this.clientId,credentials:this.credentials,Kl:r,Nh:100,persistenceSettings:n},[4,t.initialize(o)];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.Ch=t.Ch,this.Gu=t.Gu,this.Ql=t.Ql,this.zu=e.zu,this.Sh=e.Sh,this._i=e._i,this.Q_=e.Dh,this.Q_.qs=ub.bind(null,this._i),this.Q_.Ws=lb.bind(null,this._i),this.persistence.nc((function(){return ca(a,void 0,void 0,(function(){return la(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(s=u.sent(),i.reject(s),!this.W_(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.U_(new Xb,new $b,{Gl:!1},r,i))];case 4:return[2]}}))}))},t.prototype.W_=function(t){return"FirebaseError"===t.name?t.code===of.FAILED_PRECONDITION||t.code===of.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.q_=function(){if(this.os.Vs)throw new sf(of.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.q_(),this.os.enqueue((function(){return t.persistence.sc(!1),function(t){return ca(this,void 0,void 0,(function(){var e;return la(this,(function(n){switch(n.label){case 0:return(e=vf(t)).Xu.add(0),[4,xy(e)];case 1:return n.sent(),e.nh.set("Offline"),[2]}}))}))}(t.Sh)}))},t.prototype.terminate=function(){var t=this;this.os.Ss();var e=new sg;return this.os.ps((function(){return ca(t,void 0,void 0,(function(){var t,n;return la(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.Ql&&this.Ql.stop(),[4,Oy(this.Sh)];case 1:return r.sent(),[4,this.Ch.Si()];case 2:return r.sent(),[4,this.persistence.Si()];case 3:return r.sent(),this.credentials.Xc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=Eg(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.q_();var e=new sg;return this.os.ds((function(){return function(t,e){return ca(this,void 0,void 0,(function(){var n,r,i,o,s;return la(this,(function(a){switch(a.label){case 0:Vy((n=vf(t)).Sh)||cf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.Gu,c=vf(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c.vr.Bo(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.qh.get(r)||[]).push(e),n.qh.set(r,i),[3,4]);case 3:return o=a.sent(),s=Eg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}(t._i,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.q_();var i=new Zb(n),o=new Dg(t,i,e);return this.os.ds((function(){return Sg(r.Q_,o)})),function(){i.e_(),r.os.ds((function(){return Ag(r.Q_,o)}))}},t.prototype.j_=function(t){return ca(this,void 0,void 0,(function(){var e,n=this;return la(this,(function(r){switch(r.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return r.sent(),e=new sg,[2,(this.os.ds((function(){return function(t,e,n){return ca(this,void 0,void 0,(function(){var r,i,o;return la(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,(a=t,u=e,c=vf(a),c.persistence.runTransaction("read document","readonly",(function(t){return c.$c.Dr(t,u)})))];case 1:return(r=s.sent())instanceof Iv?n.resolve(r):r instanceof Tv?n.resolve(null):n.reject(new sf(of.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=Eg(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}var a,u,c}))}))}(n.Gu,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),ca(this,void 0,void 0,(function(){var n,r=this;return la(this,(function(i){switch(i.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return i.sent(),n=new sg,[2,(this.os.ds((function(){return i=r.Q_,o=r.os,s=t,a=e,u=n,c=new Zb({next:function(t){o.ds((function(){return Ag(i,l)}));var e=t.docs.has(s);!e&&t.fromCache?u.reject(new sf(of.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&a&&"server"===a.source?u.reject(new sf(of.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),l=new Dg(kv(s.path),c,{includeMetadataChanges:!0,Js:!0}),Sg(i,l);var i,o,s,a,u,c,l})),n.promise)]}}))}))},t.prototype.G_=function(t){return ca(this,void 0,void 0,(function(){var e,n=this;return la(this,(function(r){switch(r.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return r.sent(),e=new sg,[2,(this.os.ds((function(){return function(t,e,n){return ca(this,void 0,void 0,(function(){var r,i,o,s,a,u;return la(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,dy(t,e,!0)];case 1:return r=c.sent(),i=new ib(e,r.kc),o=i.Th(r.documents),s=i.gr(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=c.sent(),u=Eg(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(n.Gu,t,e)})),e.promise)]}}))}))},t.prototype.z_=function(t,e){return void 0===e&&(e={}),ca(this,void 0,void 0,(function(){var n,r=this;return la(this,(function(i){switch(i.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return i.sent(),n=new sg,[2,(this.os.ds((function(){return i=r.Q_,o=r.os,s=t,a=e,u=n,c=new Zb({next:function(t){o.ds((function(){return Ag(i,l)})),t.fromCache&&"server"===a.source?u.reject(new sf(of.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(t)},error:function(t){return u.reject(t)}}),l=new Dg(s,c,{includeMetadataChanges:!0,Js:!0}),Sg(i,l);var i,o,s,a,u,c,l})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.q_();var n=new sg;return this.os.ds((function(){return function(t,e,n){return ca(this,void 0,void 0,(function(){var r,i,o,s;return la(this,(function(a){switch(a.label){case 0:r=Pb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.Gu,c=e,h=vf(u),f=np.now(),p=c.reduce((function(t,e){return t.add(e.key)}),Dp()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.$c.$r(t,p).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=uv(o,l.get(o.key));null!=s&&n.push(new fv(o.key,s,_v(s.proto.mapValue),rv.exists(!0)))}return h.vr.xo(t,f,n,c)}))})).then((function(t){var e=t.hr(l);return{batchId:t.batchId,dr:e}})))];case 2:return i=a.sent(),r.Ch.Fi(i.batchId),function(t,e,n){var r=t.Bh[t.currentUser.Zs()];r||(r=new yp(Hf)),r=r.rt(e,n),t.Bh[t.currentUser.Zs()]=r}(r,i.batchId,n),[4,Ib(r,i.dr)];case 3:return a.sent(),[4,Wy(r.Sh)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Eg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,p}))}))}(e._i,t,n)})),n.promise},t.prototype.U=function(){return this.Sl.U},t.prototype.H_=function(t){var e=this;this.q_();var n=new Zb(t);return this.os.ds((function(){return ca(e,void 0,void 0,(function(){return la(this,(function(t){return[2,function(t,e){vf(t).Bs.add(e),e.next()}(this.Q_,n)]}))}))})),function(){n.e_(),e.os.ds((function(){return ca(e,void 0,void 0,(function(){return la(this,(function(t){return[2,function(t,e){vf(t).Bs.delete(e)}(this.Q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"Y_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.q_();var n=new sg;return this.os.ds((function(){return new Ow(e.os,e.zu,t,n).run(),Promise.resolve()})),n.promise},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Pw=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.J_=n,this.X_=r,this.Z_=i}return t.prototype.tf=function(t){switch(Kp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ed(t.integerValue||t.doubleValue);case 3:return this.ef(t.timestampValue);case 4:return this.nf(t);case 5:return t.stringValue;case 6:return this.Z_(nd(t.bytesValue));case 7:return this.sf(t.referenceValue);case 8:return this.if(t.geoPointValue);case 9:return this.rf(t.arrayValue);case 10:return this.af(t.mapValue);default:throw pf()}},t.prototype.af=function(t){var e=this,n={};return mf(t.fields||{},(function(t,r){n[t]=e.tf(r)})),n},t.prototype.if=function(t){return new lw(ed(t.latitude),ed(t.longitude))},t.prototype.rf=function(t){var e=this;return(t.values||[]).map((function(t){return e.tf(t)}))},t.prototype.nf=function(t){switch(this.J_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Hp(n)?t(n):n}(t);return null==e?null:this.tf(e);case"estimate":return this.ef(Wp(t));default:return null}},t.prototype.ef=function(t){var e=td(t),n=new np(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.sf=function(t){var e=wf.P(t);df(Bd(e));var n=new tp(e.get(1),e.get(3)),r=new If(e.u(5));return n.isEqual(this.U)||lf("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.X_(r)},t}(),Uw=Zg.uo,Mw=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new sf(of.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Df("settings","non-empty string","host",t.host),this.host=t.host,xf("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Ff("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),xf("settings","object","credentials",t.credentials),this.credentials=t.credentials,xf("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),xf("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?lf("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&lf("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,xf("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Zg.lo;else{if(t.cacheSizeBytes!==Uw&&t.cacheSizeBytes<Zg.ho)throw new sf(of.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Zg.ho);this.cacheSizeBytes=t.cacheSizeBytes}xf("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Fw=function(){function t(e,n,r,i){var o=this;if(void 0===r&&(r=new Xb),void 0===i&&(i=new $b),this.cf=r,this.uf=i,this.hf=null,this.lf=new _g,this.INTERNAL={delete:function(){return ca(o,void 0,void 0,(function(){return la(this,(function(t){switch(t.label){case 0:return this._f(),[4,this.ff.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.hf=s,this.d_=t.df(s),this.wf=s.name,this.mf=new _y(n)}else{var a=e;if(!a.projectId)throw new sf(of.INVALID_ARGUMENT,"Must provide projectId");this.d_=new tp(a.projectId,a.database),this.wf="[DEFAULT]",this.mf=new wy}this.Tf=new Mw({})}return Object.defineProperty(t.prototype,"Ef",{get:function(){return this.If||(this.If=new yw(this.d_,this.Tf.ignoreUndefinedProperties)),this.If},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){Sf("Firestore.settings",arguments,1),kf("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.Tf),t)).merge;var e=new Mw(t);if(this.ff&&!this.Tf.isEqual(e))throw new sf(of.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Tf=e,void 0!==e.credentials&&(this.mf=function(t){if(!t)return new wy;switch(t.type){case"gapi":var e=t.client;return df(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Iy(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new sf(of.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this._f(),this.ff.enableNetwork()},t.prototype.disableNetwork=function(){return this._f(),this.ff.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.ff)throw new sf(of.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&lf("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new sf(of.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Af(this.cf,this.uf,{Gl:!0,cacheSizeBytes:this.Tf.cacheSizeBytes,synchronizeTabs:r,La:i})},t.prototype.clearPersistence=function(){return ca(this,void 0,void 0,(function(){var t,e=this;return la(this,(function(n){if(void 0!==this.ff&&!this.ff.Y_)throw new sf(of.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new sg,[2,(this.lf.ps((function(){return ca(e,void 0,void 0,(function(){var e;return la(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cf.clearPersistence(this.d_,this.wf)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Rf",{get:function(){return this._f(),this.ff.Y_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this._f(),this.ff.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this._f(),Rw(t))return this.ff.H_(t);kf("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.ff.H_(e)},t.prototype._f=function(){return this.ff||this.Af(new Xb,new $b,{Gl:!1}),this.ff},t.prototype.Pf=function(){return new Zf(this.d_,this.wf,this.Tf.host,this.Tf.ssl,this.Tf.experimentalForceLongPolling)},t.prototype.Af=function(t,e,n){var r=this.Pf();return this.ff=new Lw(this.mf,this.lf),this.ff.start(r,t,e,n)},t.df=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new sf(of.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;if(!n||"string"!=typeof n)throw new sf(of.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new tp(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.hf)throw new sf(of.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.hf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Sf("Firestore.collection",arguments,1),kf("Firestore.collection","non-empty string",1,t),this._f(),new Zw(wf.P(t),this,null)},t.prototype.doc=function(t){return Sf("Firestore.doc",arguments,1),kf("Firestore.doc","non-empty string",1,t),this._f(),Bw.gf(wf.P(t),this,null)},t.prototype.collectionGroup=function(t){if(Sf("Firestore.collectionGroup",arguments,1),kf("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new sf(of.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this._f(),new Jw((e=t,new Av(wf.g(),e)),this,null);var e},t.prototype.runTransaction=function(t){var e=this;return Sf("Firestore.runTransaction",arguments,1),kf("Firestore.runTransaction","function",1,t),this._f().transaction((function(n){return t(new Vw(e,n))}))},t.prototype.batch=function(){return this._f(),new jw(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(uf()){case Oa.DEBUG:return"debug";case Oa.ERROR:return"error";case Oa.SILENT:return"silent";case Oa.WARN:return"warn";case Oa.INFO:return"info";case Oa.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;Sf("Firestore.setLogLevel",arguments,1),Lf("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,af.setLogLevel(e)},t.prototype.yf=function(){return this.Tf.timestampsInSnapshots},t.prototype.Vf=function(){return this.Tf},t}(),Vw=function(){function t(t,e){this.pf=t,this.bf=e}return t.prototype.get=function(t){var e=this;Sf("Transaction.get",arguments,1);var n=r_("Transaction.get",t,this.pf);return this.bf.D_([n.w_]).then((function(t){if(!t||1!==t.length)return pf();var r=t[0];if(r instanceof Tv)return new Gw(e.pf,n.w_,null,!1,!1,n.m_);if(r instanceof Iv)return new Gw(e.pf,n.w_,r,!1,!1,n.m_);throw pf()}))},t.prototype.set=function(t,e,n){Nf("Transaction.set",arguments,2,3);var r=r_("Transaction.set",t,this.pf);n=t_("Transaction.set",n);var i=o_(r.m_,e,n),o=bw(this.pf.Ef,"Transaction.set",r.w_,i,null!==r.m_,n);return this.bf.set(r.w_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof ew?(Af("Transaction.update",arguments,3),r=r_("Transaction.update",t,this.pf),i=_w(this.pf.Ef,"Transaction.update",r.w_,e,n,o)):(Sf("Transaction.update",arguments,2),r=r_("Transaction.update",t,this.pf),i=ww(this.pf.Ef,"Transaction.update",r.w_,e)),this.bf.update(r.w_,i),this},t.prototype.delete=function(t){Sf("Transaction.delete",arguments,1);var e=r_("Transaction.delete",t,this.pf);return this.bf.delete(e.w_),this},t}(),jw=function(){function t(t){this.pf=t,this.vf=[],this.Sf=!1}return t.prototype.set=function(t,e,n){Nf("WriteBatch.set",arguments,2,3),this.Df();var r=r_("WriteBatch.set",t,this.pf);n=t_("WriteBatch.set",n);var i=o_(r.m_,e,n),o=bw(this.pf.Ef,"WriteBatch.set",r.w_,i,null!==r.m_,n);return this.vf=this.vf.concat(o.T_(r.w_,rv.Ge())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Df(),"string"==typeof e||e instanceof ew?(Af("WriteBatch.update",arguments,3),r=r_("WriteBatch.update",t,this.pf),i=_w(this.pf.Ef,"WriteBatch.update",r.w_,e,n,o)):(Sf("WriteBatch.update",arguments,2),r=r_("WriteBatch.update",t,this.pf),i=ww(this.pf.Ef,"WriteBatch.update",r.w_,e)),this.vf=this.vf.concat(i.T_(r.w_,rv.exists(!0))),this},t.prototype.delete=function(t){Sf("WriteBatch.delete",arguments,1),this.Df();var e=r_("WriteBatch.delete",t,this.pf);return this.vf=this.vf.concat(new mv(e.w_,rv.Ge())),this},t.prototype.commit=function(){return this.Df(),this.Sf=!0,this.vf.length>0?this.pf._f().write(this.vf):Promise.resolve()},t.prototype.Df=function(){if(this.Sf)throw new sf(of.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Bw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.d_,e,r)||this).w_=e,i.firestore=n,i.m_=r,i.ff=i.firestore._f(),i}return aa(e,t),e.gf=function(t,n,r){if(t.length%2!=0)throw new sf(of.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new If(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Zw(this.w_.path.h(),this.firestore,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.w_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Sf("DocumentReference.collection",arguments,1),kf("DocumentReference.collection","non-empty string",1,t),!t)throw new sf(of.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=wf.P(t);return new Zw(this.w_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Vf("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.w_.isEqual(t.w_)&&this.m_===t.m_},e.prototype.set=function(t,e){Nf("DocumentReference.set",arguments,1,2),e=t_("DocumentReference.set",e);var n=o_(this.m_,t,e),r=bw(this.firestore.Ef,"DocumentReference.set",this.w_,n,null!==this.m_,e);return this.ff.write(r.T_(this.w_,rv.Ge()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof ew?(Af("DocumentReference.update",arguments,2),n=_w(this.firestore.Ef,"DocumentReference.update",this.w_,t,e,r)):(Sf("DocumentReference.update",arguments,1),n=ww(this.firestore.Ef,"DocumentReference.update",this.w_,t)),this.ff.write(n.T_(this.w_,rv.exists(!0)))},e.prototype.delete=function(){return Sf("DocumentReference.delete",arguments,0),this.ff.write([new mv(this.w_,rv.Ge())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Nf("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Rw(i[a])||(Ff("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),xf("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(Rw(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else kf("DocumentReference.onSnapshot","function",a,i[a]),Cf("DocumentReference.onSnapshot","function",a+1,i[a+1]),Cf("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Cf(t))},error:i[a+1],complete:i[a+2]};return this.ff.listen(kv(this.w_.path),u,l)},e.prototype.get=function(t){var e=this;Nf("DocumentReference.get",arguments,0,1),n_("DocumentReference.get",t);var n=this.firestore._f();return t&&"cache"===t.source?n.j_(this.w_).then((function(t){return new Gw(e.firestore,e.w_,t,!0,t instanceof Iv&&t.Ye,e.m_)})):n.K_(this.w_,t).then((function(t){return e.Cf(t)}))},e.prototype.withConverter=function(t){return new e(this.w_,this.firestore,t)},e.prototype.Cf=function(t){var e=t.docs.get(this.w_);return new Gw(this.firestore,this.w_,e,t.fromCache,t.hasPendingWrites,this.m_)},e}(pw),qw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Gw=function(){function t(t,e,n,r,i,o){this.pf=t,this.w_=e,this.Nf=n,this.Ff=r,this.$f=i,this.m_=o}return t.prototype.data=function(t){var e=this;if(Nf("DocumentSnapshot.data",arguments,0,1),t=e_("DocumentSnapshot.data",t),this.Nf){if(this.m_){var n=new zw(this.pf,this.w_,this.Nf,this.Ff,this.$f,null);return this.m_.fromFirestore(n,t)}return new Pw(this.pf.d_,this.pf.yf(),t.serverTimestamps||"none",(function(t){return new Bw(t,e.pf,null)}),(function(t){return new $f(t)})).tf(this.Nf.sn())}},t.prototype.get=function(t,e){var n=this;if(Nf("DocumentSnapshot.get",arguments,1,2),e=e_("DocumentSnapshot.get",e),this.Nf){var r=this.Nf.data().field(Nw("DocumentSnapshot.get",t,this.w_));if(null!==r)return new Pw(this.pf.d_,this.pf.yf(),e.serverTimestamps||"none",(function(t){return new Bw(t,n.pf,n.m_)}),(function(t){return new $f(t)})).tf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Bw(this.w_,this.pf,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Nf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new qw(this.$f,this.Ff)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Vf("isEqual","DocumentSnapshot",1,e);return this.pf===e.pf&&this.Ff===e.Ff&&this.w_.isEqual(e.w_)&&(null===this.Nf?null===e.Nf:this.Nf.isEqual(e.Nf))&&this.m_===e.m_},t}(),zw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Gw);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t,e,n,r,i,o,s){var a;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new sf(of.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Kw(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(Qw(r,t,h))}a={arrayValue:{values:u}}}else a=Qw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Kw(s,o),a=Ew(n,e,s,"in"===o||"not-in"===o);var f=zv.create(i,o,a);return function(t,e){if(e.un()){var n=Ov(t);if(null!==n&&!n.isEqual(e.field))throw new sf(of.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=xv(t);null!==r&&Yw(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new sf(of.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new sf(of.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}function Ww(t,e,n){if(null!==t.startAt)throw new sf(of.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new sf(of.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rg(e,n);return function(t,e){if(null===xv(t)){var n=Ov(t);null!==n&&Yw(t,n,e.field)}}(t,r),r}function Qw(t,e,n){if("string"==typeof n){if(""===n)throw new sf(of.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lv(e)&&-1!==n.indexOf("/"))throw new sf(of.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wf.P(n));if(!If.F(r))throw new sf(of.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rd(t,new If(r))}if(n instanceof pw)return rd(t,n.w_);throw new sf(of.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Uf(n)+".")}function Kw(t,e){if(!Array.isArray(t)||0===t.length)throw new sf(of.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new sf(of.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new sf(of.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new sf(of.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function Yw(t,e,n){if(!n.isEqual(e))throw new sf(of.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Xw(t){if(Dv(t)&&0===t.rn.length)throw new sf(of.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jw=function(){function t(t,e,n){this.xf=t,this.firestore=e,this.m_=n}return t.prototype.where=function(e,n,r){Sf("Query.where",arguments,3),Mf("Query.where",3,r);var i,o,s,a=Lf("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),u=Nw("Query.where",e),c=Hw(this.xf,"Query.where",this.firestore.Ef,this.firestore.d_,u,a,r);return new t((i=this.xf,o=c,s=i.filters.concat([o]),new Av(i.path,i.collectionGroup,i.rn.slice(),s,i.limit,i.on,i.startAt,i.endAt)),this.firestore,this.m_)},t.prototype.orderBy=function(e,n){var r;if(Nf("Query.orderBy",arguments,1,2),Cf("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new sf(of.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i,o,s,a=Nw("Query.orderBy",e),u=Ww(this.xf,a,r);return new t((i=this.xf,o=u,s=i.rn.concat([o]),new Av(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.on,i.startAt,i.endAt)),this.firestore,this.m_)},t.prototype.limit=function(e){return Sf("Query.limit",arguments,1),kf("Query.limit","number",1,e),jf("Query.limit",1,e),new t(Uv(this.xf,e,"F"),this.firestore,this.m_)},t.prototype.limitToLast=function(e){return Sf("Query.limitToLast",arguments,1),kf("Query.limitToLast","number",1,e),jf("Query.limitToLast",1,e),new t(Uv(this.xf,e,"L"),this.firestore,this.m_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Af("Query.startAt",arguments,1);var i=this.kf("Query.startAt",e,n,!0);return new t(Mv(this.xf,i),this.firestore,this.m_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Af("Query.startAfter",arguments,1);var i=this.kf("Query.startAfter",e,n,!1);return new t(Mv(this.xf,i),this.firestore,this.m_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Af("Query.endBefore",arguments,1);var i=this.kf("Query.endBefore",e,n,!0);return new t(Fv(this.xf,i),this.firestore,this.m_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Af("Query.endAt",arguments,1);var i=this.kf("Query.endAt",e,n,!1);return new t(Fv(this.xf,i),this.firestore,this.m_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Vf("isEqual","Query",1,e);return this.firestore===e.firestore&&Vv(this.xf,e.xf)&&this.m_===e.m_},t.prototype.withConverter=function(e){return new t(this.xf,this.firestore,e)},t.prototype.kf=function(t,e,n,r){if(Mf(t,1,e),e instanceof Gw)return Sf(t,da([e],n),1),function(t,e,n,r,i){if(!r)throw new sf(of.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Rv(t);s<a.length;s++){var u=a[s];if(u.field.p())o.push(rd(e,r.key));else{var c=r.field(u.field);if(Hp(c))throw new sf(of.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.R();throw new sf(of.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Zv(o,i)}(this.xf,this.firestore.d_,t,e.Nf,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.rn;if(i.length>s.length)throw new sf(of.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.p()){if("string"!=typeof c)throw new sf(of.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Lv(t)&&-1!==c.indexOf("/"))throw new sf(of.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(wf.P(c));if(!If.F(l))throw new sf(of.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new If(l);a.push(rd(e,h))}else{var f=Ew(n,r,c);a.push(f)}}return new Zv(a,o)}(this.xf,this.firestore.d_,this.firestore.Ef,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Nf("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||Rw(i[a])||(Ff("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),xf("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),Rw(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else kf("Query.onSnapshot","function",a,i[a]),Cf("Query.onSnapshot","function",a+1,i[a+1]),Cf("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new $w(r.firestore,r.xf,t,r.m_))},error:i[a+1],complete:i[a+2]};return Xw(this.xf),this.firestore._f().listen(this.xf,s,c)},t.prototype.get=function(t){var e=this;Nf("Query.get",arguments,0,1),n_("Query.get",t),Xw(this.xf);var n=this.firestore._f();return(t&&"cache"===t.source?n.G_(this.xf):n.z_(this.xf,t)).then((function(t){return new $w(e.firestore,e.xf,t,e.m_)}))},t}(),$w=function(){function t(t,e,n,r){this.pf=t,this.Mf=e,this.Of=n,this.m_=r,this.Lf=null,this.Bf=null,this.metadata=new qw(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Of.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Of.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Nf("QuerySnapshot.forEach",arguments,1,2),kf("QuerySnapshot.forEach","function",1,t),this.Of.docs.forEach((function(r){t.call(e,n.qf(r,n.metadata.fromCache,n.Of.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Jw(this.Mf,this.pf,this.m_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Ff("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),xf("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Of.jt)throw new sf(of.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Lf&&this.Bf===e||(this.Lf=function(t,e,n){if(t.Ut.m()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Qt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Ut;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:i_(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Of,e,this.qf.bind(this)),this.Bf=e),this.Lf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Vf("isEqual","QuerySnapshot",1,e);return this.pf===e.pf&&Vv(this.Mf,e.Mf)&&this.Of.isEqual(e.Of)&&this.m_===e.m_},t.prototype.qf=function(t,e,n){return new zw(this.pf,t.key,t,e,n,this.m_)},t}(),Zw=function(t){function e(e,n,r){var i=this;if((i=t.call(this,kv(e),n,r)||this).Uf=e,e.length%2!=1)throw new sf(of.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return aa(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.xf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.xf.path.h();return t.m()?null:new Bw(new If(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.xf.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){Nf("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=zf.k()),kf("CollectionReference.doc","non-empty string",1,t);var e=wf.P(t);return Bw.gf(this.xf.path.child(e),this.firestore,this.m_)},e.prototype.add=function(t){Sf("CollectionReference.add",arguments,1);var e=this.m_?this.m_.toFirestore(t):t;kf("CollectionReference.add","object",1,e);var n=this.doc();return new Bw(n.w_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Uf,this.firestore,t)},e}(Jw);function t_(t,e){if(void 0===e)return{merge:!1};if(Ff(t,e,["merge","mergeFields"]),xf(t,"boolean","merge",e.merge),n=t,void 0!==(r=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new sf(of.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Uf(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new sf(of.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Uf(r[o]))}(n,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof ew})),void 0!==e.mergeFields&&void 0!==e.merge)throw new sf(of.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n,r;return e}function e_(t,e){return void 0===e?{}:(Ff(t,e,["serverTimestamps"]),Of(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function n_(t,e){Cf(t,"object",1,e),e&&(Ff(t,e,["source"]),Of(t,0,"source",e.source,["default","server","cache"]))}function r_(t,e,n){if(e instanceof pw){if(e.firestore!==n)throw new sf(of.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Vf(t,"DocumentReference",1,e)}function i_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pf()}}function o_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s_,a_,u_,c_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return aa(e,t),e.serverTimestamp=function(){Tf("FieldValue.serverTimestamp",arguments);var t=new sw("serverTimestamp");return t.s_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){Tf("FieldValue.delete",arguments);var t=new iw("deleteField");return t.s_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Af("FieldValue.arrayUnion",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Af("arrayUnion()",arguments,1),new aw("arrayUnion",t)}.apply(void 0,t);return r.s_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Af("FieldValue.arrayRemove",arguments,1);var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Af("arrayRemove()",arguments,1),new uw("arrayRemove",t)}.apply(void 0,t);return r.s_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){kf("FieldValue.increment","number",1,t),Sf("FieldValue.increment",arguments,1);var n=new cw("increment",t);return n.s_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},e}(hw),l_={Firestore:Fw,GeoPoint:lw,Timestamp:np,Blob:$f,Transaction:Vw,WriteBatch:jw,DocumentReference:Bw,DocumentSnapshot:Gw,Query:Jw,QueryDocumentSnapshot:zw,QuerySnapshot:$w,CollectionReference:Zw,FieldPath:ew,FieldValue:c_,setLogLevel:Fw.setLogLevel,CACHE_SIZE_UNLIMITED:Uw};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){let e=Date.now();return t&&(e+=t),eu.firestore.Timestamp.fromMillis(e)}function f_(t){const e=Object.entries(t),n={};return e.forEach(t=>{n[t[0]]=t[1]}),n}(s_=eu).INTERNAL.registerComponent(new Na("firestore",(function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=new $b,i=new Jb(r),new Fw(e,n,i,r);var e,n,r,i}),"PUBLIC").setServiceProps(Object.assign({},l_))),s_.registerVersion("@firebase/firestore","1.17.2");class p_{constructor(t){this.ReqtNodeID=t,this.Timestamp=h_()}}(u_=a_||(a_={})).DescOffer="DescOffer",u_.DescAnswer="DescAnswer",u_.IceCandy="IceCandy";class d_{constructor(t,e,n,r){this.From=t,this.To=e,this.Type=n,this.data=r,this.Timestamp=h_()}}
/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
(function(){var t=void 0,e=this;function n(n,r){var i,o=n.split("."),s=e;!(o[0]in s)&&s.execScript&&s.execScript("var "+o[0]);for(;o.length&&(i=o.shift());)o.length||r===t?s=s[i]?s[i]:s[i]={}:s[i]=r}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function i(t,e){if(this.index="number"==typeof e?e:0,this.f=0,this.buffer=t instanceof(r?Uint8Array:Array)?t:new(r?Uint8Array:Array)(32768),2*this.buffer.length<=this.index)throw Error("invalid index");this.buffer.length<=this.index&&o(this)}function o(t){var e,n=t.buffer,i=n.length,o=new(r?Uint8Array:Array)(i<<1);if(r)o.set(n);else for(e=0;e<i;++e)o[e]=n[e];return t.buffer=o}i.prototype.b=function(t,e,n){var r,i=this.buffer,s=this.index,a=this.f,u=i[s];if(n&&1<e&&(t=8<e?(h[255&t]<<24|h[t>>>8&255]<<16|h[t>>>16&255]<<8|h[t>>>24&255])>>32-e:h[t]>>8-e),8>e+a)u=u<<e|t,a+=e;else for(r=0;r<e;++r)u=u<<1|t>>e-r-1&1,8==++a&&(a=0,i[s++]=h[u],u=0,s===i.length&&(i=o(this)));i[s]=u,this.buffer=i,this.f=a,this.index=s},i.prototype.finish=function(){var t,e=this.buffer,n=this.index;return 0<this.f&&(e[n]<<=8-this.f,e[n]=h[e[n]],n++),r?t=e.subarray(0,n):(e.length=n,t=e),t};var s,a=new(r?Uint8Array:Array)(256);for(s=0;256>s;++s){for(var u=l=s,c=7,l=l>>>1;l;l>>>=1)u<<=1,u|=1&l,--c;a[s]=(u<<c&255)>>>0}var h=a;function f(t,e,n){var r,i="number"==typeof e?e:e=0,o="number"==typeof n?n:t.length;for(r=-1,i=7&o;i--;++e)r=r>>>8^d[255&(r^t[e])];for(i=o>>3;i--;e+=8)r=(r=(r=(r=(r=(r=(r=(r=r>>>8^d[255&(r^t[e])])>>>8^d[255&(r^t[e+1])])>>>8^d[255&(r^t[e+2])])>>>8^d[255&(r^t[e+3])])>>>8^d[255&(r^t[e+4])])>>>8^d[255&(r^t[e+5])])>>>8^d[255&(r^t[e+6])])>>>8^d[255&(r^t[e+7])];return(4294967295^r)>>>0}var p=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],d=r?new Uint32Array(p):p;function v(t){this.buffer=new(r?Uint16Array:Array)(2*t),this.length=0}function g(t,e){this.h=y,this.j=0,this.input=r&&t instanceof Array?new Uint8Array(t):t,this.c=0,e&&(e.lazy&&(this.j=e.lazy),"number"==typeof e.compressionType&&(this.h=e.compressionType),e.outputBuffer&&(this.a=r&&e.outputBuffer instanceof Array?new Uint8Array(e.outputBuffer):e.outputBuffer),"number"==typeof e.outputIndex&&(this.c=e.outputIndex)),this.a||(this.a=new(r?Uint8Array:Array)(32768))}v.prototype.getParent=function(t){return 2*((t-2)/4|0)},v.prototype.push=function(t,e){var n,r,i,o=this.buffer;for(n=this.length,o[this.length++]=e,o[this.length++]=t;0<n&&(r=this.getParent(n),o[n]>o[r]);)i=o[n],o[n]=o[r],o[r]=i,i=o[n+1],o[n+1]=o[r+1],o[r+1]=i,n=r;return this.length},v.prototype.pop=function(){var t,e,n,r,i,o=this.buffer;for(e=o[0],t=o[1],this.length-=2,o[0]=o[this.length],o[1]=o[this.length+1],i=0;!((r=2*i+2)>=this.length)&&(r+2<this.length&&o[r+2]>o[r]&&(r+=2),o[r]>o[i]);)n=o[i],o[i]=o[r],o[r]=n,n=o[i+1],o[i+1]=o[r+1],o[r+1]=n,i=r;return{index:t,value:e,length:this.length}};var m,y=2,b=[];for(m=0;288>m;m++)switch(!0){case 143>=m:b.push([m+48,8]);break;case 255>=m:b.push([m-144+400,9]);break;case 279>=m:b.push([m-256+0,7]);break;case 287>=m:b.push([m-280+192,8]);break;default:throw"invalid literal: "+m}function w(t,e){this.length=t,this.k=e}g.prototype.g=function(){var e,n,o,s,a=this.input;switch(this.h){case 0:for(o=0,s=a.length;o<s;){var u,c,l,h=n=r?a.subarray(o,o+65535):a.slice(o,o+65535),f=(o+=n.length)===s,p=t,d=t,v=this.a,g=this.c;if(r){for(v=new Uint8Array(this.a.buffer);v.length<=g+h.length+5;)v=new Uint8Array(v.length<<1);v.set(this.a)}if(u=f?1:0,v[g++]=0|u,l=65536+~(c=h.length)&65535,v[g++]=255&c,v[g++]=c>>>8&255,v[g++]=255&l,v[g++]=l>>>8&255,r)v.set(h,g),g+=h.length,v=v.subarray(0,g);else{for(p=0,d=h.length;p<d;++p)v[g++]=h[p];v.length=g}this.c=g,this.a=v}break;case 1:var m=new i(r?new Uint8Array(this.a.buffer):this.a,this.c);m.b(1,1,!0),m.b(1,2,!0);var w,_,E,T=I(this,a);for(w=0,_=T.length;w<_;w++)if(E=T[w],i.prototype.b.apply(m,b[E]),256<E)m.b(T[++w],T[++w],!0),m.b(T[++w],5),m.b(T[++w],T[++w],!0);else if(256===E)break;this.a=m.finish(),this.c=this.a.length;break;case y:var N,k,C,D,x,O,L,R,P,U,M,F,V,j,B,q=new i(r?new Uint8Array(this.a.buffer):this.a,this.c),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=Array(19);for(N=y,q.b(1,1,!0),q.b(N,2,!0),k=I(this,a),L=A(O=S(this.n,15)),P=A(R=S(this.m,7)),C=286;257<C&&0===O[C-1];C--);for(D=30;1<D&&0===R[D-1];D--);var H,W,Q,K,Y,X,J=C,$=D,Z=new(r?Uint32Array:Array)(J+$),tt=new(r?Uint32Array:Array)(316),et=new(r?Uint8Array:Array)(19);for(H=W=0;H<J;H++)Z[W++]=O[H];for(H=0;H<$;H++)Z[W++]=R[H];if(!r)for(H=0,K=et.length;H<K;++H)et[H]=0;for(H=Y=0,K=Z.length;H<K;H+=W){for(W=1;H+W<K&&Z[H+W]===Z[H];++W);if(Q=W,0===Z[H])if(3>Q)for(;0<Q--;)tt[Y++]=0,et[0]++;else for(;0<Q;)(X=138>Q?Q:138)>Q-3&&X<Q&&(X=Q-3),10>=X?(tt[Y++]=17,tt[Y++]=X-3,et[17]++):(tt[Y++]=18,tt[Y++]=X-11,et[18]++),Q-=X;else if(tt[Y++]=Z[H],et[Z[H]]++,3>--Q)for(;0<Q--;)tt[Y++]=Z[H],et[Z[H]]++;else for(;0<Q;)(X=6>Q?Q:6)>Q-3&&X<Q&&(X=Q-3),tt[Y++]=16,tt[Y++]=X-3,et[16]++,Q-=X}for(e=r?tt.subarray(0,Y):tt.slice(0,Y),U=S(et,7),j=0;19>j;j++)z[j]=U[G[j]];for(x=19;4<x&&0===z[x-1];x--);for(M=A(U),q.b(C-257,5,!0),q.b(D-1,5,!0),q.b(x-4,4,!0),j=0;j<x;j++)q.b(z[j],3,!0);for(j=0,B=e.length;j<B;j++)if(F=e[j],q.b(M[F],U[F],!0),16<=F){switch(j++,F){case 16:V=2;break;case 17:V=3;break;case 18:V=7;break;default:throw"invalid code: "+F}q.b(e[j],V,!0)}var nt,rt,it,ot,st,at,ut,ct,lt=[L,O],ht=[P,R];for(st=lt[0],at=lt[1],ut=ht[0],ct=ht[1],nt=0,rt=k.length;nt<rt;++nt)if(it=k[nt],q.b(st[it],at[it],!0),256<it)q.b(k[++nt],k[++nt],!0),ot=k[++nt],q.b(ut[ot],ct[ot],!0),q.b(k[++nt],k[++nt],!0);else if(256===it)break;this.a=q.finish(),this.c=this.a.length;break;default:throw"invalid compression type"}return this.a};var _=function(){function t(t){switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case 12>=t:return[265,t-11,1];case 14>=t:return[266,t-13,1];case 16>=t:return[267,t-15,1];case 18>=t:return[268,t-17,1];case 22>=t:return[269,t-19,2];case 26>=t:return[270,t-23,2];case 30>=t:return[271,t-27,2];case 34>=t:return[272,t-31,2];case 42>=t:return[273,t-35,3];case 50>=t:return[274,t-43,3];case 58>=t:return[275,t-51,3];case 66>=t:return[276,t-59,3];case 82>=t:return[277,t-67,4];case 98>=t:return[278,t-83,4];case 114>=t:return[279,t-99,4];case 130>=t:return[280,t-115,4];case 162>=t:return[281,t-131,5];case 194>=t:return[282,t-163,5];case 226>=t:return[283,t-195,5];case 257>=t:return[284,t-227,5];case 258===t:return[285,t-258,0];default:throw"invalid length: "+t}}var e,n,r=[];for(e=3;258>=e;e++)n=t(e),r[e]=n[2]<<24|n[1]<<16|n[0];return r}(),E=r?new Uint32Array(_):_;function I(e,n){function i(t,e){var n,r,i,o,s=t.k,a=[],u=0;switch(n=E[t.length],a[u++]=65535&n,a[u++]=n>>16&255,a[u++]=n>>24,!0){case 1===s:r=[0,s-1,0];break;case 2===s:r=[1,s-2,0];break;case 3===s:r=[2,s-3,0];break;case 4===s:r=[3,s-4,0];break;case 6>=s:r=[4,s-5,1];break;case 8>=s:r=[5,s-7,1];break;case 12>=s:r=[6,s-9,2];break;case 16>=s:r=[7,s-13,2];break;case 24>=s:r=[8,s-17,3];break;case 32>=s:r=[9,s-25,3];break;case 48>=s:r=[10,s-33,4];break;case 64>=s:r=[11,s-49,4];break;case 96>=s:r=[12,s-65,5];break;case 128>=s:r=[13,s-97,5];break;case 192>=s:r=[14,s-129,6];break;case 256>=s:r=[15,s-193,6];break;case 384>=s:r=[16,s-257,7];break;case 512>=s:r=[17,s-385,7];break;case 768>=s:r=[18,s-513,8];break;case 1024>=s:r=[19,s-769,8];break;case 1536>=s:r=[20,s-1025,9];break;case 2048>=s:r=[21,s-1537,9];break;case 3072>=s:r=[22,s-2049,10];break;case 4096>=s:r=[23,s-3073,10];break;case 6144>=s:r=[24,s-4097,11];break;case 8192>=s:r=[25,s-6145,11];break;case 12288>=s:r=[26,s-8193,12];break;case 16384>=s:r=[27,s-12289,12];break;case 24576>=s:r=[28,s-16385,13];break;case 32768>=s:r=[29,s-24577,13];break;default:throw"invalid distance"}for(n=r,a[u++]=n[0],a[u++]=n[1],a[u++]=n[2],i=0,o=a.length;i<o;++i)v[g++]=a[i];y[a[0]]++,b[a[3]]++,m=t.length+e-1,f=null}var o,s,a,u,c,l,h,f,p,d={},v=r?new Uint16Array(2*n.length):[],g=0,m=0,y=new(r?Uint32Array:Array)(286),b=new(r?Uint32Array:Array)(30),w=e.j;if(!r){for(a=0;285>=a;)y[a++]=0;for(a=0;29>=a;)b[a++]=0}for(y[256]=1,o=0,s=n.length;o<s;++o){for(a=c=0,u=3;a<u&&o+a!==s;++a)c=c<<8|n[o+a];if(d[c]===t&&(d[c]=[]),l=d[c],!(0<m--)){for(;0<l.length&&32768<o-l[0];)l.shift();if(o+3>=s){for(f&&i(f,-1),a=0,u=s-o;a<u;++a)p=n[o+a],v[g++]=p,++y[p];break}0<l.length?(h=T(n,o,l),f?f.length<h.length?(p=n[o-1],v[g++]=p,++y[p],i(h,0)):i(f,-1):h.length<w?f=h:i(h,0)):f?i(f,-1):(p=n[o],v[g++]=p,++y[p])}l.push(o)}return v[g++]=256,y[256]++,e.n=y,e.m=b,r?v.subarray(0,g):v}function T(t,e,n){var r,i,o,s,a,u,c=0,l=t.length;s=0,u=n.length;t:for(;s<u;s++){if(r=n[u-s-1],o=3,3<c){for(a=c;3<a;a--)if(t[r+a-1]!==t[e+a-1])continue t;o=c}for(;258>o&&e+o<l&&t[r+o]===t[e+o];)++o;if(o>c&&(i=r,c=o),258===o)break}return new w(c,e-i)}function S(t,e){var n,i,o,s,a,u=t.length,c=new v(572),l=new(r?Uint8Array:Array)(u);if(!r)for(s=0;s<u;s++)l[s]=0;for(s=0;s<u;++s)0<t[s]&&c.push(s,t[s]);if(n=Array(c.length/2),i=new(r?Uint32Array:Array)(c.length/2),1===n.length)return l[c.pop().index]=1,l;for(s=0,a=c.length/2;s<a;++s)n[s]=c.pop(),i[s]=n[s].value;for(o=function(t,e,n){function i(t){var n=d[t][v[t]];n===e?(i(t+1),i(t+1)):--f[n],++v[t]}var o,s,a,u,c,l=new(r?Uint16Array:Array)(n),h=new(r?Uint8Array:Array)(n),f=new(r?Uint8Array:Array)(e),p=Array(n),d=Array(n),v=Array(n),g=(1<<n)-e,m=1<<n-1;for(l[n-1]=e,s=0;s<n;++s)g<m?h[s]=0:(h[s]=1,g-=m),g<<=1,l[n-2-s]=(l[n-1-s]/2|0)+e;for(l[0]=h[0],p[0]=Array(l[0]),d[0]=Array(l[0]),s=1;s<n;++s)l[s]>2*l[s-1]+h[s]&&(l[s]=2*l[s-1]+h[s]),p[s]=Array(l[s]),d[s]=Array(l[s]);for(o=0;o<e;++o)f[o]=n;for(a=0;a<l[n-1];++a)p[n-1][a]=t[a],d[n-1][a]=a;for(o=0;o<n;++o)v[o]=0;for(1===h[n-1]&&(--f[0],++v[n-1]),s=n-2;0<=s;--s){for(u=o=0,c=v[s+1],a=0;a<l[s];a++)(u=p[s+1][c]+p[s+1][c+1])>t[o]?(p[s][a]=u,d[s][a]=e,c+=2):(p[s][a]=t[o],d[s][a]=o,++o);v[s]=0,1===h[s]&&i(s)}return f}(i,i.length,e),s=0,a=n.length;s<a;++s)l[n[s].index]=o[s];return l}function A(t){var e,n,i,o,s=new(r?Uint16Array:Array)(t.length),a=[],u=[],c=0;for(e=0,n=t.length;e<n;e++)a[t[e]]=1+(0|a[t[e]]);for(e=1,n=16;e<=n;e++)u[e]=c,c+=0|a[e],c<<=1;for(e=0,n=t.length;e<n;e++)for(c=u[t[e]],u[t[e]]+=1,i=s[e]=0,o=t[e];i<o;i++)s[e]=s[e]<<1|1&c,c>>>=1;return s}function N(t,e){this.input=t,this.c=this.i=0,this.d={},e&&(e.flags&&(this.d=e.flags),"string"==typeof e.filename&&(this.filename=e.filename),"string"==typeof e.comment&&(this.l=e.comment),e.deflateOptions&&(this.e=e.deflateOptions)),this.e||(this.e={})}N.prototype.g=function(){var e,n,i,o,s,a,u,c,l=new(r?Uint8Array:Array)(32768),h=0,p=this.input,d=this.i,v=this.filename,m=this.l;if(l[h++]=31,l[h++]=139,l[h++]=8,e=0,this.d.fname&&(e|=D),this.d.fcomment&&(e|=x),this.d.fhcrc&&(e|=C),l[h++]=e,n=(Date.now?Date.now():+new Date)/1e3|0,l[h++]=255&n,l[h++]=n>>>8&255,l[h++]=n>>>16&255,l[h++]=n>>>24&255,l[h++]=0,l[h++]=k,this.d.fname!==t){for(u=0,c=v.length;u<c;++u)255<(a=v.charCodeAt(u))&&(l[h++]=a>>>8&255),l[h++]=255&a;l[h++]=0}if(this.d.comment){for(u=0,c=m.length;u<c;++u)255<(a=m.charCodeAt(u))&&(l[h++]=a>>>8&255),l[h++]=255&a;l[h++]=0}return this.d.fhcrc&&(i=65535&f(l,0,h),l[h++]=255&i,l[h++]=i>>>8&255),this.e.outputBuffer=l,this.e.outputIndex=h,l=(s=new g(p,this.e)).g(),h=s.c,r&&(h+8>l.buffer.byteLength?(this.a=new Uint8Array(h+8),this.a.set(new Uint8Array(l.buffer)),l=this.a):l=new Uint8Array(l.buffer)),o=f(p,t,t),l[h++]=255&o,l[h++]=o>>>8&255,l[h++]=o>>>16&255,l[h++]=o>>>24&255,c=p.length,l[h++]=255&c,l[h++]=c>>>8&255,l[h++]=c>>>16&255,l[h++]=c>>>24&255,this.i=d,r&&h<l.length&&(this.a=l=l.subarray(0,h)),l};var k=255,C=2,D=8,x=16;n("Zlib.Gzip",N),n("Zlib.Gzip.prototype.compress",N.prototype.g)}).call(window);const v_={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]},g_={ordered:!1};class m_ extends class{constructor(t){this.candidate=[],this.callbackRtcDataChannel={onOpen(t,e){},onMessage(t,e){},onClose(t,e){},onError(t,e){}},this.isOffer=t}callbackConnectionStateChange(t,e){}callbackIceConnectionStateChange(t,e){}callbackLocalDescription(t,e){}callbackIceCandidate(t,e){}init(){this.peer=new RTCPeerConnection(v_),this.peer.onconnectionstatechange=t=>{this.onConnectionStateChange(t)},this.peer.oniceconnectionstatechange=t=>{this.onIceConnectionStateChange(t)},this.peer.onicecandidate=t=>{this.onIceCandidate(t)},this.peer.ondatachannel=t=>{this.onDataChannel(t)},this.callbackConnectionStateChange(this,this.peer.connectionState),this.callbackIceConnectionStateChange(this,this.peer.iceConnectionState)}createOffer(t){if(!this.isOffer)throw new Error("createOffer isOffer ="+this.isOffer);this.dataCh=this.peer.createDataChannel("auto",g_),this.dataCh.onopen=t=>{this.callbackRtcDataChannel.onOpen(this,t)},this.dataCh.onmessage=t=>{this.callbackRtcDataChannel.onMessage(this,t)},this.dataCh.onclose=t=>{this.callbackRtcDataChannel.onClose(this,t)},this.dataCh.onerror=t=>{this.callbackRtcDataChannel.onError(this,t)},console.log("createDataChannel"),this.peer.createOffer().then(t=>{this.onLocalDescriptionSucc(t)}).catch(t=>{this.onLocalDescriptionFail(t)}),console.log("createOffer")}onLocalDescriptionSucc(t){console.log("onLocalDescriptionSucc:"+t),this.peer.setLocalDescription(t),this.callbackLocalDescription(this,t)}onLocalDescriptionFail(t){console.log("onLocalDescriptionFail:"+t)}onRemoteDescriptionSucc(){console.log("onRemoteDescriptionSucc"),this.isOffer||(this.peer.createAnswer().then(t=>{this.onLocalDescriptionSucc(t)}).catch(t=>{this.onLocalDescriptionFail(t)}),console.log("createAnswer"))}onRemoteDescriptionFail(t){console.log("onRemoteDescriptionFail:"+t)}close(){this.dataCh&&this.dataCh.close(),this.peer.close()}reset(){this.close(),this.init()}setCallbackRtcDataChannel(t){this.callbackRtcDataChannel=t}setCallbackConnectionStateChange(t){this.callbackConnectionStateChange=t}setCallbackLocalDescription(t){this.callbackLocalDescription=t}setCallbackIceCandidate(t){this.callbackIceCandidate=t}setCallbackIceConnectionStateChange(t){this.callbackIceConnectionStateChange=t}onConnectionStateChange(t){console.log("RTCPeerConnection connectionState="+this.peer.connectionState),this.callbackConnectionStateChange(this,this.peer.connectionState)}onIceConnectionStateChange(t){console.log("RTCPeerConnection iceConnectionState="+this.peer.iceConnectionState),this.callbackIceConnectionStateChange(this,this.peer.iceConnectionState)}onDataChannel(t){console.log("onDataChannel"+t),this.isOffer||(this.dataCh=t.channel,this.dataCh.onopen=t=>{this.callbackRtcDataChannel.onOpen(this,t)},this.dataCh.onmessage=t=>{this.callbackRtcDataChannel.onMessage(this,t)},this.dataCh.onclose=t=>{this.callbackRtcDataChannel.onClose(this,t)},this.dataCh.onerror=t=>{this.callbackRtcDataChannel.onError(this,t)})}onIceCandidate(t){t.candidate&&(console.log("isOffer="+this.isOffer+", Get ICE candidate:"+this.candidate.length+":"+t.candidate),this.candidate.push(t.candidate),this.callbackIceCandidate(this,t.candidate))}setRemoteDescription(t){this.peer.setRemoteDescription(t).then(()=>this.onRemoteDescriptionSucc()).catch(t=>{this.onRemoteDescriptionFail(t)})}addIceCandidate(t){this.peer.addIceCandidate(t).then(t=>this.onAddIceCandidateSucc()).catch(t=>{this.onAddIceCandidateFail(t)})}onAddIceCandidateSucc(){console.log("onAddIceCandidateSucc:")}onAddIceCandidateFail(t){console.log("onAddIceCandidateFail:"+t)}}{constructor(t,e){super(t),this.timestamp=Date.now(),this.txtEnc=new TextEncoder,this.txtDec=new TextDecoder,this.remoteNodeID=e,this.setCallbackRtcDataChannel(this)}callbackOpen(t){}callbackMessage(t,e){}setCallbackOpen(t){this.callbackOpen=t}setCallbackMessage(t){this.callbackMessage=t}onOpen(t,e){console.log("onOpen"),this.callbackOpen(this)}onMessage(t,e){const n=new Uint8Array(e.data),r=new Zlib.Gunzip(n).decompress(),i=this.txtDec.decode(r);console.log("onMessage:"+i),this.callbackMessage(this,i)}onClose(t,e){console.log("onClose")}onError(t,e){console.log("onError")}sendMessage(t){console.log("sendMessage:"+t);const e=this.txtEnc.encode(t),n=new Zlib.Gzip(e).compress();this.dataCh.send(n)}}var y_,b_;(b_=y_||(y_={})).DescOffer="DescOffer",b_.DescAnswer="DescAnswer",b_.IceCandy="IceCandy",b_.Broadcast="Broadcast",b_.LinkUpdate="LinkUpdate";class w_{constructor(t,e,n,r){this.uuid=ia(),this.from=t,this.to=e,this.type=n,this.data=r,this.timestamp=Date.now()}}class __ extends class{constructor(){this.isOnline="null",this.myNodeID=ia(),function(){const t=atob("H4sIAIenfV8A/wVAwQkAIQzbJX8XcAPXsOajYI9Q6ENu9/LwyTctxkJHciqsXUa6Dv4C5BPu/B4AAAA=").split("").map((function(t){return t.charCodeAt(0)})),e=new Zlib.Gunzip(t).decompress(),n=(new TextDecoder).decode(e),r=JSON.parse(n);eu.initializeApp(r)}(),this.db=eu.firestore(),this.collJoinNetwork=this.db.collection("JoinNetwork"),this.collSendData=this.db.collection("SendData")}init(){this.isOnline="init",this.deteleJoinNetwork()}deleteFile(t,e){t.forEach(t=>{e.doc(t.id).delete().then(()=>{console.log(e.id+" successfully deleted!")}).catch(t=>{console.error(e.id+" deleted Error:"+t)})})}deteleJoinNetwork(){const t=h_(6e4),e=this.collJoinNetwork.where("Timestamp","<",t).onSnapshot(t=>{e(),this.isOnline="deteleJoinNetwork",this.deleteFile(t.docs,this.collJoinNetwork),this.deteletSendData()},t=>{console.error("onSnapshotError:"+t)})}deteletSendData(){const t=h_(6e4),e=this.collSendData.where("Timestamp","<",t).onSnapshot(t=>{e(),this.isOnline="deteletSendData",this.deleteFile(t.docs,this.collSendData),this.onDeleted()},t=>{console.error("onSnapshotError:"+t)})}onDeleted(){this.addFileJoinNetwork(),this.snapshot()}addFileJoinNetwork(){var t=new p_(this.myNodeID);this.collJoinNetwork.add(f_(t)).then(t=>{console.log("addFileJoinNetwork Document written with ID: "+t.id)}).catch(t=>{console.error("addFileJoinNetwork Error adding document: "+t)})}addFileSendData(t){this.collSendData.add(f_(t)).then(t=>{console.log("addFileSendData Document written with ID: "+t.id)}).catch(t=>{console.error("addFileSendData Error adding document: "+t)})}snapshot(){this.reSubscribeJoinNetwork(),this.reSubscribeSendData(),this.isOnline="Onine",console.warn("Firebase snapshot")}reSubscribeSendData(){this.unsubscribeSendData&&this.unsubscribeSendData();const t=h_(),e=this.collSendData.where("To","==",this.myNodeID).where("Timestamp",">",t);this.unsubscribeSendData=e.onSnapshot(t=>{this.onSnapshotSendData(t)},t=>{console.error("onSnapshotError:"+t)})}reSubscribeJoinNetwork(){this.unsubscribeJoinNetwork&&this.unsubscribeJoinNetwork();const t=h_(),e=this.collJoinNetwork.where("Timestamp",">",t);this.unsubscribeJoinNetwork=e.onSnapshot(t=>{this.onSnapshotJoinNetwork(t)},t=>{console.error("onSnapshotError:"+t)})}unsubscribe(){this.unsubscribeJoinNetwork&&this.unsubscribeJoinNetwork(),this.unsubscribeJoinNetwork=null,this.unsubscribeSendData&&this.unsubscribeSendData(),this.unsubscribeSendData=null,this.isOnline="Offline",console.warn("Firebase unsubscribe")}onSnapshotJoinNetwork(t){var e=[];t.forEach(t=>{e.push(t.data())}),console.log("onSnapshotJoinNetwork="+e.length),0!=e.length&&(this.reSubscribeJoinNetwork(),this.onNewJoinNetwork(e))}onSnapshotSendData(t){var e=[];t.forEach(t=>{e.push(t.data()),this.collSendData.doc(t.id).delete().then(()=>{console.log("SendData Document successfully deleted!")}).catch(t=>{console.error("query.forEach Error:"+t)})}),console.log("onSnapshotSendData="+e.length),0!=e.length&&this.onNewSendData(e)}onNewJoinNetwork(t){}onNewSendData(t){}}{constructor(){super(),this.connects=[],this.rtcMessages=[],this.isCheckingConnect=!1,this._5_Min=5e4}callbackMessage(t,e){}callbackIceConnectionStateChange(t,e){}onDeleted(){super.onDeleted(),this.timer_5_Min_=setTimeout(()=>{this.timer_5_Min()},this._5_Min)}timer_5_Min(){this.checkFireOnline(null,"timer_5_Min"),this.timer_5_Min_=setTimeout(()=>{this.timer_5_Min()},this._5_Min)}getConnect(t){let e=this.connects.filter(e=>e.remoteNodeID==t);return e.length>0?e[0]:null}hasConnect(t){return this.connects.filter(e=>e.remoteNodeID==t).length>0}onNewJoinNetwork(t){for(const e of t){const t=e.ReqtNodeID;if(t!=this.myNodeID&&!this.hasConnect(t)){const e=new m_(!0,t);this.connects.push(e),this.setConnectCallback(e),e.init(),e.createOffer(ia())}}}setCallbackMessage(t){this.callbackMessage=t}setCallbackIceConnectionStateChange(t){this.callbackIceConnectionStateChange=t}checkFireOnline(t,e){if(this.isCheckingConnect)return;if(this.isCheckingConnect=!0,"failed"==e||"disconnected"==e){t.close();const e=this.connects.indexOf(t);e>-1&&this.connects.splice(e,1)}const n=[];for(const t of this.connects)"new"==t.peer.iceConnectionState&&t.timestamp<Date.now()-6e4&&n.push(t);for(const t of n){const e=this.connects.indexOf(t);e>-1&&this.connects.splice(e,1)}var r=[this.myNodeID],i=!1,o=!1;for(const t of this.connects)"connected"!=t.peer.iceConnectionState&&"completed"!=t.peer.iceConnectionState||r.push(t.remoteNodeID),"new"==t.peer.iceConnectionState&&(i=!0),"checking"==t.peer.iceConnectionState&&(o=!0);0==(r=r.sort()).indexOf(this.myNodeID)?("Onine"!=this.isOnline&&this.snapshot(),"disconnected"!=e||i||this.addFileJoinNetwork()):i||o||this.unsubscribe(),this.isCheckingConnect=!1}onIceConnectionStateChange(t,e){console.log("onIceConnectionStateChange:"+e+", "+t.isOffer),this.checkFireOnline(t,e),console.log("connects.length:"+this.connects.length),this.callbackIceConnectionStateChange(t,e)}setConnectCallback(t){t.setCallbackLocalDescription((t,e)=>{this.onLocalDescription(t,e)}),t.setCallbackIceCandidate((t,e)=>{this.onIceCandidate(t,e)}),t.setCallbackIceConnectionStateChange((t,e)=>{this.onIceConnectionStateChange(t,e)}),t.setCallbackConnectionStateChange((t,e)=>{console.log("onConnectionStateChange:"+e+", "+t.isOffer)}),t.setCallbackOpen(t=>{this.onOpen(t)}),t.setCallbackMessage((t,e)=>{this.onMessage(t,e)})}onNewSendData(t){for(const e of t){const t=e.From,n=JSON.parse(e.data);console.log("TypeSendData="+e.Type);let r=this.getConnect(t);switch(e.Type){case a_.DescOffer:r||(r=new m_(!1,t),this.connects.push(r),this.setConnectCallback(r),r.init()),r.setRemoteDescription(n);break;case a_.DescAnswer:r.setRemoteDescription(n);break;case a_.IceCandy:r.addIceCandidate(n)}}}onLocalDescription(t,e){if(console.log("onLocalDescription:"+t.isOffer),t.isOffer){const n=this.myNodeID,r=t.remoteNodeID,i=a_.DescOffer,o=JSON.stringify(e),s=new d_(n,r,i,o);this.addFileSendData(s)}else{const n=this.myNodeID,r=t.remoteNodeID,i=a_.DescAnswer,o=JSON.stringify(e),s=new d_(n,r,i,o);this.addFileSendData(s)}}onIceCandidate(t,e){console.log("onIceCandidate:"+t.isOffer);const n=this.myNodeID,r=t.remoteNodeID;let i=a_.IceCandy;const o=JSON.stringify(e),s=new d_(n,r,i,o);this.addFileSendData(s)}sendMessage(t){const e=this.myNodeID,n=y_.Broadcast,r=new w_(e,void 0,n,t);this.rtcMessages.push(r);let i=JSON.stringify(r);for(let t=0;t<this.connects.length;t++){const e=this.connects[t];"connected"===e.peer.connectionState&&e.sendMessage(i)}}onOpen(t){console.log("onIceCandidate:"+t.isOffer);const e=this.myNodeID,n=y_.Broadcast,r=new w_(e,void 0,n,"Join");this.rtcMessages.push(r);let i=JSON.stringify(r);for(let t=0;t<this.connects.length;t++){const e=this.connects[t];"connected"===e.peer.connectionState&&e.sendMessage(i)}}onMessage(t,e){const n=JSON.parse(e);if(!(this.rtcMessages.filter(t=>t.uuid==n.uuid).length>0)){switch(this.rtcMessages.push(n),n.type){case y_.Broadcast:this.callbackMessage(t,n)}for(let e=0;e<this.connects.length;e++){const r=this.connects[e];t!=r&&("connected"===r.peer.connectionState&&r.sendMessage(JSON.stringify(n)))}}}}var E_={props:{msg:String}};E_.render=function(t,e,n,r,i,o){return We(),Ke("li",null,[en(u(n.msg),1),nn(" <button v-on:click=\"$emit('remove')\">Remove</button> ")])},E_.__file="src/elements/ChatMessage.vue";var I_={props:{remoteNodeID:String,iceState:String}};I_.render=function(t,e,n,r,i,o){return We(),Ke("li",null,[en(" RemoteID: "+u(n.remoteNodeID)+", IceState: "+u(n.iceState),1),nn(" <button v-on:click=\"$emit('remove')\">Remove</button> ")])},I_.__file="src/elements/ConnectStatus.vue";var T_={components:{ChatMessage:E_,ConnectStatus:I_},props:{},setup(){const t=Xt(!1),e=Xt(""),n=Xt(""),r=Xt([{msg:"Do the WebRtcNetwork"}]),i=Xt([]),o=new __,s=Xt(o.isOnline),a=Xt(oa(o.myNodeID));function u(t,n){console.log("onIceConnectionStateChange:"),s.value=o.isOnline,e.value=o.connects.length,i.value=[];for(const t of o.connects){const e={remoteNodeID:oa(t.remoteNodeID),timestamp:t.timestamp,iceState:t.peer.iceConnectionState};i.value.push(e)}}return o.setCallbackIceConnectionStateChange(u),o.setCallbackMessage((function(t,e){const n=oa(e.from)+":"+e.data;r.value.splice(0,0,{msg:n})})),{isStart:t,myNodeID:a,fireOnline:s,connectCount:e,statuses:i,inputMsg:n,onClick_Start:function(){t.value=!0,o.init(),s.value=o.isOnline},chats:r,sendMsg:function(){u();const t=n.value;o.sendMessage(t),n.value=""}}}};const S_=Ze("br",null,null,-1),A_=Ze("br",null,null,-1),N_=Ze("br",null,null,-1),k_=Ze("label",{for:"Msg-Input"},"Msg:",-1),C_=Ze("button",null,"Send",-1);T_.render=function(t,e,n,r,i,o){const s=Me("ConnectStatus"),a=Me("ChatMessage");return We(),Ke(je,null,[en(" FireOnline: "+u(r.myNodeID)+": "+u(r.fireOnline),1),S_,en(" ConnectsCount:"+u(r.connectCount),1),A_,Ze("ul",null,[(We(!0),Ke(je,null,gr(r.statuses,(t,e)=>(We(),Ke(s,{key:e,remoteNodeID:t.remoteNodeID,iceState:t.iceState},null,8,["remoteNodeID","iceState"]))),128))]),Ze("button",{onClick:e[1]||(e[1]=(...t)=>r.onClick_Start(...t)),disabled:r.isStart},"Start",8,["disabled"]),N_,Ze("form",{onSubmit:e[3]||(e[3]=(c=(...t)=>r.sendMsg(...t),l=["prevent"],(t,...e)=>{for(let e=0;e<l.length;e++){const n=Br[l[e]];if(n&&n(t,l))return}return c(t,...e)}))},[k_,Ln(Ze("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.inputMsg=t),id:"Msg-Input",placeholder:"Message"},null,512),[[Vr,r.inputMsg]]),C_,Ze("ul",null,[(We(!0),Ke(je,null,gr(r.chats,(t,e)=>(We(),Ke(a,{key:e,msg:t.msg},null,8,["msg"]))),128))])],32)],64);var c,l},T_.__file="src/components/WebRtcFireChat.vue";var D_={components:{WebRtcFireChat:T_},props:{},setup:()=>({})};D_.render=function(t,e,n,r,i,o){const s=Me("WebRtcFireChat");return We(),Ke(je,null,[nn(' <img alt="Vue logo" src="./assets/logo.png" /> '),Ze(s)],64)},D_.__file="src/AppWebRtcFireChat.vue",((...t)=>{const e=(Gr||(Gr=Bn(qr))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(S(t)){return document.querySelector(t)}return t}(t);if(!r)return;const i=e._component;T(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r);return r.removeAttribute("v-cloak"),r.setAttribute("data-v-app",""),o},e})(D_).mount("#app");
